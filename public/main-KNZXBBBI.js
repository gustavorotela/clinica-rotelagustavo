var Ob=Object.defineProperty,Fb=Object.defineProperties;var Lb=Object.getOwnPropertyDescriptors;var ky=Object.getOwnPropertySymbols,Vb=Object.getPrototypeOf,Ub=Object.prototype.hasOwnProperty,jb=Object.prototype.propertyIsEnumerable,Bb=Reflect.get;var Oy=(t,e,n)=>e in t?Ob(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})Ub.call(e,n)&&Oy(t,n,e[n]);if(ky)for(var n of ky(e))jb.call(e,n)&&Oy(t,n,e[n]);return t},Ie=(t,e)=>Fb(t,Lb(e));var kn=(t,e,n)=>Bb(Vb(t),n,e);var S=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{c(n.next(u))}catch(l){i(l)}},o=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((n=n.apply(t,e)).next())});var Fy=null;var xl=1,Ly=Symbol("SIGNAL");function oe(t){let e=Fy;return Fy=t,e}var Vy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $b(t){if(!(kl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xl)){if(!t.producerMustRecompute(t)&&!Pl(t)){t.dirty=!1,t.lastCleanEpoch=xl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=xl}}function Uy(t){return t&&(t.nextProducerIndex=0),oe(t)}function jy(t,e){if(oe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(kl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ml(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Pl(t){Ca(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($b(n),r!==n.version))return!0}return!1}function By(t){if(Ca(t),kl(t))for(let e=0;e<t.producerNode.length;e++)Ml(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Ml(t,e){if(Hb(t),Ca(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Ml(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ca(i),i.producerIndexOfThis[r]=e}}function kl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ca(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Hb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function qb(){throw new Error}var zb=qb;function $y(t){zb=t}function U(t){return typeof t=="function"}function Zr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ba=Zr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function lr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(U(r))try{r()}catch(s){e=s instanceof ba?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Hy(s)}catch(o){e=e??[],o instanceof ba?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ba(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Hy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lr(n,e)}remove(e){let{_finalizers:n}=this;n&&lr(n,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var Ol=Ee.EMPTY;function Da(t){return t instanceof Ee||t&&"closed"in t&&U(t.remove)&&U(t.add)&&U(t.unsubscribe)}function Hy(t){U(t)?t():t.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Jr={setTimeout(t,e,...n){let{delegate:r}=Jr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Jr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Sa(t){Jr.setTimeout(()=>{let{onUnhandledError:e}=Rt;if(e)e(t);else throw t})}function As(){}var qy=Fl("C",void 0,void 0);function zy(t){return Fl("E",void 0,t)}function Gy(t){return Fl("N",t,void 0)}function Fl(t,e,n){return{kind:t,value:e,error:n}}var dr=null;function Xr(t){if(Rt.useDeprecatedSynchronousErrorHandling){let e=!dr;if(e&&(dr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=dr;if(dr=null,n)throw r}}else t()}function Wy(t){Rt.useDeprecatedSynchronousErrorHandling&&dr&&(dr.errorThrown=!0,dr.error=t)}var hr=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Da(e)&&e.add(this)):this.destination=Kb}static create(e,n,r){return new ei(e,n,r)}next(e){this.isStopped?Vl(Gy(e),this):this._next(e)}error(e){this.isStopped?Vl(zy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vl(qy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Gb=Function.prototype.bind;function Ll(t,e){return Gb.call(t,e)}var Ul=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Aa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Aa(r)}else Aa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Aa(n)}}},ei=class extends hr{constructor(e,n,r){super();let i;if(U(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Rt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ll(e.next,s),error:e.error&&Ll(e.error,s),complete:e.complete&&Ll(e.complete,s)}):i=e}this.destination=new Ul(i)}};function Aa(t){Rt.useDeprecatedSynchronousErrorHandling?Wy(t):Sa(t)}function Wb(t){throw t}function Vl(t,e){let{onStoppedNotification:n}=Rt;n&&Jr.setTimeout(()=>n(t,e))}var Kb={closed:!0,next:As,error:Wb,complete:As};var ti=typeof Symbol=="function"&&Symbol.observable||"@@observable";function at(t){return t}function jl(...t){return Bl(t)}function Bl(t){return t.length===0?at:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Yb(n)?n:new ei(n,r,i);return Xr(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ky(r),new r((i,s)=>{let o=new ei({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ti](){return this}pipe(...n){return Bl(n)(this)}toPromise(n){return n=Ky(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Ky(t){var e;return(e=t??Rt.Promise)!==null&&e!==void 0?e:Promise}function Qb(t){return t&&U(t.next)&&U(t.error)&&U(t.complete)}function Yb(t){return t&&t instanceof hr||Qb(t)&&Da(t)}function $l(t){return U(t?.lift)}function Q(t){return e=>{if($l(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,n,r,i){return new Hl(t,e,n,r,i)}var Hl=class extends hr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ni(){return Q((t,e)=>{let n=null;t._refCount++;let r=Y(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ri=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,$l(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let n=this.getSubject();e.add(this.source.subscribe(Y(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return ni()(this)}};var Qy=Zr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ye=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ra(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Qy}next(n){Xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ol:(this.currentObservers=null,s.push(n),new Ee(()=>{this.currentObservers=null,lr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new Ra(e,n),t})(),Ra=class extends Ye{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ol}};var Fe=class extends Ye{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ql={now(){return(ql.delegate||Date).now()},delegate:void 0};var Na=class extends Ee{constructor(e,n){super()}schedule(e,n=0){return this}};var Rs={setInterval(t,e,...n){let{delegate:r}=Rs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Rs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ii=class extends Na{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Rs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Rs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var si=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};si.now=ql.now;var oi=class extends si{constructor(e,n=si.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var zl=new oi(ii);var xa=class extends ii{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Pa=class extends oi{};var Gl=new Pa(xa);var ct=new ie(t=>t.complete());function Yy(t){return t&&U(t.schedule)}function Zy(t){return t[t.length-1]}function Jy(t){return U(Zy(t))?t.pop():void 0}function On(t){return Yy(Zy(t))?t.pop():void 0}function Wl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function e_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function Xy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fr(t){return this instanceof fr?(this.v=t,this):new fr(t)}function t_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){r[y]&&(i[y]=function(b){return new Promise(function(A,x){s.push([y,b,A,x])>1||c(y,b)})})}function c(y,b){try{u(r[y](b))}catch(A){p(s[0][3],A)}}function u(y){y.value instanceof fr?Promise.resolve(y.value.v).then(l,f):p(s[0][2],y)}function l(y){c("next",y)}function f(y){c("throw",y)}function p(y,b){y(b),s.shift(),s.length&&c(s[0][0],s[0][1])}}function n_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Xy=="function"?Xy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var Ma=t=>t&&typeof t.length=="number"&&typeof t!="function";function ka(t){return U(t?.then)}function Oa(t){return U(t[ti])}function Fa(t){return Symbol.asyncIterator&&U(t?.[Symbol.asyncIterator])}function La(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Zb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Va=Zb();function Ua(t){return U(t?.[Va])}function ja(t){return t_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield fr(n.read());if(i)return yield fr(void 0);yield yield fr(r)}}finally{n.releaseLock()}})}function Ba(t){return U(t?.getReader)}function Re(t){if(t instanceof ie)return t;if(t!=null){if(Oa(t))return Jb(t);if(Ma(t))return Xb(t);if(ka(t))return eD(t);if(Fa(t))return r_(t);if(Ua(t))return tD(t);if(Ba(t))return nD(t)}throw La(t)}function Jb(t){return new ie(e=>{let n=t[ti]();if(U(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Xb(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function eD(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Sa)})}function tD(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function r_(t){return new ie(e=>{rD(t,e).catch(n=>e.error(n))})}function nD(t){return r_(ja(t))}function rD(t,e){var n,r,i,s;return e_(this,void 0,void 0,function*(){try{for(n=n_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function tt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Fn(t,e=0){return Q((n,r)=>{n.subscribe(Y(r,i=>tt(r,t,()=>r.next(i),e),()=>tt(r,t,()=>r.complete(),e),i=>tt(r,t,()=>r.error(i),e)))})}function Ln(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function i_(t,e){return Re(t).pipe(Ln(e),Fn(e))}function s_(t,e){return Re(t).pipe(Ln(e),Fn(e))}function o_(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function a_(t,e){return new ie(n=>{let r;return tt(n,e,()=>{r=t[Va](),tt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>U(r?.return)&&r.return()})}function $a(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{tt(n,e,()=>{let r=t[Symbol.asyncIterator]();tt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function c_(t,e){return $a(ja(t),e)}function u_(t,e){if(t!=null){if(Oa(t))return i_(t,e);if(Ma(t))return o_(t,e);if(ka(t))return s_(t,e);if(Fa(t))return $a(t,e);if(Ua(t))return a_(t,e);if(Ba(t))return c_(t,e)}throw La(t)}function Ce(t,e){return e?u_(t,e):Re(t)}function $(...t){let e=On(t);return Ce(t,e)}function ai(t,e){let n=U(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function Kl(t){return!!t&&(t instanceof ie||U(t.lift)&&U(t.subscribe))}var dn=Zr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return Q((n,r)=>{let i=0;n.subscribe(Y(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:iD}=Array;function sD(t,e){return iD(e)?t(...e):t(e)}function l_(t){return Z(e=>sD(t,e))}var{isArray:oD}=Array,{getPrototypeOf:aD,prototype:cD,keys:uD}=Object;function d_(t){if(t.length===1){let e=t[0];if(oD(e))return{args:e,keys:null};if(lD(e)){let n=uD(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function lD(t){return t&&typeof t=="object"&&aD(t)===cD}function h_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ha(...t){let e=On(t),n=Jy(t),{args:r,keys:i}=d_(t);if(r.length===0)return Ce([],e);let s=new ie(dD(r,e,i?o=>h_(i,o):at));return n?s.pipe(l_(n)):s}function dD(t,e,n=at){return r=>{f_(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)f_(e,()=>{let l=Ce(t[u],e),f=!1;l.subscribe(Y(r,p=>{s[u]=p,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function f_(t,e,n){t?tt(n,t,e):e()}function p_(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},b=x=>l<r?A(x):u.push(x),A=x=>{s&&e.next(x),l++;let P=!1;Re(n(x,f++)).subscribe(Y(e,B=>{i?.(B),s?b(B):e.next(B)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let B=u.shift();o?tt(e,o,()=>A(B)):A(B)}y()}catch(B){e.error(B)}}))};return t.subscribe(Y(e,b,()=>{p=!0,y()})),()=>{c?.()}}function be(t,e,n=1/0){return U(e)?be((r,i)=>Z((s,o)=>e(r,s,i,o))(Re(t(r,i))),n):(typeof e=="number"&&(n=e),Q((r,i)=>p_(r,i,t,n)))}function Ql(t=1/0){return be(at,t)}function g_(){return Ql(1)}function ci(...t){return g_()(Ce(t,On(t)))}function qa(t){return new ie(e=>{Re(t()).subscribe(e)})}function Nt(t,e){return Q((n,r)=>{let i=0;n.subscribe(Y(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Vn(t){return Q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(Y(n,void 0,void 0,o=>{s=Re(t(o,Vn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function m_(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(Y(o,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function ui(t,e){return U(e)?be(t,e,1):be(t,1)}function Un(t){return Q((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hn(t){return t<=0?()=>ct:Q((e,n)=>{let r=0;e.subscribe(Y(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yl(t){return Z(()=>t)}function za(t=hD){return Q((e,n)=>{let r=!1;e.subscribe(Y(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hD(){return new dn}function Ns(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ht(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,s)=>t(i,s,r)):at,hn(1),n?Un(e):za(()=>new dn))}function li(t){return t<=0?()=>ct:Q((e,n)=>{let r=[];e.subscribe(Y(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Zl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Nt((i,s)=>t(i,s,r)):at,li(1),n?Un(e):za(()=>new dn))}function Jl(t,e){return Q(m_(t,e,arguments.length>=2,!0))}function Xl(...t){let e=On(t);return Q((n,r)=>{(e?ci(t,n,e):ci(t,n)).subscribe(r)})}function xt(t,e){return Q((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(Y(r,u=>{i?.unsubscribe();let l=0,f=s++;Re(t(u,f)).subscribe(i=Y(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function ed(t){return Q((e,n)=>{Re(t).subscribe(Y(n,()=>n.complete(),As)),!n.closed&&e.subscribe(n)})}function De(t,e,n){let r=U(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(Y(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):at}var J_="https://g.co/ng/security#xss",L=class extends Error{constructor(e,n){super(Qd(e,n)),this.code=e}};function Qd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function yc(t){return{toString:t}.toString()}var Ga="__parameters__";function fD(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function pD(t,e,n){return yc(()=>{let r=fD(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let p=u.hasOwnProperty(Ga)?u[Ga]:Object.defineProperty(u,Ga,{value:[]})[Ga];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var xs=globalThis;function fe(t){for(let e in t)if(t[e]===fe)return e;throw Error("Could not find renamed property on target object.")}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function y_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var gD=fe({__forward_ref__:fe});function X_(t){return t.__forward_ref__=X_,t.toString=function(){return ut(this())},t}function _t(t){return ev(t)?t():t}function ev(t){return typeof t=="function"&&t.hasOwnProperty(gD)&&t.__forward_ref__===X_}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _c(t){return __(t,nv)||__(t,rv)}function tv(t){return _c(t)!==null}function __(t,e){return t.hasOwnProperty(e)?t[e]:null}function mD(t){let e=t&&(t[nv]||t[rv]);return e||null}function v_(t){return t&&(t.hasOwnProperty(w_)||t.hasOwnProperty(yD))?t[w_]:null}var nv=fe({\u0275prov:fe}),w_=fe({\u0275inj:fe}),rv=fe({ngInjectableDef:fe}),yD=fe({ngInjectorDef:fe}),V=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function iv(t){return t&&!!t.\u0275providers}var _D=fe({\u0275cmp:fe}),vD=fe({\u0275dir:fe}),wD=fe({\u0275pipe:fe}),ID=fe({\u0275mod:fe}),Ja=fe({\u0275fac:fe}),Ps=fe({__NG_ELEMENT_ID__:fe}),I_=fe({__NG_ENV_ID__:fe});function Yd(t){return typeof t=="string"?t:t==null?"":String(t)}function ED(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Yd(t)}function TD(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,t)}function Zd(t,e){throw new L(-201,!1)}var q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(q||{}),hd;function sv(){return hd}function yt(t){let e=hd;return hd=t,e}function ov(t,e,n){let r=_c(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&q.Optional)return null;if(e!==void 0)return e;Zd(t,"Injector")}var CD={},Ms=CD,fd="__NG_DI_FLAG__",Xa="ngTempTokenPath",bD="ngTokenPath",DD=/\n/gm,SD="\u0275",E_="__source",pi;function AD(){return pi}function jn(t){let e=pi;return pi=t,e}function RD(t,e=q.Default){if(pi===void 0)throw new L(-203,!1);return pi===null?ov(t,void 0,e):pi.get(t,e&q.Optional?null:void 0,e)}function G(t,e=q.Default){return(sv()||RD)(_t(t),e)}function M(t,e=q.Default){return G(t,vc(e))}function vc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pd(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,s=q.Default;for(let o=0;o<r.length;o++){let c=r[o],u=xD(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(G(i,s))}else e.push(G(r))}return e}function ND(t,e){return t[fd]=e,t.prototype[fd]=e,t}function xD(t){return t[fd]}function PD(t,e,n,r){let i=t[Xa];throw e[E_]&&i.unshift(e[E_]),t.message=MD(`
`+t.message,i,n,r),t[bD]=i,t[Xa]=null,t}function MD(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==SD?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ut(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(DD,`
  `)}`}var _e=ND(pD("Optional"),8);function yi(t,e){let n=t.hasOwnProperty(Ja);return n?t[Ja]:null}function Jd(t,e){t.forEach(n=>Array.isArray(n)?Jd(n,e):e(n))}function av(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ec(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var ks={},_i=[],vi=new V(""),cv=new V("",-1),uv=new V(""),tc=class{get(e,n=Ms){if(n===Ms){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}},lv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lv||{}),zt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(zt||{}),Hn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Hn||{});function kD(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function gd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];FD(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function OD(t){return t===3||t===4||t===6}function FD(t){return t.charCodeAt(0)===64}function Xd(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?T_(t,n,i,null,e[++r]):T_(t,n,i,null,null))}}return t}function T_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var dv="ng-template";function LD(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&kD(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(eh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function eh(t){return t.type===4&&t.value!==dv}function VD(t,e,n){let r=t.type===4&&!n?dv:t.value;return e===r}function UD(t,e,n){let r=4,i=t.attrs,s=i!==null?$D(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Pt(r)&&!Pt(u))return!1;if(o&&Pt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!VD(t,u,n)||u===""&&e.length===1){if(Pt(r))return!1;o=!0}}else if(r&8){if(i===null||!LD(t,i,u,n)){if(Pt(r))return!1;o=!0}}else{let l=e[++c],f=jD(u,i,eh(t),n);if(f===-1){if(Pt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Pt(r))return!1;o=!0}}}}return Pt(r)||o}function Pt(t){return(t&1)===0}function jD(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return HD(e,t)}function BD(t,e,n=!1){for(let r=0;r<e.length;r++)if(UD(t,e[r],n))return!0;return!1}function $D(t){for(let e=0;e<t.length;e++){let n=t[e];if(OD(n))return e}return t.length}function HD(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function C_(t,e){return t?":not("+e.trim()+")":e}function qD(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Pt(o)&&(e+=C_(s,i),i=""),r=o,s=s||!Pt(r);n++}return i!==""&&(e+=C_(s,i)),e}function zD(t){return t.map(qD).join(",")}function GD(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Pt(i))break;i=s}r++}return{attrs:e,classes:n}}function wc(t){return yc(()=>{let e=mv(t),n=Ie(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||zt.Emulated,styles:t.styles||_i,_:null,schemas:t.schemas||null,tView:null,id:""});yv(n);let r=t.dependencies;return n.directiveDefs=D_(r,!1),n.pipeDefs=D_(r,!0),n.id=QD(n),n})}function WD(t){return gr(t)||hv(t)}function KD(t){return t!==null}function b_(t,e){if(t==null)return ks;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Hn.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Hn.None?[r,c]:r,e[s]=o):n[s]=r}return n}function th(t){return yc(()=>{let e=mv(t);return yv(e),e})}function gr(t){return t[_D]||null}function hv(t){return t[vD]||null}function fv(t){return t[wD]||null}function pv(t){let e=gr(t)||hv(t)||fv(t);return e!==null?e.standalone:!1}function gv(t,e){let n=t[ID]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function mv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ks,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||_i,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:b_(t.inputs,e),outputs:b_(t.outputs),debugInfo:null}}function yv(t){t.features?.forEach(e=>e(t))}function D_(t,e){if(!t)return null;let n=e?fv:WD;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(KD)}function QD(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nt(t){return{\u0275providers:t}}function YD(...t){return{\u0275providers:_v(!0,t),\u0275fromNgModule:!0}}function _v(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Jd(e,o=>{let c=o;md(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&vv(i,s),n}function vv(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];nh(i,s=>{e(s,r)})}}function md(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,s=v_(t),o=!s&&gr(t);if(!s&&!o){let u=t.ngModule;if(s=v_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)md(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{Jd(s.imports,f=>{md(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&vv(l,e)}if(!c){let l=yi(i)||(()=>new i);e({provide:i,useFactory:l,deps:_i},i),e({provide:uv,useValue:i,multi:!0},i),e({provide:vi,useValue:()=>G(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;nh(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function nh(t,e){for(let n of t)iv(n)&&(n=n.\u0275providers),Array.isArray(n)?nh(n,e):e(n)}var ZD=fe({provide:String,useValue:fe});function wv(t){return t!==null&&typeof t=="object"&&ZD in t}function JD(t){return!!(t&&t.useExisting)}function XD(t){return!!(t&&t.useFactory)}function yd(t){return typeof t=="function"}var Ic=new V(""),Wa={},eS={},td;function rh(){return td===void 0&&(td=new tc),td}var wt=class{},Os=class extends wt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vd(e,o=>this.processProvider(o)),this.records.set(cv,di(void 0,this)),i.has("environment")&&this.records.set(wt,di(void 0,this));let s=this.records.get(Ic);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(uv,_i,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=oe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=jn(this),r=yt(void 0),i;try{return e()}finally{jn(n),yt(r)}}get(e,n=Ms,r=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(I_))return e[I_](this);r=vc(r);let i,s=jn(this),o=yt(void 0);try{if(!(r&q.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=oS(e)&&_c(e);l&&this.injectableDefInScope(l)?u=di(_d(e),Wa):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&q.Self?rh():this.parent;return n=r&q.Optional&&n===Ms?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Xa]=c[Xa]||[]).unshift(ut(e)),s)throw c;return PD(c,e,"R3InjectorError",this.source)}else throw c}finally{yt(o),jn(s)}}resolveInjectorInitializers(){let e=oe(null),n=jn(this),r=yt(void 0),i;try{let s=this.get(vi,_i,q.Self);for(let o of s)o()}finally{jn(n),yt(r),oe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){e=_t(e);let n=yd(e)?e:_t(e&&e.provide),r=nS(e);if(!yd(e)&&e.multi===!0){let i=this.records.get(n);i||(i=di(void 0,Wa,!0),i.factory=()=>pd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=oe(null);try{return n.value===Wa&&(n.value=eS,n.value=n.factory()),typeof n.value=="object"&&n.value&&sS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _d(t){let e=_c(t),n=e!==null?e.factory:yi(t);if(n!==null)return n;if(t instanceof V)throw new L(204,!1);if(t instanceof Function)return tS(t);throw new L(204,!1)}function tS(t){if(t.length>0)throw new L(204,!1);let n=mD(t);return n!==null?()=>n.factory(t):()=>new t}function nS(t){if(wv(t))return di(void 0,t.useValue);{let e=rS(t);return di(e,Wa)}}function rS(t,e,n){let r;if(yd(t)){let i=_t(t);return yi(i)||_d(i)}else if(wv(t))r=()=>_t(t.useValue);else if(XD(t))r=()=>t.useFactory(...pd(t.deps||[]));else if(JD(t))r=()=>G(_t(t.useExisting));else{let i=_t(t&&(t.useClass||t.provide));if(iS(t))r=()=>new i(...pd(t.deps));else return yi(i)||_d(i)}return r}function di(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iS(t){return!!t.deps}function sS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function oS(t){return typeof t=="function"||typeof t=="object"&&t instanceof V}function vd(t,e){for(let n of t)Array.isArray(n)?vd(n,e):n&&iv(n)?vd(n.\u0275providers,e):e(n)}function wr(t,e){t instanceof Os&&t.assertNotDestroyed();let n,r=jn(t),i=yt(void 0);try{return e()}finally{jn(r),yt(i)}}function aS(){return sv()!==void 0||AD()!=null}function cS(t){return typeof t=="function"}var mn=0,z=1,O=2,He=3,kt=4,Lt=5,Fs=6,S_=7,vt=8,wi=9,Ot=10,lt=11,Ls=12,A_=13,Gs=14,Ft=15,Ec=16,hi=17,Ii=18,Tc=19,Iv=20,$n=21,nd=22,mr=23,fn=25,Ev=1;var yr=7,nc=8,rc=9,Ze=10,ih=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ih||{});function gi(t){return Array.isArray(t)&&typeof t[Ev]=="object"}function yn(t){return Array.isArray(t)&&t[Ev]===!0}function Tv(t){return(t.flags&4)!==0}function Cc(t){return t.componentOffset>-1}function Cv(t){return(t.flags&1)===1}function Ws(t){return!!t.template}function uS(t){return(t[O]&512)!==0}var wd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function bv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function bc(){return Dv}function Dv(t){return t.type.prototype.ngOnChanges&&(t.setInput=dS),lS}bc.ngInherit=!0;function lS(){let t=Av(this),e=t?.current;if(e){let n=t.previous;if(n===ks)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function dS(t,e,n,r,i){let s=this.declaredInputs[r],o=Av(t)||hS(t,{previous:ks,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new wd(l&&l.currentValue,n,u===ks),bv(t,e,i,n)}var Sv="__ngSimpleChanges__";function Av(t){return t[Sv]||null}function hS(t,e){return t[Sv]=e}var R_=null;var Bn=function(t,e,n){R_?.(t,e,n)},Rv="svg",fS="math",pS=!1;function gS(){return pS}function pn(t){for(;Array.isArray(t);)t=t[mn];return t}function mS(t,e){return pn(e[t])}function Gt(t,e){return pn(e[t.index])}function sh(t,e){return t.data[e]}function Ci(t,e){let n=e[t];return gi(n)?n:n[mn]}function oh(t){return(t[O]&128)===128}function yS(t){return yn(t[He])}function ic(t,e){return e==null?null:t[e]}function Nv(t){t[hi]=0}function _S(t){t[O]&1024||(t[O]|=1024,oh(t)&&Vs(t))}function ah(t){return!!(t[O]&9216||t[mr]?.dirty)}function Id(t){t[Ot].changeDetectionScheduler?.notify(1),ah(t)?Vs(t):t[O]&64&&(gS()?(t[O]|=1024,Vs(t)):t[Ot].changeDetectionScheduler?.notify())}function Vs(t){t[Ot].changeDetectionScheduler?.notify();let e=Us(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!oh(e)));)e=Us(e)}function xv(t,e){if((t[O]&256)===256)throw new L(911,!1);t[$n]===null&&(t[$n]=[]),t[$n].push(e)}function vS(t,e){if(t[$n]===null)return;let n=t[$n].indexOf(e);n!==-1&&t[$n].splice(n,1)}function Us(t){let e=t[He];return yn(e)?e[He]:e}var te={lFrame:Uv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wS(){return te.lFrame.elementDepthCount}function IS(){te.lFrame.elementDepthCount++}function ES(){te.lFrame.elementDepthCount--}function Pv(){return te.bindingsEnabled}function TS(){return te.skipHydrationRootTNode!==null}function CS(t){return te.skipHydrationRootTNode===t}function bS(){te.skipHydrationRootTNode=null}function Te(){return te.lFrame.lView}function bi(){return te.lFrame.tView}function Gn(){let t=Mv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Mv(){return te.lFrame.currentTNode}function DS(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ks(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function kv(){return te.lFrame.isParent}function SS(){te.lFrame.isParent=!1}function Ov(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function AS(t){return te.lFrame.bindingIndex=t}function ch(){return te.lFrame.bindingIndex++}function RS(){return te.lFrame.inI18n}function NS(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ed(e)}function xS(){return te.lFrame.currentDirectiveIndex}function Ed(t){te.lFrame.currentDirectiveIndex=t}function Fv(t){te.lFrame.currentQueryIndex=t}function PS(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[Lt]:null}function Lv(t,e,n){if(n&q.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&q.Host);)if(i=PS(s),i===null||(s=s[Gs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=Vv();return r.currentTNode=e,r.lView=t,!0}function uh(t){let e=Vv(),n=t[z];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Vv(){let t=te.lFrame,e=t===null?null:t.child;return e===null?Uv(t):e}function Uv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function jv(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Bv=jv;function lh(){let t=jv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Dc(){return te.lFrame.selectedIndex}function _r(t){te.lFrame.selectedIndex=t}function MS(){let t=te.lFrame;return sh(t.tView,t.selectedIndex)}function Di(){te.lFrame.currentNamespace=Rv}function Qs(){kS()}function kS(){te.lFrame.currentNamespace=null}function OS(){return te.lFrame.currentNamespace}var $v=!0;function dh(){return $v}function hh(t){$v=t}function FS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=Dv(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function fh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ka(t,e,n){Hv(t,e,3,n)}function Qa(t,e,n,r){(t[O]&3)===n&&Hv(t,e,n,r)}function rd(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function Hv(t,e,n,r){let i=r!==void 0?t[hi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[hi]+=65536),(c<s||s==-1)&&(LS(t,n,e,u),t[hi]=(t[hi]&4294901760)+u+2),u++}function N_(t,e){Bn(4,t,e);let n=oe(null);try{e.call(t)}finally{oe(n),Bn(5,t,e)}}function LS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[O]>>14<t[hi]>>16&&(t[O]&3)===e&&(t[O]+=16384,N_(c,s)):N_(c,s)}var mi=-1,js=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function VS(t){return t instanceof js}function US(t){return(t.flags&8)!==0}function jS(t){return(t.flags&16)!==0}function qv(t){return t!==mi}function sc(t){return t&32767}function BS(t){return t>>16}function oc(t,e){let n=BS(t),r=e;for(;n>0;)r=r[Gs],n--;return r}var Td=!0;function x_(t){let e=Td;return Td=t,e}var $S=256,zv=$S-1,Gv=5,HS=0,qt={};function qS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ps)&&(r=n[Ps]),r==null&&(r=n[Ps]=HS++);let i=r&zv,s=1<<i;e.data[t+(i>>Gv)]|=s}function Wv(t,e){let n=Kv(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,id(r.data,t),id(e,null),id(r.blueprint,null));let i=ph(t,e),s=t.injectorIndex;if(qv(i)){let o=sc(i),c=oc(i,e),u=c[z].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function id(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Kv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ph(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Xv(i),r===null)return mi;if(n++,i=i[Gs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return mi}function zS(t,e,n){qS(t,e,n)}function Qv(t,e,n){if(n&q.Optional||t!==void 0)return t;Zd(e,"NodeInjector")}function Yv(t,e,n,r){if(n&q.Optional&&r===void 0&&(r=null),!(n&(q.Self|q.Host))){let i=t[wi],s=yt(void 0);try{return i?i.get(e,r,n&q.Optional):ov(e,r,n&q.Optional)}finally{yt(s)}}return Qv(r,e,n)}function Zv(t,e,n,r=q.Default,i){if(t!==null){if(e[O]&2048&&!(r&q.Self)){let o=YS(t,e,n,r,qt);if(o!==qt)return o}let s=Jv(t,e,n,r,qt);if(s!==qt)return s}return Yv(e,n,r,i)}function Jv(t,e,n,r,i){let s=KS(n);if(typeof s=="function"){if(!Lv(e,t,r))return r&q.Host?Qv(i,n,r):Yv(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&q.Optional))Zd(n);else return o}finally{Bv()}}else if(typeof s=="number"){let o=null,c=Kv(t,e),u=mi,l=r&q.Host?e[Ft][Lt]:null;for((c===-1||r&q.SkipSelf)&&(u=c===-1?ph(t,e):e[c+8],u===mi||!M_(r,!1)?c=-1:(o=e[z],c=sc(u),e=oc(u,e)));c!==-1;){let f=e[z];if(P_(s,c,f.data)){let p=GS(c,e,n,o,r,l);if(p!==qt)return p}u=e[c+8],u!==mi&&M_(r,e[z].data[c+8]===l)&&P_(s,c,e)?(o=f,c=sc(u),e=oc(u,e)):c=-1}}return i}function GS(t,e,n,r,i,s){let o=e[z],c=o.data[t+8],u=r==null?Cc(c)&&Td:r!=o&&(c.type&3)!==0,l=i&q.Host&&s===c,f=WS(c,o,n,u,l);return f!==null?Bs(e,o,f,c):qt}function WS(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?c:c+f,y=i?c+f:l;for(let b=p;b<y;b++){let A=o[b];if(b<u&&n===A||b>=u&&A.type===n)return b}if(i){let b=o[u];if(b&&Ws(b)&&b.type===n)return u}return null}function Bs(t,e,n,r){let i=t[n],s=e.data;if(VS(i)){let o=i;o.resolving&&TD(ED(s[n]));let c=x_(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?yt(o.injectImpl):null,f=Lv(t,r,q.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&FS(n,s[n],e)}finally{l!==null&&yt(l),x_(c),o.resolving=!1,Bv()}}return i}function KS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ps)?t[Ps]:void 0;return typeof e=="number"?e>=0?e&zv:QS:e}function P_(t,e,n){let r=1<<t;return!!(n[e+(t>>Gv)]&r)}function M_(t,e){return!(t&q.Self)&&!(t&q.Host&&e)}var pr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Zv(this._tNode,this._lView,e,vc(r),n)}};function QS(){return new pr(Gn(),Te())}function gh(t){return yc(()=>{let e=t.prototype.constructor,n=e[Ja]||Cd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ja]||Cd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Cd(t){return ev(t)?()=>{let e=Cd(_t(t));return e&&e()}:yi(t)}function YS(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[O]&2048&&!(o[O]&512);){let c=Jv(s,o,n,r|q.Self,qt);if(c!==qt)return c;let u=s.parent;if(!u){let l=o[Iv];if(l){let f=l.get(n,qt,r);if(f!==qt)return f}u=Xv(o),o=o[Gs]}s=u}return i}function Xv(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[Lt]:null}function k_(t,e=null,n=null,r){let i=ew(t,e,n,r);return i.resolveInjectorInitializers(),i}function ew(t,e=null,n=null,r,i=new Set){let s=[n||_i,YD(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new Os(s,e||rh(),r||null,i)}var Je=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return k_({name:""},i,r,"");{let s=r.name??"";return k_({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ms,e.NULL=new tc,e.\u0275prov=j({token:e,providedIn:"any",factory:()=>G(cv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var ZS="ngOriginalError";function sd(t){return t[ZS]}var gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&sd(e);for(;n&&sd(n);)n=sd(n);return n||null}},tw=new V("",{providedIn:"root",factory:()=>M(gn).handleError.bind(void 0)}),nw=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),bd=class extends nw{constructor(e){super(),this._lView=e}onDestroy(e){return xv(this._lView,e),()=>vS(this._lView,e)}};function JS(){return new bd(Te())}function XS(){return mh(Gn(),Te())}function mh(t,e){return new Sc(Gt(t,e))}var Sc=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=XS;let t=e;return t})();var Dd=class extends Ye{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,aS()&&(this.destroyRef=M(nw,{optional:!0})??void 0)}emit(e){let n=oe(null);try{super.next(e)}finally{oe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=od(s),i&&(i=od(i)),o&&(o=od(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ee&&e.add(c),c}};function od(t){return e=>{setTimeout(t,void 0,e)}}var Mt=Dd;function rw(t){return(t.flags&128)===128}var iw=new Map,eA=0;function tA(){return eA++}function nA(t){iw.set(t[Tc],t)}function rA(t){iw.delete(t[Tc])}var O_="__ngContext__";function vr(t,e){gi(e)?(t[O_]=e[Tc],nA(e)):t[O_]=e}function sw(t){return aw(t[Ls])}function ow(t){return aw(t[kt])}function aw(t){for(;t!==null&&!yn(t);)t=t[kt];return t}var Sd;function cw(t){Sd=t}function iA(){if(Sd!==void 0)return Sd;if(typeof document<"u")return document;throw new L(210,!1)}var yh=new V("",{providedIn:"root",factory:()=>sA}),sA="ng",_h=new V(""),Wn=new V("",{providedIn:"platform",factory:()=>"unknown"});var vh=new V("",{providedIn:"root",factory:()=>iA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oA="h",aA="b";var cA=()=>null;function wh(t,e,n=!1){return cA(t,e,n)}var uw=!1,uA=new V("",{providedIn:"root",factory:()=>uw});var ac=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${J_})`}};function Ih(t){return t instanceof ac?t.changingThisBreaksApplicationSecurity:t}function lw(t,e){let n=lA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${J_})`)}return n===e}function lA(t){return t instanceof ac&&t.getTypeName()||null}var dA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function dw(t){return t=String(t),t.match(dA)?t:"unsafe:"+t}var Eh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Eh||{});function hw(t){let e=hA();return e?e.sanitize(Eh.URL,t)||"":lw(t,"URL")?Ih(t):dw(Yd(t))}function hA(){let t=Te();return t&&t[Ot].sanitizer}function fw(t){return t instanceof Function?t():t}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ir||{}),fA;function Th(t,e){return fA(t,e)}function fi(t,e,n,r,i){if(r!=null){let s,o=!1;yn(r)?s=r:gi(r)&&(o=!0,r=r[mn]);let c=pn(r);t===0&&n!==null?i==null?yw(e,n,c):cc(e,n,c,i||null,!0):t===1&&n!==null?cc(e,n,c,i||null,!0):t===2?NA(e,c,o):t===3&&e.destroyNode(c),s!=null&&PA(e,t,s,n,i)}}function pA(t,e){return t.createText(e)}function gA(t,e,n){t.setValue(e,n)}function pw(t,e,n){return t.createElement(e,n)}function mA(t,e){gw(t,e),e[mn]=null,e[Lt]=null}function yA(t,e,n,r,i,s){r[mn]=i,r[Lt]=e,Rc(t,r,n,1,i,s)}function gw(t,e){e[Ot].changeDetectionScheduler?.notify(1),Rc(t,e,e[lt],2,null,null)}function _A(t){let e=t[Ls];if(!e)return ad(t[z],t);for(;e;){let n=null;if(gi(e))n=e[Ls];else{let r=e[Ze];r&&(n=r)}if(!n){for(;e&&!e[kt]&&e!==t;)gi(e)&&ad(e[z],e),e=e[He];e===null&&(e=t),gi(e)&&ad(e[z],e),n=e&&e[kt]}e=n}}function vA(t,e,n,r){let i=Ze+r,s=n.length;r>0&&(n[i-1][kt]=e),r<s-Ze?(e[kt]=n[i],av(n,Ze+r,e)):(n.push(e),e[kt]=null),e[He]=n;let o=e[Ec];o!==null&&n!==o&&wA(o,e);let c=e[Ii];c!==null&&c.insertView(t),Id(e),e[O]|=128}function wA(t,e){let n=t[rc],i=e[He][He][Ft];e[Ft]!==i&&(t[O]|=ih.HasTransplantedViews),n===null?t[rc]=[e]:n.push(e)}function mw(t,e){let n=t[rc],r=n.indexOf(e);n.splice(r,1)}function $s(t,e){if(t.length<=Ze)return;let n=Ze+e,r=t[n];if(r){let i=r[Ec];i!==null&&i!==t&&mw(i,r),e>0&&(t[n-1][kt]=r[kt]);let s=ec(t,Ze+e);mA(r[z],r);let o=s[Ii];o!==null&&o.detachView(s[z]),r[He]=null,r[kt]=null,r[O]&=-129}return r}function Ac(t,e){if(!(e[O]&256)){let n=e[lt];n.destroyNode&&Rc(t,e,n,3,null,null),_A(e)}}function ad(t,e){if(e[O]&256)return;let n=oe(null);try{e[O]&=-129,e[O]|=256,e[mr]&&By(e[mr]),EA(t,e),IA(t,e),e[z].type===1&&e[lt].destroy();let r=e[Ec];if(r!==null&&yn(e[He])){r!==e[He]&&mw(r,e);let i=e[Ii];i!==null&&i.detachView(t)}rA(e)}finally{oe(n)}}function IA(t,e){let n=t.cleanup,r=e[S_];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[S_]=null);let i=e[$n];if(i!==null){e[$n]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function EA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof js)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Bn(4,c,u);try{u.call(c)}finally{Bn(5,c,u)}}else{Bn(4,i,s);try{s.call(i)}finally{Bn(5,i,s)}}}}}function TA(t,e,n){return CA(t,e.parent,n)}function CA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[mn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===zt.None||s===zt.Emulated)return null}return Gt(r,n)}}function cc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yw(t,e,n){t.appendChild(e,n)}function F_(t,e,n,r,i){r!==null?cc(t,e,n,r,i):yw(t,e,n)}function bA(t,e,n,r){t.removeChild(e,n,r)}function Ch(t,e){return t.parentNode(e)}function DA(t,e){return t.nextSibling(e)}function SA(t,e,n){return RA(t,e,n)}function AA(t,e,n){return t.type&40?Gt(t,n):null}var RA=AA,L_;function bh(t,e,n,r){let i=TA(t,r,e),s=e[lt],o=r.parent||e[Lt],c=SA(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)F_(s,i,n[u],c,!1);else F_(s,i,n,c,!1);L_!==void 0&&L_(s,r,e,n,i)}function Ya(t,e){if(e!==null){let n=e.type;if(n&3)return Gt(e,t);if(n&4)return Ad(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ya(t,r);{let i=t[e.index];return yn(i)?Ad(-1,i):pn(i)}}else{if(n&32)return Th(e,t)()||pn(t[e.index]);{let r=_w(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Us(t[Ft]);return Ya(i,r)}else return Ya(t,e.next)}}}return null}function _w(t,e){if(e!==null){let r=t[Ft][Lt],i=e.projection;return r.projection[i]}return null}function Ad(t,e){let n=Ze+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return Ya(r,i)}return e[yr]}function NA(t,e,n){let r=Ch(t,e);r&&bA(t,r,e,n)}function Dh(t,e,n,r,i,s,o){for(;n!=null;){let c=r[n.index],u=n.type;if(o&&e===0&&(c&&vr(pn(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Dh(t,e,n.child,r,i,s,!1),fi(e,t,i,c,s);else if(u&32){let l=Th(n,r),f;for(;f=l();)fi(e,t,i,f,s);fi(e,t,i,c,s)}else u&16?xA(t,e,r,n,i,s):fi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function Rc(t,e,n,r,i,s){Dh(n,r,t.firstChild,e,i,s,!1)}function xA(t,e,n,r,i,s){let o=n[Ft],u=o[Lt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];fi(e,t,i,f,s)}else{let l=u,f=o[He];rw(r)&&(l.flags|=128),Dh(t,e,l,f,i,s,!0)}}function PA(t,e,n,r,i){let s=n[yr],o=pn(n);s!==o&&fi(e,t,r,s,i);for(let c=Ze;c<n.length;c++){let u=n[c];Rc(u[z],u,t,e,r,s)}}function MA(t,e,n){t.setAttribute(e,"style",n)}function vw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ww(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&gd(t,e,r),i!==null&&vw(t,e,i),s!==null&&MA(t,e,s)}var Ys={};function Nc(t=1){Iw(bi(),Te(),Dc()+t,!1)}function Iw(t,e,n,r){if(!r)if((e[O]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ka(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Qa(e,s,0,n)}_r(n)}function Sh(t,e=q.Default){let n=Te();if(n===null)return G(t,e);let r=Gn();return Zv(r,n,_t(t),e)}function Ew(t,e,n,r,i,s){let o=oe(null);try{let c=null;i&Hn.SignalBased&&(c=e[r][Ly]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Hn.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):bv(e,c,r,s)}finally{oe(o)}}function kA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)_r(~i);else{let s=i,o=n[++r],c=n[++r];NS(o,s);let u=e[s];c(2,u)}}}finally{_r(-1)}}function xc(t,e,n,r,i,s,o,c,u,l,f){let p=e.blueprint.slice();return p[mn]=i,p[O]=r|4|128|8|64,(l!==null||t&&t[O]&2048)&&(p[O]|=2048),Nv(p),p[He]=p[Gs]=t,p[vt]=n,p[Ot]=o||t&&t[Ot],p[lt]=c||t&&t[lt],p[wi]=u||t&&t[wi]||null,p[Lt]=s,p[Tc]=tA(),p[Fs]=f,p[Iv]=l,p[Ft]=e.type==2?t[Ft]:p,p}function Pc(t,e,n,r,i){let s=t.data[e];if(s===null)s=OA(t,e,n,r,i),RS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=DS();s.injectorIndex=o===null?-1:o.injectorIndex}return Ks(s,!0),s}function OA(t,e,n,r,i){let s=Mv(),o=kv(),c=o?s:s&&s.parent,u=t.data[e]=jA(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function Tw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Cw(t,e,n,r,i){let s=Dc(),o=r&2;try{_r(-1),o&&e.length>fn&&Iw(t,e,fn,!1),Bn(o?2:0,i),n(r,i)}finally{_r(s),Bn(o?3:1,i)}}function bw(t,e,n){if(Tv(e)){let r=oe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{oe(r)}}}function Dw(t,e,n){Pv()&&(WA(t,e,n,Gt(n,e)),(n.flags&64)===64&&xw(t,e,n))}function Sw(t,e,n=Gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function Aw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ah(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ah(t,e,n,r,i,s,o,c,u,l,f){let p=fn+r,y=p+i,b=FA(p,y),A=typeof l=="function"?l():l;return b[z]={type:t,blueprint:b,template:n,queries:null,viewQuery:c,declTNode:e,data:b.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function FA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ys);return n}function LA(t,e,n,r){let s=r.get(uA,uw)||n===zt.ShadowDom,o=t.selectRootElement(e,s);return VA(o),o}function VA(t){UA(t)}var UA=()=>null;function jA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return TS()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function V_(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Hn.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?U_(r,n,l,c,u):U_(r,n,l,c)}return r}function U_(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function BA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],y=n?n.get(p):null,b=y?y.inputs:null,A=y?y.outputs:null;u=V_(0,p.inputs,f,u,b),l=V_(1,p.outputs,f,l,A);let x=u!==null&&o!==null&&!eh(e)?nR(u,f,o):null;c.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function $A(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function HA(t,e,n,r,i,s,o,c){let u=Gt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Rh(t,n,f,r,i),Cc(e)&&qA(n,e.index)):e.type&3?(r=$A(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function qA(t,e){let n=Ci(e,t);n[O]&16||(n[O]|=64)}function Rw(t,e,n,r){if(Pv()){let i=r===null?null:{"":-1},s=QA(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&Nw(t,e,n,o,i,c),i&&YA(n,r,i)}n.mergedAttrs=Xd(n.mergedAttrs,n.attrs)}function Nw(t,e,n,r,i,s){for(let l=0;l<r.length;l++)zS(Wv(n,e),t,r[l].type);JA(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=Tw(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Xd(n.mergedAttrs,f.hostAttrs),XA(t,n,e,u,f),ZA(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}BA(t,n,s)}function zA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;GA(o)!=c&&o.push(c),o.push(n,r,s)}}function GA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function WA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Cc(n)&&eR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wv(n,e),vr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Bs(e,t,c,n);if(vr(l,e),o!==null&&tR(e,c-i,l,u,n,o),Ws(u)){let f=Ci(n.index,e);f[vt]=Bs(e,t,c,n)}}}function xw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=xS();try{_r(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Ed(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&KA(u,l)}}finally{_r(-1),Ed(o)}}function KA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function QA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(BD(e,o.selectors,!1))if(r||(r=[]),Ws(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Rd(t,e,u)}else r.unshift(o),Rd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Rd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function YA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new L(-301,!1);r.push(e[i],s)}}}function ZA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ws(e)&&(n[""]=t)}}function JA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function XA(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=yi(i.type,!0)),o=new js(s,Ws(i),Sh);t.blueprint[r]=o,n[r]=o,zA(t,e,r,Tw(t,n,i.hostVars,Ys),i)}function eR(t,e,n){let r=Gt(e,t),i=Aw(n),s=t[Ot].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=Mc(t,xc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function tR(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],p=o[c++];Ew(r,n,u,l,f,p)}}function nR(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function Pw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Mw(t,e){let n=t.contentQueries;if(n!==null){let r=oe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];Fv(s),c.contentQueries(2,e[o],o)}}}finally{oe(r)}}}function Mc(t,e){return t[Ls]?t[A_][kt]=e:t[Ls]=e,t[A_]=e,e}function Nd(t,e,n){Fv(0);let r=oe(null);try{e(t,n)}finally{oe(r)}}function rR(t,e){let n=t[wi],r=n?n.get(gn,null):null;r&&r.handleError(e)}function Rh(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];Ew(f,l,r,c,u,i)}}function iR(t,e,n){let r=mS(e,t);gA(t[lt],r,n)}function sR(t,e){let n=Ci(e,t),r=n[z];oR(r,n);let i=n[mn];i!==null&&n[Fs]===null&&(n[Fs]=wh(i,n[wi])),Nh(r,n,n[vt])}function oR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Nh(t,e,n){uh(e);try{let r=t.viewQuery;r!==null&&Nd(1,r,n);let i=t.template;i!==null&&Cw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ii]?.finishViewCreation(t),t.staticContentQueries&&Mw(t,e),t.staticViewQueries&&Nd(2,t.viewQuery,n);let s=t.components;s!==null&&aR(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,lh()}}function aR(t,e){for(let n=0;n<e.length;n++)sR(t,e[n])}function kw(t,e,n,r){let i=oe(null);try{let s=e.tView,c=t[O]&4096?4096:16,u=xc(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ec]=l;let f=t[Ii];return f!==null&&(u[Ii]=f.createEmbeddedView(s)),Nh(s,u,n),u}finally{oe(i)}}function cR(t,e){let n=Ze+e;if(n<t.length)return t[n]}function uc(t,e){return!e||e.firstChild===null||rw(t)}function xh(t,e,n,r=!0){let i=e[z];if(vA(i,e,t,n),r){let o=Ad(n,t),c=e[lt],u=Ch(c,t[yr]);u!==null&&yA(i,t[Lt],c,e,u,o)}let s=e[Fs];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function uR(t,e){let n=$s(t,e);return n!==void 0&&Ac(n[z],n),n}function lc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(pn(s)),yn(s)&&lR(s,r);let o=n.type;if(o&8)lc(t,e,n.child,r);else if(o&32){let c=Th(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=_w(e,n);if(Array.isArray(c))r.push(...c);else{let u=Us(e[Ft]);lc(u[z],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function lR(t,e){for(let n=Ze;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&lc(r[z],r,i,e)}t[yr]!==t[mn]&&e.push(t[yr])}var Ow=[];function dR(t){return t[mr]??hR(t)}function hR(t){let e=Ow.pop()??Object.create(pR);return e.lView=t,e}function fR(t){t.lView[mr]!==t&&(t.lView=null,Ow.push(t))}var pR=Ie(k({},Vy),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Vs(t.lView)},consumerOnSignalRead(){this.lView[mr]=this}}),Fw=100;function Lw(t,e=!0,n=0){let r=t[Ot],i=r.rendererFactory,s=!1;s||i.begin?.();try{gR(t,n)}catch(o){throw e&&rR(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function gR(t,e){xd(t,e);let n=0;for(;ah(t);){if(n===Fw)throw new L(103,!1);n++,xd(t,1)}}function mR(t,e,n,r){let i=e[O];if((i&256)===256)return;let s=!1;!s&&e[Ot].inlineEffectRunner?.flush(),uh(e);let o=null,c=null;!s&&yR(t)&&(c=dR(e),o=Uy(c));try{Nv(e),AS(t.bindingStartIndex),n!==null&&Cw(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&Ka(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Qa(e,p,0,null),rd(e,0)}if(_R(e),Vw(e,0),t.contentQueries!==null&&Mw(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&Ka(e,p)}else{let p=t.contentHooks;p!==null&&Qa(e,p,1),rd(e,1)}kA(t,e);let l=t.components;l!==null&&jw(e,l,0);let f=t.viewQuery;if(f!==null&&Nd(2,f,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&Ka(e,p)}else{let p=t.viewHooks;p!==null&&Qa(e,p,2),rd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[nd]){for(let p of e[nd])p();e[nd]=null}s||(e[O]&=-73)}catch(u){throw Vs(e),u}finally{c!==null&&(jy(c,o),fR(c)),lh()}}function yR(t){return t.type!==2}function Vw(t,e){for(let n=sw(t);n!==null;n=ow(n))for(let r=Ze;r<n.length;r++){let i=n[r];Uw(i,e)}}function _R(t){for(let e=sw(t);e!==null;e=ow(e)){if(!(e[O]&ih.HasTransplantedViews))continue;let n=e[rc];for(let r=0;r<n.length;r++){let i=n[r],s=i[He];_S(i)}}}function vR(t,e,n){let r=Ci(e,t);Uw(r,n)}function Uw(t,e){oh(t)&&xd(t,e)}function xd(t,e){let r=t[z],i=t[O],s=t[mr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Pl(s)),s&&(s.dirty=!1),t[O]&=-9217,o)mR(r,t,r.template,t[vt]);else if(i&8192){Vw(t,1);let c=r.components;c!==null&&jw(t,c,1)}}function jw(t,e,n){for(let r=0;r<e.length;r++)vR(t,e[r],n)}function Bw(t){for(t[Ot].changeDetectionScheduler?.notify();t;){t[O]|=64;let e=Us(t);if(uS(t)&&!e)return t;t=e}return null}var Ei=class{get rootNodes(){let e=this._lView,n=e[z];return lc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vt]}set context(e){this._lView[vt]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(yn(e)){let n=e[nc],r=n?n.indexOf(this):-1;r>-1&&($s(e,r),ec(n,r))}this._attachedToViewContainer=!1}Ac(this._lView[z],this._lView)}onDestroy(e){xv(this._lView,e)}markForCheck(){Bw(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){Id(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,Lw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,gw(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e,Id(this._lView)}};var E$=new RegExp(`^(\\d+)*(${aA}|${oA})*(.*)`);var wR=()=>null;function dc(t,e){return wR(t,e)}var Pd=class{},Md=class{},hc=class{};function IR(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[ER]=t,e}var ER="ngComponent";var kd=class{resolveComponentFactory(e){throw IR(e)}},kc=(()=>{let e=class e{};e.NULL=new kd;let t=e;return t})(),Hs=class{};var TR=(()=>{let e=class e{};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),cd={};var j_=new Set;function Ph(t){j_.has(t)||(j_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function B_(...t){}function CR(){let t=typeof xs.requestAnimationFrame=="function",e=xs[t?"requestAnimationFrame":"setTimeout"],n=xs[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var se=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=CR().nativeRequestAnimationFrame,SR(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,bR,B_,B_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},bR={};function Mh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function DR(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(xs,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Od(t),t.isCheckStableRunning=!0,Mh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Od(t))}function SR(t){let e=()=>{DR(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,c)=>{if(AR(c))return n.invokeTask(i,s,o,c);try{return $_(t),n.invokeTask(i,s,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),H_(t)}},onInvoke:(n,r,i,s,o,c,u)=>{try{return $_(t),n.invoke(i,s,o,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),H_(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Od(t),Mh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Od(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function H_(t){t._nesting--,Mh(t)}function AR(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var $w=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=j({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Fd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=y_(i,c);else if(s==2){let u=c,l=e[++o];r=y_(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var fc=class extends kc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=gr(e);return new qs(n,this.ngModule)}};function q_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function RR(t){let e=t.toLowerCase();return e==="svg"?Rv:e==="math"?fS:null}var Ld=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vc(r);let i=this.injector.get(e,cd,r);return i!==cd||n===cd?i:this.parentInjector.get(e,n,r)}},qs=class extends hc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=q_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return q_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=zD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=oe(null);try{i=i||this.ngModule;let o=i instanceof wt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Ld(e,o):e,u=c.get(Hs,null);if(u===null)throw new L(407,!1);let l=c.get(TR,null),f=c.get($w,null),p=c.get(Pd,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},b=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=r?LA(b,r,this.componentDef.encapsulation,c):pw(b,A,RR(A)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let B=null;x!==null&&(B=wh(x,c,!0));let ge=Ah(0,null,null,1,0,null,null,null,null,null,null),W=xc(null,ge,null,P,null,null,y,b,c,null,B);uh(W);let ue,ke;try{let de=this.componentDef,I,m=null;de.findHostDirectiveDefs?(I=[],m=new Map,de.findHostDirectiveDefs(de,I,m),I.push(de)):I=[de];let v=NR(W,x),w=xR(v,x,de,I,W,y,b);ke=sh(ge,fn),x&&kR(b,de,x,r),n!==void 0&&OR(ke,this.ngContentSelectors,n),ue=MR(w,de,I,m,W,[FR]),Nh(ge,W,null)}finally{lh()}return new Vd(this.componentType,ue,mh(ke,W),W,ke)}finally{oe(s)}}},Vd=class extends Md{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ei(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Rh(s[z],s,i,e,n),this.previousInputValues.set(e,n);let o=Ci(this._tNode.index,s);Bw(o)}}get injector(){return new pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function NR(t,e){let n=t[z],r=fn;return t[r]=e,Pc(n,r,2,"#host",null)}function xR(t,e,n,r,i,s,o){let c=i[z];PR(r,t,e,o);let u=null;e!==null&&(u=wh(e,i[wi]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=xc(i,Aw(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Rd(c,t,r.length-1),Mc(i,p),i[t.index]=p}function PR(t,e,n,r){for(let i of t)e.mergedAttrs=Xd(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Fd(e,e.mergedAttrs,!0),n!==null&&ww(r,n,e))}function MR(t,e,n,r,i,s){let o=Gn(),c=i[z],u=Gt(o,i);Nw(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,y=Bs(i,c,p,o);vr(y,i)}xw(c,i,o),u&&vr(u,i);let l=Bs(i,c,o.directiveStart+o.componentOffset,o);if(t[vt]=i[vt]=l,s!==null)for(let f of s)f(l,e);return bw(c,o,i),l}function kR(t,e,n,r){if(r)gd(t,n,["ng-version","17.3.10"]);else{let{attrs:i,classes:s}=GD(e.selectors[0]);i&&gd(t,n,i),s&&s.length>0&&vw(t,n,s.join(" "))}}function OR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function FR(){let t=Gn();fh(Te()[z],t)}var Oc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LR;let t=e;return t})();function LR(){let t=Gn();return UR(t,Te())}var VR=Oc,Hw=class extends VR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return mh(this._hostTNode,this._hostLView)}get injector(){return new pr(this._hostTNode,this._hostLView)}get parentInjector(){let e=ph(this._hostTNode,this._hostLView);if(qv(e)){let n=oc(e,this._hostLView),r=sc(e),i=n[z].data[r+8];return new pr(i,n)}else return new pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=z_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ze}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=dc(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,uc(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!cS(e),c;if(o)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new qs(gr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let x=(o?l:this.parentInjector).get(wt,null);x&&(s=x)}let f=gr(u.componentType??{}),p=dc(this._lContainer,f?.id??null),y=p?.firstChild??null,b=u.create(l,i,y,s);return this.insertImpl(b.hostView,c,uc(this._hostTNode,p)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(yS(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[He],l=new Hw(u,u[Lt],u[He]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return xh(o,i,s,r),e.attachToViewContainerRef(),av(ud(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=z_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=$s(this._lContainer,n);r&&(ec(ud(this._lContainer),n),Ac(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=$s(this._lContainer,n);return r&&ec(ud(this._lContainer),n)!=null?new Ei(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function z_(t){return t[nc]}function ud(t){return t[nc]||(t[nc]=[])}function UR(t,e){let n,r=e[t.index];return yn(r)?n=r:(n=Pw(r,e,null,t),e[t.index]=n,Mc(e,n)),BR(n,e,t,r),new Hw(n,t,e)}function jR(t,e){let n=t[lt],r=n.createComment(""),i=Gt(e,t),s=Ch(n,i);return cc(n,s,r,DA(n,i),!1),r}var BR=qR,$R=()=>!1;function HR(t,e,n){return $R(t,e,n)}function qR(t,e,n,r){if(t[yr])return;let i;n.type&8?i=pn(r):i=jR(e,n),t[yr]=i}var qn=class{},zs=class{};var Ud=class extends qn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fc(this);let i=gv(e);this._bootstrapComponents=fw(i.bootstrap),this._r3Injector=ew(e,n,[{provide:qn,useValue:this},{provide:kc,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jd=class extends zs{constructor(e){super(),this.moduleType=e}create(e){return new Ud(this.moduleType,e,[])}};var pc=class extends qn{constructor(e){super(),this.componentFactoryResolver=new fc(this),this.instance=null;let n=new Os([...e.providers,{provide:qn,useValue:this},{provide:kc,useValue:this.componentFactoryResolver}],e.parent||rh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kh(t,e,n=null){return new pc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Fc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qw(t,e,n){return t[e]=n}function zw(t,e){return t[e]}function Ti(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function G_(t,e,n,r){let i=Ti(t,e,n);return Ti(t,e+1,r)||i}function zR(t,e,n,r,i,s){let o=G_(t,e,n,r);return G_(t,e+2,i,s)||o}function GR(t){return(t.flags&32)===32}function WR(t,e,n,r,i,s,o,c,u){let l=e.consts,f=Pc(e,t,4,o||null,ic(l,c));Rw(e,n,f,ic(l,u)),fh(e,f);let p=f.tView=Ah(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Bd(t,e,n,r,i,s,o,c){let u=Te(),l=bi(),f=t+fn,p=l.firstCreatePass?WR(f,l,u,e,n,r,i,s,o):l.data[f];Ks(p,!1);let y=KR(l,u,p,t);dh()&&bh(l,u,y,p),vr(y,u);let b=Pw(y,u,y,p);return u[f]=b,Mc(u,b),HR(b,p,u),Cv(p)&&Dw(l,u,p),o!=null&&Sw(u,p,c),Bd}var KR=QR;function QR(t,e,n,r){return hh(!0),e[lt].createComment("")}function YR(t,e,n,r){return Ti(t,ch(),n)?e+Yd(n)+r:Ys}function Oh(t,e,n){let r=Te(),i=ch();if(Ti(r,i,e)){let s=bi(),o=MS();HA(s,o,r,t,e,r[lt],n,!1)}return Oh}function W_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Rh(t,n,s[o],o,r)}var $d=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function ld(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function ZR(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=t.at(s),l=e[s],f=ld(s,u,s,l,n);if(f!==0){f<0&&t.updateValue(s,l),s++;continue}let p=t.at(o),y=e[c],b=ld(o,p,c,y,n);if(b!==0){b<0&&t.updateValue(o,y),o--,c--;continue}let A=n(s,u),x=n(o,p),P=n(s,l);if(Object.is(P,x)){let B=n(c,y);Object.is(B,A)?(t.swap(s,o),t.updateValue(o,y),c--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(r??=new gc,i??=Q_(t,s,o,n),Hd(t,r,s,P))t.updateValue(s,l),s++,o++;else if(i.has(P))r.set(A,t.detach(s)),o--;else{let B=t.create(s,e[s]);t.attach(s,B),s++,o++}}for(;s<=c;)K_(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let l=t.at(s),f=u.value,p=ld(s,l,s,f,n);if(p!==0)p<0&&t.updateValue(s,f),s++,u=c.next();else{r??=new gc,i??=Q_(t,s,o,n);let y=n(s,f);if(Hd(t,r,s,y))t.updateValue(s,f),s++,o++,u=c.next();else if(!i.has(y))t.attach(s,t.create(s,f)),s++,o++,u=c.next();else{let b=n(s,l);r.set(b,t.detach(s)),o--}}}for(;!u.done;)K_(t,r,n,t.length,u.value),u=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function Hd(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function K_(t,e,n,r,i){if(Hd(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function Q_(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var gc=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};var qd=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ze}};var zd=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Gw(t,e,n,r,i,s,o,c,u,l,f,p,y){Ph("NgControlFlow");let b=u!==void 0,A=Te(),x=c?o.bind(A[Ft][vt]):o,P=new zd(b,x);A[fn+t]=P,Bd(t+1,e,n,r,i,s),b&&Bd(t+2,u,l,f,p,y)}var Gd=class extends $d{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ze}at(e){return this.getLView(e)[vt].$implicit}attach(e,n){let r=n[Fs];this.needsIndexUpdate||=e!==this.length,xh(this.lContainer,n,e,uc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,JR(this.lContainer,e)}create(e,n){let r=dc(this.lContainer,this.templateTNode.tView.ssrId);return kw(this.hostLView,this.templateTNode,new qd(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Ac(e[z],e)}updateValue(e,n){this.getLView(e)[vt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[vt].$index=e}getLView(e){return XR(this.lContainer,e)}};function Ww(t){let e=oe(null),n=Dc();try{let r=Te(),i=r[z],s=r[n];if(s.liveCollection===void 0){let c=n+1,u=Y_(r,c),l=Z_(i,c);s.liveCollection=new Gd(u,r,l)}else s.liveCollection.reset();let o=s.liveCollection;if(ZR(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let c=ch(),u=o.length===0;if(Ti(r,c,u)){let l=n+2,f=Y_(r,l);if(u){let p=Z_(i,l),y=dc(f,p.tView.ssrId),b=kw(r,p,void 0,{dehydratedView:y});xh(f,b,0,uc(p,y))}else uR(f,0)}}}finally{oe(e)}}function Y_(t,e){return t[e]}function JR(t,e){return $s(t,e)}function XR(t,e){return cR(t,e)}function Z_(t,e){return sh(t,e)}function e1(t,e,n,r,i,s){let o=e.consts,c=ic(o,i),u=Pc(e,t,2,r,c);return Rw(e,n,u,ic(o,s)),u.attrs!==null&&Fd(u,u.attrs,!1),u.mergedAttrs!==null&&Fd(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Se(t,e,n,r){let i=Te(),s=bi(),o=fn+t,c=i[lt],u=s.firstCreatePass?e1(o,s,i,e,n,r):s.data[o],l=t1(s,i,u,c,e,t);i[o]=l;let f=Cv(u);return Ks(u,!0),ww(c,l,u),!GR(u)&&dh()&&bh(s,i,l,u),wS()===0&&vr(l,i),IS(),f&&(Dw(s,i,u),bw(s,u,i)),r!==null&&Sw(i,u),Se}function Xe(){let t=Gn();kv()?SS():(t=t.parent,Ks(t,!1));let e=t;CS(e)&&bS(),ES();let n=bi();return n.firstCreatePass&&(fh(n,t),Tv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&US(e)&&W_(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jS(e)&&W_(n,e,Te(),e.stylesWithoutHost,!1),Xe}function rt(t,e,n,r){return Se(t,e,n,r),Xe(),rt}var t1=(t,e,n,r,i,s)=>(hh(!0),pw(r,i,OS()));var mc="en-US";var n1=mc;function r1(t){typeof t=="string"&&(n1=t.toLowerCase().replace(/_/g,"-"))}function Lc(t,e=""){let n=Te(),r=bi(),i=t+fn,s=r.firstCreatePass?Pc(r,i,1,e,null):r.data[i],o=i1(r,n,s,e,t);n[i]=o,dh()&&bh(r,n,o,s),Ks(s,!1)}var i1=(t,e,n,r,i)=>(hh(!0),pA(e[lt],r));function Fh(t){return Vc("",t,""),Fh}function Vc(t,e,n){let r=Te(),i=YR(r,t,e,n);return i!==Ys&&iR(r,Dc(),i),Vc}var s1=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=_v(!1,r.type),s=i.length>0?kh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=j({token:e,providedIn:"environment",factory:()=>new e(G(wt))});let t=e;return t})();function Uc(t){Ph("NgStandalone"),t.getStandaloneInjector=e=>e.get(s1).getOrCreateStandaloneInjector(t)}function Si(t,e,n){let r=Ov()+t,i=Te();return i[r]===Ys?qw(i,r,n?e.call(n):e()):zw(i,r)}function Kw(t,e,n,r,i,s,o,c){let u=Ov()+t,l=Te(),f=zR(l,u,n,r,i,s);return Ti(l,u+4,o)||f?qw(l,u+5,c?e.call(c,n,r,i,s,o):e(n,r,i,s,o)):zw(l,u+5)}var zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Qw=new zn("17.3.10"),jc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Yw=new V("");function Zs(t){return!!t&&typeof t.then=="function"}function Zw(t){return!!t&&typeof t.subscribe=="function"}var Jw=new V(""),Xw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=M(Jw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Zs(o))r.push(o);else if(Zw(o)){let c=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lh=new V("");function o1(){$y(()=>{throw new L(600,!1)})}function a1(t){return t.isBoundToModule}function c1(t,e,n){try{let r=n();return Zs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Js=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=M(tw),this.afterRenderEffectManager=M($w),this.externalTestViews=new Set,this.beforeRender=new Ye,this.afterTick=new Ye,this.componentTypes=[],this.components=[],this.isStable=M(Fc).hasPendingTasks.pipe(Z(r=>!r)),this._injector=M(wt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof hc;if(!this._injector.get(Xw).done){let b=!s&&pv(r),A=!1;throw new L(405,A)}let c;s?c=r:c=this._injector.get(kc).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=a1(c)?void 0:this._injector.get(qn),l=i||c.selector,f=c.create(Je.NULL,[],l,u),p=f.location.nativeElement,y=f.injector.get(Yw,null);return y?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),dd(this.components,f),y?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new L(101,!1);let i=oe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,oe(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===Fw)throw new L(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:c,notifyErrorHandler:u}of this._views)u1(c,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Wd(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Wd(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;dd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Lh,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>dd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new L(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function u1(t,e,n){!e&&!Wd(t)||l1(t,n,e)}function Wd(t){return ah(t)}function l1(t,e,n){let r;n?(r=0,t[O]|=1024):t[O]&64?r=0:r=1,Lw(t,e,r)}var Kd=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vh=(()=>{let e=class e{compileModuleSync(r){return new jd(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=gv(r),o=fw(s.declarations).reduce((c,u)=>{let l=gr(u);return l&&c.push(new qs(l)),c},[]);return new Kd(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var d1=(()=>{let e=class e{constructor(){this.zone=M(se),this.applicationRef=M(Js)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function h1(t){return[{provide:se,useFactory:t},{provide:vi,multi:!0,useFactory:()=>{let e=M(d1,{optional:!0});return()=>e.initialize()}},{provide:vi,multi:!0,useFactory:()=>{let e=M(m1);return()=>{e.initialize()}}},{provide:tw,useFactory:f1}]}function f1(){let t=M(se),e=M(gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function p1(t){let e=h1(()=>new se(g1(t)));return nt([[],e])}function g1(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var m1=(()=>{let e=class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=M(se),this.pendingTasks=M(Fc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function y1(){return typeof $localize<"u"&&$localize.locale||mc}var Uh=new V("",{providedIn:"root",factory:()=>M(Uh,q.Optional|q.SkipSelf)||y1()});var eI=new V("");var Za=null;function _1(t=[],e){return Je.create({name:e,providers:[{provide:Ic,useValue:"platform"},{provide:eI,useValue:new Set([()=>Za=null])},...t]})}function v1(t=[]){if(Za)return Za;let e=_1(t);return Za=e,o1(),w1(e),e}function w1(t){t.get(_h,null)?.forEach(n=>n())}var Xs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=I1;let t=e;return t})();function I1(t){return E1(Gn(),Te(),(t&16)===16)}function E1(t,e,n){if(Cc(t)&&!n){let r=Ci(t.index,e);return new Ei(r,r)}else if(t.type&47){let r=e[Ft];return new Ei(r,e)}return null}function tI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=v1(r),s=[p1(),...n||[]],c=new pc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(se);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(gn,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:b=>{l.handleError(b)}})});let p=()=>c.destroy(),y=i.get(eI);return y.add(p),c.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),c1(l,u,()=>{let b=c.get(Xw);return b.runInitializers(),b.donePromise.then(()=>{let A=c.get(Uh,mc);r1(A||mc);let x=c.get(Js);return e!==void 0&&x.bootstrap(e),x})})})}catch(e){return Promise.reject(e)}}var aI=null;function Ai(){return aI}function cI(t){aI??=t}var Bc=class{};var It=new V(""),uI=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>M(D1),providedIn:"platform"});let t=e;return t})();var D1=(()=>{let e=class e extends uI{constructor(){super(),this._doc=M(It),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ai().getBaseHref(this._doc)}onPopState(r){let i=Ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ai().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function lI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function nI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Er(t){return t&&t[0]!=="?"?"?"+t:t}var Hc=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>M(dI),providedIn:"root"});let t=e;return t})(),S1=new V(""),dI=(()=>{let e=class e extends Hc{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??M(It).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return lI(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Er(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let c=this.prepareExternalUrl(s+Er(o));this._platformLocation.pushState(r,i,c)}replaceState(r,i,s,o){let c=this.prepareExternalUrl(s+Er(o));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(uI),G(S1,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var to=(()=>{let e=class e{constructor(r){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=N1(nI(rI(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Er(i))}normalize(r){return e.stripTrailingSlash(R1(this._basePath,rI(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Er(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Er(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Er,e.joinWithSlash=lI,e.stripTrailingSlash=nI,e.\u0275fac=function(i){return new(i||e)(G(Hc))},e.\u0275prov=j({token:e,factory:()=>A1(),providedIn:"root"});let t=e;return t})();function A1(){return new to(G(Hc))}function R1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function rI(t){return t.replace(/\/index.html$/,"")}function N1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function hI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var fI="browser",x1="server";function jh(t){return t===x1}var $c=class{};var Hh=class extends Bc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qh=class t extends Hh{static makeCurrent(){cI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=P1();return n==null?null:M1(n)}resetBaseElement(){no=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hI(document.cookie,e)}},no=null;function P1(){return no=no||document.querySelector("base"),no?no.getAttribute("href"):null}function M1(t){return new URL(t,document.baseURI).pathname}var k1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),zh=new V(""),yI=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new L(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(G(zh),G(se))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),qc=class{constructor(e){this._doc=e}},Bh="ng-app-id",_I=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Bh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Bh),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Bh,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,c=o.get(i)?.elements;c?c.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(G(It),G(yh),G(vh,8),G(Wn))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),$h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wh=/%COMP%/g,vI="%COMP%",O1=`_nghost-${vI}`,F1=`_ngcontent-${vI}`,L1=!0,V1=new V("",{providedIn:"root",factory:()=>L1});function U1(t){return F1.replace(Wh,t)}function j1(t){return O1.replace(Wh,t)}function wI(t,e){return e.map(n=>n.replace(Wh,t))}var pI=(()=>{let e=class e{constructor(r,i,s,o,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=jh(u),this.defaultRenderer=new ro(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zt.ShadowDom&&(i=Ie(k({},i),{encapsulation:zt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof zc?s.applyToHost(r):s instanceof io&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case zt.Emulated:o=new zc(l,f,i,this.appId,p,c,u,y);break;case zt.ShadowDom:return new Gh(l,f,r,i,c,u,this.nonce,y);default:o=new io(l,f,i,p,c,u,y);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(G(yI),G(_I),G(yh),G(V1),G(It),G(Wn),G(se),G(vh))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),ro=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS($h[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(gI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(gI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=$h[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=$h[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ir.DashCase|Ir.Important)?e.style.setProperty(n,r,i&Ir.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ir.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ai().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function gI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gh=class extends ro{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=wI(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},io=class extends ro{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?wI(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zc=class extends io{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=U1(l),this.hostAttr=j1(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},B1=(()=>{let e=class e extends qc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(G(It))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})(),mI=["alt","control","meta","shift"],$1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},q1=(()=>{let e=class e extends qc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ai().onAndCancel(r,o.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),mI.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),c+=f+".")}),c+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let s=$1[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),mI.forEach(c=>{if(c!==s){let u=H1[c];u(r)&&(o+=c+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(G(It))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let t=e;return t})();function II(t,e){return tI(k({rootComponent:t},z1(e)))}function z1(t){return{appProviders:[...Y1,...t?.providers??[]],platformProviders:Q1}}function G1(){qh.makeCurrent()}function W1(){return new gn}function K1(){return cw(document),document}var Q1=[{provide:Wn,useValue:fI},{provide:_h,useValue:G1,multi:!0},{provide:It,useFactory:K1,deps:[]}];var Y1=[{provide:Ic,useValue:"root"},{provide:gn,useFactory:W1,deps:[]},{provide:zh,useClass:B1,multi:!0,deps:[It,se,Wn]},{provide:zh,useClass:q1,multi:!0,deps:[It]},pI,_I,yI,{provide:Hs,useExisting:pI},{provide:$c,useClass:k1,deps:[]},[]];var EI=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(G(It))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H="primary",wo=Symbol("RouteTitle"),Jh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Mi(t){return new Jh(t)}function J1(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function X1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wt(t[n],e[n]))return!1;return!0}function Wt(t,e){let n=t?Xh(t):void 0,r=e?Xh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!AI(t[i],e[i]))return!1;return!0}function Xh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function AI(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function RI(t){return t.length>0?t[t.length-1]:null}function Yn(t){return Kl(t)?t:Zs(t)?Ce(Promise.resolve(t)):$(t)}var eN={exact:xI,subset:PI},NI={exact:tN,subset:nN,ignored:()=>!0};function TI(t,e,n){return eN[n.paths](t.root,e.root,n.matrixParams)&&NI[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function tN(t,e){return Wt(t,e)}function xI(t,e,n){if(!Cr(t.segments,e.segments)||!Kc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!xI(t.children[r],e.children[r],n))return!1;return!0}function nN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>AI(t[n],e[n]))}function PI(t,e,n){return MI(t,e,e.segments,n)}function MI(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Cr(i,n)||e.hasChildren()||!Kc(i,n,r))}else if(t.segments.length===n.length){if(!Cr(t.segments,n)||!Kc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!PI(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Cr(t.segments,i)||!Kc(t.segments,i,r)||!t.children[H]?!1:MI(t.children[H],e,s,r)}}function Kc(t,e,n){return e.every((r,i)=>NI[n](t[i].parameters,r.parameters))}var Kn=class{constructor(e=new ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Mi(this.queryParams),this._queryParamMap}toString(){return sN.serialize(this)}},ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qc(this)}},Tr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Mi(this.parameters),this._parameterMap}toString(){return OI(this)}};function rN(t,e){return Cr(t,e)&&t.every((n,r)=>Wt(n.parameters,e[r].parameters))}function Cr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function iN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var Df=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>new Zc,providedIn:"root"});let t=e;return t})(),Zc=class{parse(e){let n=new tf(e);return new Kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${so(e.root,!0)}`,r=cN(e.queryParams),i=typeof e.fragment=="string"?`#${oN(e.fragment)}`:"";return`${n}${r}${i}`}},sN=new Zc;function Qc(t){return t.segments.map(e=>OI(e)).join("/")}function so(t,e){if(!t.hasChildren())return Qc(t);if(e){let n=t.children[H]?so(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==H&&r.push(`${i}:${so(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=iN(t,(r,i)=>i===H?[so(t.children[H],!1)]:[`${i}:${so(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${Qc(t)}/${n[0]}`:`${Qc(t)}/(${n.join("//")})`}}function kI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gc(t){return kI(t).replace(/%3B/gi,";")}function oN(t){return encodeURI(t)}function ef(t){return kI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yc(t){return decodeURIComponent(t)}function CI(t){return Yc(t.replace(/\+/g,"%20"))}function OI(t){return`${ef(t.path)}${aN(t.parameters)}`}function aN(t){return Object.entries(t).map(([e,n])=>`;${ef(e)}=${ef(n)}`).join("")}function cN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Gc(n)}=${Gc(i)}`).join("&"):`${Gc(n)}=${Gc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var uN=/^[^\/()?;#]+/;function Kh(t){let e=t.match(uN);return e?e[0]:""}var lN=/^[^\/()?;=#]+/;function dN(t){let e=t.match(lN);return e?e[0]:""}var hN=/^[^=?&#]+/;function fN(t){let e=t.match(hN);return e?e[0]:""}var pN=/^[^&#]+/;function gN(t){let e=t.match(pN);return e?e[0]:""}var tf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new ae(e,n)),r}parseSegment(){let e=Kh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Tr(Yc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=dN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kh(this.remaining);i&&(r=i,this.capture(r))}e[Yc(n)]=Yc(r)}parseQueryParam(e){let n=fN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=gN(this.remaining);o&&(r=o,this.capture(r))}let i=CI(n),s=CI(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=H);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[H]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function FI(t){return t.segments.length>0?new ae([],{[H]:t}):t}function LI(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=LI(i);if(r===H&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ae(t.segments,e);return mN(n)}function mN(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new ae(t.segments.concat(e.segments),e.children)}return t}function ki(t){return t instanceof Kn}function yN(t,e,n=null,r=null){let i=VI(t);return UI(i,e,n,r)}function VI(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new ae(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=FI(r);return e??i}function UI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qh(i,i,i,n,r);let s=_N(e);if(s.toRoot())return Qh(i,i,new ae([],{}),n,r);let o=vN(s,i,t),c=o.processChildren?co(o.segmentGroup,o.index,s.commands):BI(o.segmentGroup,o.index,s.commands);return Qh(i,o.segmentGroup,c,n,r)}function Jc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ho(t){return typeof t=="object"&&t!=null&&t.outlets}function Qh(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=jI(t,e,n);let c=FI(LI(o));return new Kn(c,s,i)}function jI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=jI(s,e,n)}),new ae(t.segments,r)}var Xc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Jc(r[0]))throw new L(4003,!1);let i=r.find(ho);if(i&&i!==RI(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _N(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Xc(n,e,r)}var xi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function vN(t,e,n){if(t.isAbsolute)return new xi(e,!0,0);if(!n)return new xi(e,!1,NaN);if(n.parent===null)return new xi(n,!0,0);let r=Jc(t.commands[0])?0:1,i=n.segments.length-1+r;return wN(n,i,t.numberOfDoubleDots)}function wN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new xi(r,!1,i-s)}function IN(t){return ho(t[0])?t[0].outlets:{[H]:t}}function BI(t,e,n){if(t??=new ae([],{}),t.segments.length===0&&t.hasChildren())return co(t,e,n);let r=EN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[H]=new ae(t.segments.slice(r.pathIndex),t.children),co(s,0,i)}else return r.match&&i.length===0?new ae(t.segments,{}):r.match&&!t.hasChildren()?nf(t,e,n):r.match?co(t,0,i):nf(t,e,n)}function co(t,e,n){if(n.length===0)return new ae(t.segments,{});{let r=IN(n),i={};if(Object.keys(r).some(s=>s!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let s=co(t.children[H],e,n);return new ae(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=BI(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ae(t.segments,i)}}function EN(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(ho(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!DI(u,l,o))return s;r+=2}else{if(!DI(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ho(s)){let u=TN(s.outlets);return new ae(r,u)}if(i===0&&Jc(n[0])){let u=t.segments[e];r.push(new Tr(u.path,bI(n[0]))),i++;continue}let o=ho(s)?s.outlets[H]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&Jc(c)?(r.push(new Tr(o,bI(c))),i+=2):(r.push(new Tr(o,{})),i++)}return new ae(r,{})}function TN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=nf(new ae([],{}),0,r))}),e}function bI(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function DI(t,e,n){return t==n.path&&Wt(e,n.parameters)}var uo="imperative",Le=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Le||{}),Et=class{constructor(e,n){this.id=e,this.url=n}},fo=class extends Et{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Le.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},br=class extends Et{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Le.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ht=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ht||{}),rf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rf||{}),Qn=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Le.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dr=class extends Et{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Le.NavigationSkipped}},po=class extends Et{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Le.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},eu=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sf=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},of=class extends Et{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Le.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},af=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cf=class extends Et{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uf=class{constructor(e){this.route=e,this.type=Le.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lf=class{constructor(e){this.route=e,this.type=Le.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},df=class{constructor(e){this.snapshot=e,this.type=Le.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hf=class{constructor(e){this.snapshot=e,this.type=Le.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ff=class{constructor(e){this.snapshot=e,this.type=Le.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pf=class{constructor(e){this.snapshot=e,this.type=Le.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var go=class{},mo=class{constructor(e){this.url=e}};var gf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ou,this.attachRef=null}},ou=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new gf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=mf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=mf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=yf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yf(e,this._root).map(n=>n.value)}};function mf(t,e){if(t===e.value)return e;for(let n of e.children){let r=mf(t,n);if(r)return r}return null}function yf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=yf(t,n);if(r.length)return r.unshift(e),r}return[]}var dt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ni(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var nu=class extends tu{constructor(e,n){super(e),this.snapshot=n,Af(this,e)}toString(){return this.snapshot.toString()}};function $I(t){let e=CN(t),n=new Fe([new Tr("",{})]),r=new Fe({}),i=new Fe({}),s=new Fe({}),o=new Fe(""),c=new Oi(n,r,s,o,i,H,t,e.root);return c.snapshot=e.root,new nu(new dt(c,[]),e)}function CN(t){let e={},n={},r={},i="",s=new yo([],e,r,i,n,H,t,null,{});return new ru("",new dt(s,[]))}var Oi=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[wo]))??$(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Mi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Mi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Sf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&qI(i)&&(r.resolve[wo]=i.title),r}var yo=class{get title(){return this.data?.[wo]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ru=class extends tu{constructor(e,n){super(n),this.url=e,Af(this,n)}toString(){return HI(this._root)}};function Af(t,e){e.value._routerState=t,e.children.forEach(n=>Af(t,n))}function HI(t){let e=t.children.length>0?` { ${t.children.map(HI).join(", ")} } `:"";return`${t.value}${e}`}function Yh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wt(e.params,n.params)||t.paramsSubject.next(n.params),X1(e.url,n.url)||t.urlSubject.next(n.url),Wt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _f(t,e){let n=Wt(t.params,e.params)&&rN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||_f(t.parent,e.parent))}function qI(t){return typeof t.title=="string"||t.title===null}var Rf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=M(ou),this.location=M(Oc),this.changeDetector=M(Xs),this.environmentInjector=M(wt),this.inputBinder=M(Nf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=r;let s=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new vf(r,u,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=th({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bc]});let t=e;return t})(),vf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Oi?this.route:e===ou?this.childContexts:this.parent.get(e,n)}},Nf=new V("");function bN(t,e,n){let r=_o(t,e._root,n?n._root:void 0);return new nu(r,e)}function _o(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=DN(t,e,n);return new dt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>_o(t,c)),o}}let r=SN(e.value),i=e.children.map(s=>_o(t,s));return new dt(r,i)}}function DN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return _o(t,r,i);return _o(t,r)})}function SN(t){return new Oi(new Fe(t.url),new Fe(t.params),new Fe(t.queryParams),new Fe(t.fragment),new Fe(t.data),t.outlet,t.component,t)}var zI="ngNavigationCancelingError";function GI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WI(!1,ht.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function WI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[zI]=!0,n.cancellationCode=e,n}function AN(t){return KI(t)&&ki(t.url)}function KI(t){return!!t&&t[zI]}var RN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=wc({type:e,selectors:[["ng-component"]],standalone:!0,features:[Uc],decls:1,vars:0,template:function(i,s){i&1&&rt(0,"router-outlet")},dependencies:[Rf],encapsulation:2});let t=e;return t})();function NN(t,e){return t.providers&&!t._injector&&(t._injector=kh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function xf(t){let e=t.children&&t.children.map(xf),n=e?Ie(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=RN),n}function Kt(t){return t.outlet||H}function xN(t,e){let n=t.filter(r=>Kt(r)===e);return n.push(...t.filter(r=>Kt(r)!==e)),n}function Io(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var PN=(t,e,n,r)=>Z(i=>(new wf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),wf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ni(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ni(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ni(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ni(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new pf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Yh(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Yh(c.route.value),this.activateChildRoutes(e,null,o.children)}else{let c=Io(i.snapshot);o.attachRef=null,o.route=i,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},iu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Pi=class{constructor(e,n){this.component=e,this.route=n}};function MN(t,e,n){let r=t._root,i=e?e._root:null;return oo(r,i,n,[r.value])}function kN(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Li(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!tv(t)?t:e.get(t):r}function oo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ni(e);return t.children.forEach(o=>{ON(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>lo(c,n.getContext(o),i)),i}function ON(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=FN(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new iu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?oo(t,e,c?c.children:null,r,i):oo(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Pi(c.outlet.component,o))}else o&&lo(e,c,i),i.canActivateChecks.push(new iu(r)),s.component?oo(t,null,c?c.children:null,r,i):oo(t,null,n,r,i);return i}function FN(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Cr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Cr(t.url,e.url)||!Wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_f(t,e)||!Wt(t.queryParams,e.queryParams);case"paramsChange":default:return!_f(t,e)}}function lo(t,e,n){let r=Ni(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?lo(o,e.children.getContext(s),n):lo(o,null,n):lo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Pi(e.outlet.component,i)):n.canDeactivateChecks.push(new Pi(null,i)):n.canDeactivateChecks.push(new Pi(null,i))}function Eo(t){return typeof t=="function"}function LN(t){return typeof t=="boolean"}function VN(t){return t&&Eo(t.canLoad)}function UN(t){return t&&Eo(t.canActivate)}function jN(t){return t&&Eo(t.canActivateChild)}function BN(t){return t&&Eo(t.canDeactivate)}function $N(t){return t&&Eo(t.canMatch)}function QI(t){return t instanceof dn||t?.name==="EmptyError"}var Wc=Symbol("INITIAL_VALUE");function Fi(){return xt(t=>Ha(t.map(e=>e.pipe(hn(1),Xl(Wc)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===Wc)return Wc;if(n===!1||n instanceof Kn)return n}return!0}),Nt(e=>e!==Wc),hn(1)))}function HN(t,e){return be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?$(Ie(k({},n),{guardsResult:!0})):qN(o,r,i,t).pipe(be(c=>c&&LN(c)?zN(r,s,t,e):$(c)),Z(c=>Ie(k({},n),{guardsResult:c})))})}function qN(t,e,n,r){return Ce(t).pipe(be(i=>YN(i.component,i.route,n,e,r)),Ht(i=>i!==!0,!0))}function zN(t,e,n,r){return Ce(e).pipe(ui(i=>ci(WN(i.route.parent,r),GN(i.route,r),QN(t,i.path,n),KN(t,i.route,n))),Ht(i=>i!==!0,!0))}function GN(t,e){return t!==null&&e&&e(new ff(t)),$(!0)}function WN(t,e){return t!==null&&e&&e(new df(t)),$(!0)}function KN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return $(!0);let i=r.map(s=>qa(()=>{let o=Io(e)??n,c=Li(s,o),u=UN(c)?c.canActivate(e,t):wr(o,()=>c(e,t));return Yn(u).pipe(Ht())}));return $(i).pipe(Fi())}function QN(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>kN(o)).filter(o=>o!==null).map(o=>qa(()=>{let c=o.guards.map(u=>{let l=Io(o.node)??n,f=Li(u,l),p=jN(f)?f.canActivateChild(r,t):wr(l,()=>f(r,t));return Yn(p).pipe(Ht())});return $(c).pipe(Fi())}));return $(s).pipe(Fi())}function YN(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return $(!0);let o=s.map(c=>{let u=Io(e)??i,l=Li(c,u),f=BN(l)?l.canDeactivate(t,e,n,r):wr(u,()=>l(t,e,n,r));return Yn(f).pipe(Ht())});return $(o).pipe(Fi())}function ZN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return $(!0);let s=i.map(o=>{let c=Li(o,t),u=VN(c)?c.canLoad(e,n):wr(t,()=>c(e,n));return Yn(u)});return $(s).pipe(Fi(),YI(r))}function YI(t){return jl(De(e=>{if(ki(e))throw GI(t,e)}),Z(e=>e===!0))}function JN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return $(!0);let s=i.map(o=>{let c=Li(o,t),u=$N(c)?c.canMatch(e,n):wr(t,()=>c(e,n));return Yn(u)});return $(s).pipe(Fi(),YI(r))}var vo=class{constructor(e){this.segmentGroup=e||null}},su=class extends Error{constructor(e){super(),this.urlTree=e}};function Ri(t){return ai(new vo(t))}function XN(t){return ai(new L(4e3,!1))}function ex(t){return ai(WI(!1,ht.GuardRejected))}var If=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return $(r);if(i.numberOfChildren>1||!i.children[H])return XN(e.redirectTo);i=i.children[H]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new su(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Kn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ef={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tx(t,e,n,r,i){let s=Pf(t,e,n);return s.matched?(r=NN(e,r),JN(r,e,n,i).pipe(Z(o=>o===!0?s:k({},Ef)))):$(s)}function Pf(t,e,n){if(e.path==="**")return nx(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Ef):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||J1)(n,t,e);if(!i)return k({},Ef);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function nx(t){return{matched:!0,parameters:t.length>0?RI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function SI(t,e,n,r){return n.length>0&&sx(t,n,r)?{segmentGroup:new ae(e,ix(r,new ae(n,t.children))),slicedSegments:[]}:n.length===0&&ox(t,n,r)?{segmentGroup:new ae(t.segments,rx(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ae(t.segments,t.children),slicedSegments:n}}function rx(t,e,n,r){let i={};for(let s of n)if(au(t,e,s)&&!r[Kt(s)]){let o=new ae([],{});i[Kt(s)]=o}return k(k({},r),i)}function ix(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&Kt(r)!==H){let i=new ae([],{});n[Kt(r)]=i}return n}function sx(t,e,n){return n.some(r=>au(t,e,r)&&Kt(r)!==H)}function ox(t,e,n){return n.some(r=>au(t,e,r))}function au(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ax(t,e,n,r){return Kt(t)!==r&&(r===H||!au(e,n,t))?!1:Pf(e,t,n).matched}function cx(t,e,n){return e.length===0&&!t.children[n]}var Tf=class{};function ux(t,e,n,r,i,s,o="emptyOnly"){return new Cf(t,e,n,r,i,o,s).recognize()}var lx=31,Cf=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new If(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=SI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(n=>{let r=new yo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,{},H,this.rootComponentType,null,{}),i=new dt(r,n),s=new ru("",i),o=yN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,H).pipe(Vn(r=>{if(r instanceof su)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Sf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Z(s=>s instanceof dt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Ce(i).pipe(ui(s=>{let o=r.children[s],c=xN(n,s);return this.processSegmentGroup(e,c,o,s)}),Jl((s,o)=>(s.push(...o),s)),Un(null),Zl(),be(s=>{if(s===null)return Ri(r);let o=ZI(s);return dx(o),$(o)}))}processSegment(e,n,r,i,s,o){return Ce(n).pipe(ui(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o).pipe(Vn(u=>{if(u instanceof vo)return $(null);throw u}))),Ht(c=>!!c),Vn(c=>{if(QI(c))return cx(r,i,s)?$(new Tf):Ri(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,c){return ax(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ri(i):Ri(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=Pf(n,i,s);if(!c)return Ri(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lx&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(be(y=>this.processSegment(e,r,n,y.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=tx(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(xt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=c,b=new yo(f,y,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,fx(r),Kt(r),r.component??r._loadedComponent??null,r,px(r)),{segmentGroup:A,slicedSegments:x}=SI(n,f,p,u);if(x.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(Z(B=>B===null?null:new dt(b,B)));if(u.length===0&&x.length===0)return $(new dt(b,[]));let P=Kt(r)===s;return this.processSegment(l,u,A,x,P?H:s,!0).pipe(Z(B=>new dt(b,B instanceof dt?[B]:[])))}))):Ri(n)))}getChildConfig(e,n,r){return n.children?$({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?$({routes:n._loadedRoutes,injector:n._loadedInjector}):ZN(e,n,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(e,n).pipe(De(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):ex(n))):$({routes:[],injector:e})}};function dx(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function hx(t){let e=t.value.routeConfig;return e&&e.path===""}function ZI(t){let e=[],n=new Set;for(let r of t){if(!hx(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ZI(r.children);e.push(new dt(r.value,i))}return e.filter(r=>!n.has(r))}function fx(t){return t.data||{}}function px(t){return t.resolve||{}}function gx(t,e,n,r,i,s){return be(o=>ux(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:c,tree:u})=>Ie(k({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function mx(t,e){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return $(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of JI(u))o.add(l);let c=0;return Ce(o).pipe(ui(u=>s.has(u)?yx(u,r,t,e):(u.data=Sf(u,u.parent,t).resolve,$(void 0))),De(()=>c++),li(1),be(u=>c===o.size?$(n):ct))})}function JI(t){let e=t.children.map(n=>JI(n)).flat();return[t,...e]}function yx(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!qI(i)&&(s[wo]=i.title),_x(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=Sf(t,t.parent,n).resolve,null)))}function _x(t,e,n,r){let i=Xh(t);if(i.length===0)return $({});let s={};return Ce(i).pipe(be(o=>vx(t[o],e,n,r).pipe(Ht(),De(c=>{s[o]=c}))),li(1),Yl(s),Vn(o=>QI(o)?ct:ai(o)))}function vx(t,e,n,r){let i=Io(e)??r,s=Li(t,i),o=s.resolve?s.resolve(e,n):wr(i,()=>s(e,n));return Yn(o)}function Zh(t){return xt(e=>{let n=t(e);return n?Ce(n).pipe(Z(()=>e)):$(e)})}var XI=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[wo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>M(wx),providedIn:"root"});let t=e;return t})(),wx=(()=>{let e=class e extends XI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(G(EI))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mf=new V("",{providedIn:"root",factory:()=>({})}),kf=new V(""),Ix=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(Vh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return $(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Yn(r.loadComponent()).pipe(Z(eE),De(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ns(()=>{this.componentLoaders.delete(r)})),s=new ri(i,()=>new Ye).pipe(ni());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return $({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Ex(i,this.compiler,r,this.onLoadEndListener).pipe(Ns(()=>{this.childrenLoaders.delete(i)})),c=new ri(o,()=>new Ye).pipe(ni());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ex(t,e,n,r){return Yn(t.loadChildren()).pipe(Z(eE),be(i=>i instanceof zs||Array.isArray(i)?$(i):Ce(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(kf,[],{optional:!0,self:!0}).flat()),{routes:o.map(xf),injector:s}}))}function Tx(t){return t&&typeof t=="object"&&"default"in t}function eE(t){return Tx(t)?t.default:t}var Of=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>M(Cx),providedIn:"root"});let t=e;return t})(),Cx=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bx=new V("");var Dx=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ye,this.transitionAbortSubject=new Ye,this.configLoader=M(Ix),this.environmentInjector=M(wt),this.urlSerializer=M(Df),this.rootContexts=M(ou),this.location=M(to),this.inputBindingEnabled=M(Nf,{optional:!0})!==null,this.titleStrategy=M(XI),this.options=M(Mf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(Of),this.createViewTransition=M(bx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>$(void 0),this.rootComponentType=null;let r=s=>this.events.next(new uf(s)),i=s=>this.events.next(new lf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ie(k(k({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Fe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:uo,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Nt(o=>o.id!==0),Z(o=>Ie(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),xt(o=>{let c=!1,u=!1;return $(o).pipe(xt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ht.SupersededByNewNavigation),ct;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let y="";return this.events.next(new Dr(l.id,this.urlSerializer.serialize(l.rawUrl),y,rf.IgnoredSameUrlNavigation)),l.resolve(null),ct}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return $(l).pipe(xt(y=>{let b=this.transitions?.getValue();return this.events.next(new fo(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),b!==this.transitions?.getValue()?ct:Promise.resolve(y)}),gx(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),De(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ie(k({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let b=new eu(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:b,source:A,restoredState:x,extras:P}=l,B=new fo(y,this.urlSerializer.serialize(b),A,x);this.events.next(B);let ge=$I(this.rootComponentType).snapshot;return this.currentTransition=o=Ie(k({},l),{targetSnapshot:ge,urlAfterRedirects:b,extras:Ie(k({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=b,$(o)}else{let y="";return this.events.next(new Dr(l.id,this.urlSerializer.serialize(l.extractedUrl),y,rf.IgnoredByUrlHandlingStrategy)),l.resolve(null),ct}}),De(l=>{let f=new sf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),Z(l=>(this.currentTransition=o=Ie(k({},l),{guards:MN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),HN(this.environmentInjector,l=>this.events.next(l)),De(l=>{if(o.guardsResult=l.guardsResult,ki(l.guardsResult))throw GI(this.urlSerializer,l.guardsResult);let f=new of(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Nt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ht.GuardRejected),!1)),Zh(l=>{if(l.guards.canActivateChecks.length)return $(l).pipe(De(f=>{let p=new af(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),xt(f=>{let p=!1;return $(f).pipe(mx(this.paramsInheritanceStrategy,this.environmentInjector),De({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",ht.NoDataFromResolver)}}))}),De(f=>{let p=new cf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Zh(l=>{let f=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(De(b=>{p.component=b}),Z(()=>{})));for(let b of p.children)y.push(...f(b));return y};return Ha(f(l.targetSnapshot.root)).pipe(Un(null),hn(1))}),Zh(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Ce(p).pipe(Z(()=>o)):$(o)}),Z(l=>{let f=bN(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Ie(k({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),De(()=>{this.events.next(new go)}),PN(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),hn(1),De({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new br(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),ed(this.transitionAbortSubject.pipe(De(l=>{throw l}))),Ns(()=>{!c&&!u&&this.cancelNavigationTransition(o,"",ht.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vn(l=>{if(u=!0,KI(l))this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),AN(l)?this.events.next(new mo(l.url)):o.resolve(!1);else{this.events.next(new po(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return ct}))}))}cancelNavigationTransition(r,i,s){let o=new Qn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Sx(t){return t!==uo}var Ax=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>M(Rx),providedIn:"root"});let t=e;return t})(),bf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Rx=(()=>{let e=class e extends bf{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=gh(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:()=>M(Nx),providedIn:"root"});let t=e;return t})(),Nx=(()=>{let e=class e extends tE{constructor(){super(...arguments),this.location=M(to),this.urlSerializer=M(Df),this.options=M(Mf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(Of),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$I(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof fo)this.stateMemento=this.createStateMemento();else if(r instanceof Dr)this.rawUrlTree=i.initialUrl;else if(r instanceof eu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof go?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Qn&&(r.code===ht.GuardRejected||r.code===ht.NoDataFromResolver)?this.restoreHistory(i):r instanceof po?this.restoreHistory(i,!0):r instanceof br&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,c=k(k({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",c)}else{let o=k(k({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=gh(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ao=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ao||{});function xx(t,e){t.events.pipe(Nt(n=>n instanceof br||n instanceof Qn||n instanceof po||n instanceof Dr),Z(n=>n instanceof br||n instanceof Dr?ao.COMPLETE:(n instanceof Qn?n.code===ht.Redirect||n.code===ht.SupersededByNewNavigation:!1)?ao.REDIRECTING:ao.FAILED),Nt(n=>n!==ao.REDIRECTING),hn(1)).subscribe(()=>{e()})}function Px(t){throw t}var Mx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nE=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=M(jc),this.stateManager=M(tE),this.options=M(Mf,{optional:!0})||{},this.pendingTasks=M(Fc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(Dx),this.urlSerializer=M(Df),this.location=M(to),this.urlHandlingStrategy=M(Of),this._events=new Ye,this.errorHandler=this.options.errorHandler||Px,this.navigated=!1,this.routeReuseStrategy=M(Ax),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(kf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(Nf,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=M(se)instanceof se&&se.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Qn&&i.code!==ht.Redirect&&i.code!==ht.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof br)this.navigated=!0;else if(i instanceof mo){let c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Sx(s.source)};this.scheduleNavigation(c,uo,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Fx(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let l=k({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(xf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,p=null;switch(u){case"merge":p=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let b=s?s.snapshot:this.routerState.snapshot.root;y=VI(b)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return UI(y,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ki(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,uo,null,i)}navigate(r,i={skipLocationChange:!1}){return Ox(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=k({},Mx):i===!1?s=k({},kx):s=i,ki(r))return TI(this.currentUrlTree,r,s);let o=this.parseUrl(r);return TI(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((y,b)=>{u=y,l=b});let p=this.pendingTasks.add();return xx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ox(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}function Fx(t){return!(t instanceof go)&&!(t instanceof mo)}var Lx=new V("");function rE(t,...e){return nt([{provide:kf,multi:!0,useValue:t},[],{provide:Oi,useFactory:Vx,deps:[nE]},{provide:Lh,multi:!0,useFactory:Ux},e.map(n=>n.\u0275providers)])}function Vx(t){return t.routerState.root}function Ux(){let t=M(Je);return e=>{let n=t.get(Js);if(e!==n.components[0])return;let r=t.get(nE),i=t.get(jx);t.get(Bx)===1&&r.initialNavigation(),t.get($x,null,q.Optional)?.setUpPreloading(),t.get(Lx,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var jx=new V("",{factory:()=>new Ye}),Bx=new V("",{providedIn:"root",factory:()=>1});var $x=new V("");var iE=[];var Lf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var N=function(t,e){if(!t)throw Ar(e)},Ar=function(t){return new Error("Firebase Database ("+Lf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var oE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hx=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,b=l&63;u||(b=64,o||(y=64)),r.push(n[f],n[p],n[y],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Vf;let y=s<<2|c>>4;if(r.push(y),l!==64){let b=c<<4&240|l>>2;if(r.push(b),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Vf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jf=function(t){let e=oE(t);return uu.encodeByteArray(e,!0)},To=function(t){return jf(t).replace(/\./g,"")},Co=function(t){try{return uu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aE(t){return cE(void 0,t)}function cE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!qx(n)||(t[n]=cE(t[n],e[n]));return t}function qx(t){return t!=="__proto__"}function zx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Gx=()=>zx().__FIREBASE_DEFAULTS__,Wx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Co(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return Gx()||Wx()||Kx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$f=t=>{var e,n;return(n=(e=Bf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ui=t=>{let e=$f(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hf=()=>{var t;return(t=Bf())===null||t===void 0?void 0:t.config},qf=t=>{var e;return(e=Bf())===null||e===void 0?void 0:e[`_${t}`]};var Sr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ji(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[To(JSON.stringify(n)),To(JSON.stringify(o)),""].join(".")}function Ne(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function uE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lE(){let t=Ne();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Qt(){return Lf.NODE_CLIENT===!0||Lf.NODE_ADMIN===!0}function zf(){try{return typeof indexedDB=="object"}catch{return!1}}function dE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Qx="FirebaseError",et=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qx,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_n.prototype.create)}},_n=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Yx(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new et(i,c,r)}};function Yx(t,e){return t.replace(Zx,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Zx=/\{\$([^}]+)}/g;function Vi(t){return JSON.parse(t)}function xe(t){return JSON.stringify(t)}var hE=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Vi(Co(s[0])||""),n=Vi(Co(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var fE=function(t){let e=hE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pE=function(t){let e=hE(t).claims;return typeof e=="object"&&e.admin===!0};function Yt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Do(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function So(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Nr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(sE(s)&&sE(o)){if(!Nr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sE(t){return t!==null&&typeof t=="object"}function xr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var cu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){let y=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(y<<1|y>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4],l,f;for(let p=0;p<80;p++){p<40?p<20?(l=c^s&(o^c),f=1518500249):(l=s^o^c,f=1859775393):p<60?(l=s&o|c&(s|o),f=2400959708):(l=s^o^c,f=3395469782);let y=(i<<5|i>>>27)+l+u+f+r[p]&4294967295;u=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=y}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function gE(t,e){let n=new Uf(t,e);return n.subscribe.bind(n)}var Uf=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ff),i.error===void 0&&(i.error=Ff),i.complete===void 0&&(i.complete=Ff);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Jx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ff(){}function mE(t,e){return`${t} failed: ${e} argument `}var yE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,N(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ao=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var n6=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var qe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Pr="[DEFAULT]";var du=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Sr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eP(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Pr){return this.instances.has(e)}getOptions(e=Pr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pr){return this.component?this.component.multipleInstances?e:Pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Xx(t){return t===Pr?void 0:t}function eP(t){return t.instantiationMode==="EAGER"}var Ro=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new du(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var tP=[],ne=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ne||{}),nP={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},rP=ne.INFO,iP={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},sP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=iP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zt=class{constructor(e){this.name=e,this._logLevel=rP,this._logHandler=sP,this._userLogHandler=null,tP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var oP=(t,e)=>e.some(n=>t instanceof n),_E,vE;function aP(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cP(){return vE||(vE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wE=new WeakMap,Wf=new WeakMap,IE=new WeakMap,Gf=new WeakMap,Qf=new WeakMap;function uP(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Jt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wE.set(n,t)}).catch(()=>{}),Qf.set(e,t),e}function lP(t){if(Wf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wf.set(t,e)}var Kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EE(t){Kf=t(Kf)}function dP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(hu(this),e,...n);return IE.set(r,e.sort?e.sort():[e]),Jt(r)}:cP().includes(t)?function(...e){return t.apply(hu(this),e),Jt(wE.get(this))}:function(...e){return Jt(t.apply(hu(this),e))}}function hP(t){return typeof t=="function"?dP(t):(t instanceof IDBTransaction&&lP(t),oP(t,aP())?new Proxy(t,Kf):t)}function Jt(t){if(t instanceof IDBRequest)return uP(t);if(Gf.has(t))return Gf.get(t);let e=hP(t);return e!==t&&(Gf.set(t,e),Qf.set(e,t)),e}var hu=t=>Qf.get(t);function CE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=Jt(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Jt(o.result),u.oldVersion,u.newVersion,Jt(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var fP=["get","getKey","getAll","getAllKeys","count"],pP=["put","add","delete","clear"],Yf=new Map;function TE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yf.get(e))return Yf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=pP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fP.includes(n)))return;let s=function(o,...c){return S(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Yf.set(e,s),s}EE(t=>Ie(k({},t),{get:(e,n,r)=>TE(e,n)||t.get(e,n,r),has:(e,n)=>!!TE(e,n)||t.has(e,n)}));var Jf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function gP(t){let e=t.getComponent();return e?.type==="VERSION"}var Xf="@firebase/app",bE="0.10.5";var Mr=new Zt("@firebase/app"),mP="@firebase/app-compat",yP="@firebase/analytics-compat",_P="@firebase/analytics",vP="@firebase/app-check-compat",wP="@firebase/app-check",IP="@firebase/auth",EP="@firebase/auth-compat",TP="@firebase/database",CP="@firebase/database-compat",bP="@firebase/functions",DP="@firebase/functions-compat",SP="@firebase/installations",AP="@firebase/installations-compat",RP="@firebase/messaging",NP="@firebase/messaging-compat",xP="@firebase/performance",PP="@firebase/performance-compat",MP="@firebase/remote-config",kP="@firebase/remote-config-compat",OP="@firebase/storage",FP="@firebase/storage-compat",LP="@firebase/firestore",VP="@firebase/vertexai-preview",UP="@firebase/firestore-compat",jP="firebase",BP="10.12.2";var ep="[DEFAULT]",$P={[Xf]:"fire-core",[mP]:"fire-core-compat",[_P]:"fire-analytics",[yP]:"fire-analytics-compat",[wP]:"fire-app-check",[vP]:"fire-app-check-compat",[IP]:"fire-auth",[EP]:"fire-auth-compat",[TP]:"fire-rtdb",[CP]:"fire-rtdb-compat",[bP]:"fire-fn",[DP]:"fire-fn-compat",[SP]:"fire-iid",[AP]:"fire-iid-compat",[RP]:"fire-fcm",[NP]:"fire-fcm-compat",[xP]:"fire-perf",[PP]:"fire-perf-compat",[MP]:"fire-rc",[kP]:"fire-rc-compat",[OP]:"fire-gcs",[FP]:"fire-gcs-compat",[LP]:"fire-fst",[UP]:"fire-fst-compat",[VP]:"fire-vertex","fire-js":"fire-js",[jP]:"fire-js-all"};var No=new Map,HP=new Map,tp=new Map;function DE(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tt(t){let e=t.name;if(tp.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,t);for(let n of No.values())DE(n,t);for(let n of HP.values())DE(n,t);return!0}function vn(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t.settings!==void 0}var qP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zn=new _n("app","Firebase",qP);var np=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}};var Ct=BP;function sp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zn.create("bad-app-name",{appName:String(i)});if(n||(n=Hf()),!n)throw Zn.create("no-options");let s=No.get(i);if(s){if(Nr(n,s.options)&&Nr(r,s.config))return s;throw Zn.create("duplicate-app",{appName:i})}let o=new Ro(i);for(let u of tp.values())o.addComponent(u);let c=new np(n,r,o);return No.set(i,c),c}function Xt(t=ep){let e=No.get(t);if(!e&&t===ep&&Hf())return sp();if(!e)throw Zn.create("no-app",{appName:t});return e}function fu(){return Array.from(No.values())}function ce(t,e,n){var r;let i=(r=$P[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(c.join(" "));return}Tt(new qe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var zP="firebase-heartbeat-database",GP=1,xo="firebase-heartbeat-store",Zf=null;function NE(){return Zf||(Zf=CE(zP,GP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zn.create("idb-open",{originalErrorMessage:t.message})})),Zf}function WP(t){return S(this,null,function*(){try{let n=(yield NE()).transaction(xo),r=yield n.objectStore(xo).get(xE(t));return yield n.done,r}catch(e){if(e instanceof et)Mr.warn(e.message);else{let n=Zn.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(n.message)}}})}function SE(t,e){return S(this,null,function*(){try{let r=(yield NE()).transaction(xo,"readwrite");yield r.objectStore(xo).put(e,xE(t)),yield r.done}catch(n){if(n instanceof et)Mr.warn(n.message);else{let r=Zn.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(r.message)}}})}function xE(t){return`${t.name}!${t.options.appId}`}var KP=1024,QP=30*24*60*60*1e3,rp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ip(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=AE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=QP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return S(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=AE(),{heartbeatsToSend:r,unsentEntries:i}=YP(this._heartbeatsCache.heartbeats),s=To(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function AE(){return new Date().toISOString().substring(0,10)}function YP(t,e=KP){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),RE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ip=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return zf()?dE().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield WP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function RE(t){return To(JSON.stringify({version:2,heartbeats:t})).length}function ZP(t){Tt(new qe("platform-logger",e=>new Jf(e),"PRIVATE")),Tt(new qe("heartbeat",e=>new rp(e),"PRIVATE")),ce(Xf,bE,t),ce(Xf,bE,"esm2017"),ce("fire-js","")}ZP("");var JP="firebase",XP="10.12.2";ce(JP,XP,"app");var Vt=new zn("ANGULARFIRE2_VERSION");function Jn(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var In=(t,e)=>{let n=e?[e]:fu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},en=class{constructor(){return In(eM)}},eM="app-check";function Bi(){}var pu=class{zone;delegate;constructor(e,n=Gl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},op=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bi,{},Bi,Bi)),n.pipe(De({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},tn=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new pu(Zone.current)),this.insideAngular=n.run(()=>new pu(Zone.current,zl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(se))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gu(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function tM(t){return gu().ngZone.runOutsideAngular(()=>t())}function kr(t){return gu().ngZone.run(()=>t())}function nM(t){return rM(gu())(t)}function rM(t){return function(n){return n=n.lift(new op(t.ngZone)),n.pipe(Ln(t.outsideAngular),Fn(t.insideAngular))}}var iM=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),kr(()=>t.apply(void 0,r))},nn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=kr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bi,{},Bi,Bi))),r[s]=iM(r[s],n));let i=tM(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=gu();return i.pipe(Ln(s.outsideAngular),Fn(s.insideAngular))}else return kr(()=>i);return i instanceof ie?i.pipe(nM):i instanceof Promise?kr(()=>new Promise((s,o)=>i.then(c=>kr(()=>s(c)),c=>kr(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:kr(()=>i)};var pt=class{constructor(e){return e}},Ut=class{constructor(){return fu()}};function sM(t){return t&&t.length===1?t[0]:new pt(Xt())}var ap=new V("angularfire2._apps"),oM={provide:pt,useFactory:sM,deps:[[new _e,ap]]},aM={provide:Ut,deps:[[new _e,ap]]};function cM(t){return(e,n)=>{let r=n.get(Wn);ce("angularfire",Vt.full,"core"),ce("angularfire",Vt.full,"app"),ce("angular",Qw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new pt(i)}}function PE(t,...e){return nt([oM,aM,{provide:ap,useFactory:cM(t),multi:!0,deps:[se,Je,tn,...e]}])}var ME=nn(sp,!0);function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var QE=KE,YE=new _n("auth","Firebase",KE());var Iu=new Zt("@firebase/auth");function uM(t,...e){Iu.logLevel<=ne.WARN&&Iu.warn(`Auth (${Ct}): ${t}`,...e)}function yu(t,...e){Iu.logLevel<=ne.ERROR&&Iu.error(`Auth (${Ct}): ${t}`,...e)}function er(t,...e){throw Sp(t,...e)}function Fr(t,...e){return Sp(t,...e)}function ZE(t,e,n){let r=Object.assign(Object.assign({},QE()),{[e]:n});return new _n("auth","Firebase",r).create(e,{appName:t.name})}function Or(t){return ZE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sp(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YE.create(t,...e)}function F(t,e,...n){if(!t)throw Sp(e,...n)}function En(t){let e="INTERNAL ASSERTION FAILED: "+t;throw yu(e),new Error(e)}function tr(t,e){t||En(e)}function dp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function lM(){return kE()==="http:"||kE()==="https:"}function kE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function dM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lM()||uE()||"connection"in navigator)?navigator.onLine:!0}function hM(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Lr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=bo()||lu()}get(){return dM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ap(t,e){tr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Eu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var fM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var pM=new Lr(3e4,6e4);function Rp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Hi(s,o,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return JE(t,i,()=>S(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=xr(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),Eu.fetch()(XE(t,t.config.apiHost,n,p),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},l))}))})}function JE(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},fM),e);try{let i=new hp(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw mu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw mu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw mu(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ZE(t,f,l);er(t,f)}}catch(i){if(i instanceof et)throw i;er(t,"network-request-failed",{message:String(i)})}})}function gM(s,o,c,u){return S(this,arguments,function*(t,e,n,r,i={}){let l=yield Hi(t,e,n,r,i);return"mfaPendingCredential"in l&&er(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function XE(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ap(t.config,i):`${t.config.apiScheme}://${i}`}var hp=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),pM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function mu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Fr(t,e,r);return i.customData._tokenResponse=n,i}function mM(t,e){return S(this,null,function*(){return Hi(t,"POST","/v1/accounts:delete",e)})}function eT(t,e){return S(this,null,function*(){return Hi(t,"POST","/v1/accounts:lookup",e)})}function Po(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Np(t,e=!1){return S(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=xp(r);F(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Po(cp(i.auth_time)),issuedAtTime:Po(cp(i.iat)),expirationTime:Po(cp(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function cp(t){return Number(t)*1e3}function xp(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Co(n);return i?JSON.parse(i):(yu("Failed to decode base64 JWT payload"),null)}catch(i){return yu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function OE(t){let e=xp(t);return F(e,"internal-error"),F(typeof e.exp<"u","internal-error"),F(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ko(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof et&&yM(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function yM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var fp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Oo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Tu(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ko(t,eT(n,{idToken:r}));F(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tT(s.providerUserInfo):[],c=_M(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Oo(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Pp(t){return S(this,null,function*(){let e=ft(t);yield Tu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function _M(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tT(t){return t.map(e=>{var{providerId:n}=e,r=Wl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vM(t,e){return S(this,null,function*(){let n=yield JE(t,{},()=>S(this,null,function*(){let r=xr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=XE(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Eu.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function wM(t,e){return S(this,null,function*(){return Hi(t,"POST","/v2/accounts:revokeToken",Rp(t,e))})}var Mo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(typeof e.idToken<"u","internal-error"),F(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){F(e.length!==0,"internal-error");let n=OE(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(F(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield vM(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(F(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(F(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(F(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return En("not implemented")}};function Xn(t,e){F(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var $i=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Wl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Oo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield ko(this,this.stsTokenManager.getToken(this.auth,e));return F(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Np(this,e)}reload(){return Pp(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Tu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(wn(this.auth.app))return Promise.reject(Or(this.auth));let e=yield this.getIdToken();return yield ko(this,mM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,b=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,B=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ge=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:W,emailVerified:ue,isAnonymous:ke,providerData:de,stsTokenManager:I}=n;F(W&&I,e,"internal-error");let m=Mo.fromJSON(this.name,I);F(typeof W=="string",e,"internal-error"),Xn(p,e.name),Xn(y,e.name),F(typeof ue=="boolean",e,"internal-error"),F(typeof ke=="boolean",e,"internal-error"),Xn(b,e.name),Xn(A,e.name),Xn(x,e.name),Xn(P,e.name),Xn(B,e.name),Xn(ge,e.name);let v=new t({uid:W,auth:e,email:y,emailVerified:ue,displayName:p,isAnonymous:ke,photoURL:A,phoneNumber:b,tenantId:x,stsTokenManager:m,createdAt:B,lastLoginAt:ge});return de&&Array.isArray(de)&&(v.providerData=de.map(w=>Object.assign({},w))),P&&(v._redirectEventId=P),v}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new Mo;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Tu(s),s})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];F(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?tT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Mo;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Oo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var FE=new Map;function Tn(t){tr(t instanceof Function,"Expected a class definition");let e=FE.get(t);return e?(tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FE.set(t,e),e)}var IM=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),pp=IM;function _u(t,e,n){return`firebase:${t}:${e}:${n}`}var Cu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=_u(this.userKey,i.apiKey,s),this.fullPersistenceKey=_u("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?$i._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Tn(pp),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Tn(pp),o=_u(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=$i._fromJSON(e,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function LE(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oT(e))return"Blackberry";if(aT(e))return"Webos";if(Mp(e))return"Safari";if((e.includes("chrome/")||rT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function nT(t=Ne()){return/firefox\//i.test(t)}function Mp(t=Ne()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rT(t=Ne()){return/crios\//i.test(t)}function iT(t=Ne()){return/iemobile/i.test(t)}function sT(t=Ne()){return/android/i.test(t)}function oT(t=Ne()){return/blackberry/i.test(t)}function aT(t=Ne()){return/webos/i.test(t)}function Pu(t=Ne()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EM(t=Ne()){var e;return Pu(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TM(){return lE()&&document.documentMode===10}function cT(t=Ne()){return Pu(t)||sT(t)||aT(t)||oT(t)||/windows phone/i.test(t)||iT(t)}function CM(){try{return!!(window&&window!==window.top)}catch{return!1}}function uT(t,e=[]){let n;switch(t){case"Browser":n=LE(Ne());break;case"Worker":n=`${LE(Ne())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ct}/${r}`}var gp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function bM(n){return S(this,arguments,function*(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",Rp(t,e))})}var DM=6,mp=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var yp=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bu(this),this.idTokenSubscription=new bu(this),this.beforeStateQueue=new gp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Tn(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Cu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield eT(this,{idToken:e}),r=yield $i._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(wn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return F(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Tu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=hM()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(wn(this.app))return Promise.reject(Or(this));let n=e?ft(e):null;return n&&F(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&F(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return wn(this.app)?Promise.reject(Or(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return wn(this.app)?Promise.reject(Or(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Tn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield bM(this),n=new mp(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _n("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wM(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Tn(e)||this._popupRedirectResolver;F(n,this,"argument-error"),this.redirectPersistenceManager=yield Cu.create(this,[Tn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&uM(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function kp(t){return ft(t)}var bu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=gE(n=>this.observer=n)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Op={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SM(t){Op=t}function AM(t){return Op.loadJS(t)}function RM(){return Op.gapiScript}function lT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Fp(t,e){let n=vn(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Nr(s,e??{}))return i;er(i,"already-initialized")}return n.initialize({options:e})}function NM(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Tn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Lp(t,e,n){let r=kp(t);F(r._canInitEmulator,r,"emulator-config-failed"),F(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=dT(e),{host:o,port:c}=xM(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PM()}function dT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xM(t){let e=dT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:VE(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:VE(o)}}}function VE(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function PM(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Du=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return En("not implemented")}_getIdTokenResponse(e){return En("not implemented")}_linkToIdToken(e,n){return En("not implemented")}_getReauthenticationResolver(e){return En("not implemented")}};function up(t,e){return S(this,null,function*(){return gM(t,"POST","/v1/accounts:signInWithIdp",Rp(t,e))})}var Su=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var _p=class extends Su{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Fo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return S(this,null,function*(){let s=yield $i._fromIdTokenResponse(e,r,i),o=UE(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return S(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=UE(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function UE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var vp=class t extends et{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function hT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vp._fromErrorAndOperation(t,s,e,r):s})}function MM(t,e,n=!1){return S(this,null,function*(){let r=yield ko(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Fo._forOperation(t,"link",r)})}function kM(t,e,n=!1){return S(this,null,function*(){let{auth:r}=t;if(wn(r.app))return Promise.reject(Or(r));let i="reauthenticate";try{let s=yield ko(t,hT(r,i,e,t),n);F(s.idToken,r,"internal-error");let o=xp(s.idToken);F(o,r,"internal-error");let{sub:c}=o;return F(t.uid===c,r,"user-mismatch"),Fo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&er(r,"user-mismatch"),s}})}function OM(t,e,n=!1){return S(this,null,function*(){if(wn(t.app))return Promise.reject(Or(t));let r="signIn",i=yield hT(t,r,e),s=yield Fo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Vp(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function Up(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}var Au="__sak";var Ru=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Au,"1"),this.storage.removeItem(Au),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function FM(){let t=Ne();return Mp(t)||Pu(t)}var LM=1e3,VM=10,UM=(()=>{class t extends Ru{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FM()&&CM(),this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(i);if(n.newValue!==c)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);TM()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,VM):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},LM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return S(this,null,function*(){yield kn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return S(this,null,function*(){let r=yield kn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return S(this,null,function*(){yield kn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fT=UM;var jM=(()=>{class t extends Ru{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),jp=jM;function BM(t){return Promise.all(t.map(e=>S(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var $M=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return S(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(c).map(f=>S(this,null,function*(){return f(r.origin,o)})),l=yield BM(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function pT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var wp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return S(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{let l=pT("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function rn(){return window}function HM(t){rn().location.href=t}function gT(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}function qM(){return S(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function zM(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GM(){return gT()?self:null}var mT="firebaseLocalStorageDb",WM=1,Nu="firebaseLocalStorage",yT="fbase_key",Vr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Mu(t,e){return t.transaction([Nu],e?"readwrite":"readonly").objectStore(Nu)}function KM(){let t=indexedDB.deleteDatabase(mT);return new Vr(t).toPromise()}function Ip(){let t=indexedDB.open(mT,WM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Nu,{keyPath:yT})}catch(i){n(i)}}),t.addEventListener("success",()=>S(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Nu)?e(r):(r.close(),yield KM(),e(yield Ip()))}))})}function jE(t,e,n){return S(this,null,function*(){let r=Mu(t,!0).put({[yT]:e,value:n});return new Vr(r).toPromise()})}function QM(t,e){return S(this,null,function*(){let n=Mu(t,!1).get(e),r=yield new Vr(n).toPromise();return r===void 0?null:r.value})}function BE(t,e){let n=Mu(t,!0).delete(e);return new Vr(n).toPromise()}var YM=800,ZM=3,JM=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return S(this,null,function*(){return this.db?this.db:(this.db=yield Ip(),this.db)})}_withRetries(n){return S(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>ZM)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return S(this,null,function*(){return gT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return S(this,null,function*(){this.receiver=$M._getInstance(GM()),this.receiver._subscribe("keyChanged",(n,r)=>S(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>S(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return S(this,null,function*(){var n,r;if(this.activeServiceWorker=yield qM(),!this.activeServiceWorker)return;this.sender=new wp(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return S(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||zM()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return S(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ip();return yield jE(n,Au,"1"),yield BE(n,Au),!0}catch{}return!1})}_withPendingWrite(n){return S(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(i=>jE(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return S(this,null,function*(){let r=yield this._withRetries(i=>QM(i,n));return this.localCache[n]=r,r})}_remove(n){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(r=>BE(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return S(this,null,function*(){let n=yield this._withRetries(s=>{let o=Mu(s,!1).getAll();return new Vr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>S(this,null,function*(){return this._poll()}),YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_T=JM;var Y6=lT("rcb"),Z6=new Lr(3e4,6e4);function XM(t,e){return e?Tn(e):(F(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Lo=class extends Du{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return up(e,this._buildIdpRequest())}_linkToIdToken(e,n){return up(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return up(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ek(t){return OM(t.auth,new Lo(t),t.bypassAuthState)}function tk(t){let{auth:e,user:n}=t;return F(n,e,"internal-error"),kM(n,new Lo(t),t.bypassAuthState)}function nk(t){return S(this,null,function*(){let{auth:e,user:n}=t;return F(n,e,"internal-error"),MM(n,new Lo(t),t.bypassAuthState)})}var Ep=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>S(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return S(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ek;case"linkViaPopup":case"linkViaRedirect":return nk;case"reauthViaPopup":case"reauthViaRedirect":return tk;default:er(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var J6=new Lr(2e3,1e4);var rk="pendingRedirect",vu=new Map,Tp=class t extends Ep{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return S(this,null,function*(){let e=vu.get(this.auth._key());if(!e){try{let r=(yield ik(this.resolver,this.auth))?yield kn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vu.set(this.auth._key(),e)}return this.bypassAuthState||vu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return S(this,null,function*(){if(e.type==="signInViaRedirect")return kn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,kn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return S(this,null,function*(){})}cleanUp(){}};function ik(t,e){return S(this,null,function*(){let n=ak(e),r=ok(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function sk(t,e){vu.set(t._key(),e)}function ok(t){return Tn(t._redirectPersistence)}function ak(t){return _u(rk,t.config.apiKey,t.name)}function ck(t,e,n=!1){return S(this,null,function*(){if(wn(t.app))return Promise.reject(Or(t));let r=kp(t),i=XM(r,e),o=yield new Tp(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var uk=10*60*1e3,Cp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uk&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}};function $E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function lk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vT(t);default:return!1}}function dk(n){return S(this,arguments,function*(t,e={}){return Hi(t,"GET","/v1/projects",e)})}var hk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fk=/^https?/;function pk(t){return S(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield dk(t);for(let n of e)try{if(gk(n))return}catch{}er(t,"unauthorized-domain")})}function gk(t){let e=dp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!fk.test(n))return!1;if(hk.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var mk=new Lr(3e4,6e4);function HE(){let t=rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yk(t){return new Promise((e,n)=>{var r,i,s;function o(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(Fr(t,"network-request-failed"))},timeout:mk.get()})}if(!((i=(r=rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=rn().gapi)===null||s===void 0)&&s.load)o();else{let c=lT("iframefcb");return rn()[c]=()=>{gapi.load?o():n(Fr(t,"network-request-failed"))},AM(`${RM()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw wu=null,e})}var wu=null;function _k(t){return wu=wu||yk(t),wu}var vk=new Lr(5e3,15e3),wk="__/auth/iframe",Ik="emulator/auth/iframe",Ek={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ck(t){let e=t.config;F(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ap(e,Ik):`https://${t.config.authDomain}/${wk}`,r={apiKey:e.apiKey,appName:t.name,v:Ct},i=Tk.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xr(r).slice(1)}`}function bk(t){return S(this,null,function*(){let e=yield _k(t),n=rn().gapi;return F(n,t,"internal-error"),e.open({where:document.body,url:Ck(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ek,dontclear:!0},r=>new Promise((i,s)=>S(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Fr(t,"network-request-failed"),c=rn().setTimeout(()=>{s(o)},vk.get());function u(){rn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var Dk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sk=500,Ak=600,Rk="_blank",Nk="http://localhost",xu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function xk(t,e,n,r=Sk,i=Ak){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},Dk),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ne().toLowerCase();n&&(c=rT(l)?Rk:n),nT(l)&&(e=e||Nk,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[b,A])=>`${y}${b}=${A},`,"");if(EM(l)&&c!=="_self")return Pk(e||"",c),new xu(null);let p=window.open(e||"",c,f);F(p,t,"popup-blocked");try{p.focus()}catch{}return new xu(p)}function Pk(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Mk="__/auth/handler",kk="emulator/auth/handler",Ok=encodeURIComponent("fac");function qE(t,e,n,r,i,s){return S(this,null,function*(){F(t.config.authDomain,t,"auth-domain-config-required"),F(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ct,eventId:i};if(e instanceof Su){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Do(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof _p){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${Ok}=${encodeURIComponent(u)}`:"";return`${Fk(t)}?${xr(c).slice(1)}${l}`})}function Fk({config:t}){return t.emulator?Ap(t,kk):`https://${t.authDomain}/${Mk}`}var lp="webStorageSupport",bp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jp,this._completeRedirectFn=ck,this._overrideRedirectResult=sk}_openPopup(e,n,r,i){return S(this,null,function*(){var s;tr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield qE(e,n,r,dp(),i);return xk(e,o,pT())})}_openRedirect(e,n,r,i){return S(this,null,function*(){yield this._originValidation(e);let s=yield qE(e,n,r,dp(),i);return HM(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(tr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return S(this,null,function*(){let n=yield bk(e),r=new Cp(e);return n.register("authEvent",i=>(F(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lp,{type:lp},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[lp];o!==void 0&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cT()||Mp()||Pu()}},wT=bp;var zE="@firebase/auth",GE="1.7.4";var Dp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Lk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Vk(t){Tt(new qe("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;F(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(t)},l=new yp(r,i,s,u);return NM(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tt(new qe("auth-internal",e=>{let n=kp(e.getProvider("auth").getImmediate());return(r=>new Dp(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ce(zE,GE,Lk(t)),ce(zE,GE,"esm2017")}var Uk=5*60,jk=qf("authIdTokenMaxAge")||Uk,WE=null,Bk=t=>e=>S(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jk)return;let i=n?.token;WE!==i&&(WE=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Bp(t=Xt()){let e=vn(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Fp(t,{popupRedirectResolver:wT,persistence:[_T,fT,jp]}),r=qf("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Bk(s.toString());Up(n,o,()=>o(n.currentUser)),Vp(n,c=>o(c))}}let i=$f("auth");return i&&Lp(n,`http://${i}`),n}function $k(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SM({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Fr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",$k().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Vk("Browser");var IT="auth",Vo=class{constructor(e){return e}},Cn=class{constructor(){return In(IT)}};var $p=new V("angularfire2.auth-instances");function FO(t,e){let n=Jn(IT,t,e);return n&&new Vo(n)}function LO(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vo(r)}}var VO={provide:Cn,deps:[[new _e,$p]]},UO={provide:Vo,useFactory:FO,deps:[[new _e,$p],pt]};function ET(t,...e){return ce("angularfire",Vt.full,"auth"),nt([UO,VO,{provide:$p,useFactory:LO(t),multi:!0,deps:[se,Je,tn,Ut,[new _e,en],...e]}])}var TT=nn(Bp,!0);var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bT={};var Hp,DT;(function(){var t;function e(I,m){function v(){}v.prototype=m.prototype,I.D=m.prototype,I.prototype=new v,I.prototype.constructor=I,I.C=function(w,E,C){for(var _=Array(arguments.length-2),cn=2;cn<arguments.length;cn++)_[cn-2]=arguments[cn];return m.prototype[E].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,m,v){v||(v=0);var w=Array(16);if(typeof m=="string")for(var E=0;16>E;++E)w[E]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(E=0;16>E;++E)w[E]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=I.g[0],v=I.g[1],E=I.g[2];var C=I.g[3],_=m+(C^v&(E^C))+w[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=C+(E^m&(v^E))+w[1]+3905402710&4294967295,C=m+(_<<12&4294967295|_>>>20),_=E+(v^C&(m^v))+w[2]+606105819&4294967295,E=C+(_<<17&4294967295|_>>>15),_=v+(m^E&(C^m))+w[3]+3250441966&4294967295,v=E+(_<<22&4294967295|_>>>10),_=m+(C^v&(E^C))+w[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(E^m&(v^E))+w[5]+1200080426&4294967295,C=m+(_<<12&4294967295|_>>>20),_=E+(v^C&(m^v))+w[6]+2821735955&4294967295,E=C+(_<<17&4294967295|_>>>15),_=v+(m^E&(C^m))+w[7]+4249261313&4294967295,v=E+(_<<22&4294967295|_>>>10),_=m+(C^v&(E^C))+w[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(E^m&(v^E))+w[9]+2336552879&4294967295,C=m+(_<<12&4294967295|_>>>20),_=E+(v^C&(m^v))+w[10]+4294925233&4294967295,E=C+(_<<17&4294967295|_>>>15),_=v+(m^E&(C^m))+w[11]+2304563134&4294967295,v=E+(_<<22&4294967295|_>>>10),_=m+(C^v&(E^C))+w[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(E^m&(v^E))+w[13]+4254626195&4294967295,C=m+(_<<12&4294967295|_>>>20),_=E+(v^C&(m^v))+w[14]+2792965006&4294967295,E=C+(_<<17&4294967295|_>>>15),_=v+(m^E&(C^m))+w[15]+1236535329&4294967295,v=E+(_<<22&4294967295|_>>>10),_=m+(E^C&(v^E))+w[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^E&(m^v))+w[6]+3225465664&4294967295,C=m+(_<<9&4294967295|_>>>23),_=E+(m^v&(C^m))+w[11]+643717713&4294967295,E=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(E^C))+w[0]+3921069994&4294967295,v=E+(_<<20&4294967295|_>>>12),_=m+(E^C&(v^E))+w[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^E&(m^v))+w[10]+38016083&4294967295,C=m+(_<<9&4294967295|_>>>23),_=E+(m^v&(C^m))+w[15]+3634488961&4294967295,E=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(E^C))+w[4]+3889429448&4294967295,v=E+(_<<20&4294967295|_>>>12),_=m+(E^C&(v^E))+w[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^E&(m^v))+w[14]+3275163606&4294967295,C=m+(_<<9&4294967295|_>>>23),_=E+(m^v&(C^m))+w[3]+4107603335&4294967295,E=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(E^C))+w[8]+1163531501&4294967295,v=E+(_<<20&4294967295|_>>>12),_=m+(E^C&(v^E))+w[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^E&(m^v))+w[2]+4243563512&4294967295,C=m+(_<<9&4294967295|_>>>23),_=E+(m^v&(C^m))+w[7]+1735328473&4294967295,E=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(E^C))+w[12]+2368359562&4294967295,v=E+(_<<20&4294967295|_>>>12),_=m+(v^E^C)+w[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^E)+w[8]+2272392833&4294967295,C=m+(_<<11&4294967295|_>>>21),_=E+(C^m^v)+w[11]+1839030562&4294967295,E=C+(_<<16&4294967295|_>>>16),_=v+(E^C^m)+w[14]+4259657740&4294967295,v=E+(_<<23&4294967295|_>>>9),_=m+(v^E^C)+w[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^E)+w[4]+1272893353&4294967295,C=m+(_<<11&4294967295|_>>>21),_=E+(C^m^v)+w[7]+4139469664&4294967295,E=C+(_<<16&4294967295|_>>>16),_=v+(E^C^m)+w[10]+3200236656&4294967295,v=E+(_<<23&4294967295|_>>>9),_=m+(v^E^C)+w[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^E)+w[0]+3936430074&4294967295,C=m+(_<<11&4294967295|_>>>21),_=E+(C^m^v)+w[3]+3572445317&4294967295,E=C+(_<<16&4294967295|_>>>16),_=v+(E^C^m)+w[6]+76029189&4294967295,v=E+(_<<23&4294967295|_>>>9),_=m+(v^E^C)+w[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^E)+w[12]+3873151461&4294967295,C=m+(_<<11&4294967295|_>>>21),_=E+(C^m^v)+w[15]+530742520&4294967295,E=C+(_<<16&4294967295|_>>>16),_=v+(E^C^m)+w[2]+3299628645&4294967295,v=E+(_<<23&4294967295|_>>>9),_=m+(E^(v|~C))+w[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~E))+w[7]+1126891415&4294967295,C=m+(_<<10&4294967295|_>>>22),_=E+(m^(C|~v))+w[14]+2878612391&4294967295,E=C+(_<<15&4294967295|_>>>17),_=v+(C^(E|~m))+w[5]+4237533241&4294967295,v=E+(_<<21&4294967295|_>>>11),_=m+(E^(v|~C))+w[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~E))+w[3]+2399980690&4294967295,C=m+(_<<10&4294967295|_>>>22),_=E+(m^(C|~v))+w[10]+4293915773&4294967295,E=C+(_<<15&4294967295|_>>>17),_=v+(C^(E|~m))+w[1]+2240044497&4294967295,v=E+(_<<21&4294967295|_>>>11),_=m+(E^(v|~C))+w[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~E))+w[15]+4264355552&4294967295,C=m+(_<<10&4294967295|_>>>22),_=E+(m^(C|~v))+w[6]+2734768916&4294967295,E=C+(_<<15&4294967295|_>>>17),_=v+(C^(E|~m))+w[13]+1309151649&4294967295,v=E+(_<<21&4294967295|_>>>11),_=m+(E^(v|~C))+w[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~E))+w[11]+3174756917&4294967295,C=m+(_<<10&4294967295|_>>>22),_=E+(m^(C|~v))+w[2]+718787259&4294967295,E=C+(_<<15&4294967295|_>>>17),_=v+(C^(E|~m))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+m&4294967295,I.g[1]=I.g[1]+(E+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,m){m===void 0&&(m=I.length);for(var v=m-this.blockSize,w=this.B,E=this.h,C=0;C<m;){if(E==0)for(;C<=v;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<m;)if(w[E++]=I.charCodeAt(C++),E==this.blockSize){i(this,w),E=0;break}}else for(;C<m;)if(w[E++]=I[C++],E==this.blockSize){i(this,w),E=0;break}}this.h=E,this.o+=m},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var m=1;m<I.length-8;++m)I[m]=0;var v=8*this.o;for(m=I.length-8;m<I.length;++m)I[m]=v&255,v/=256;for(this.u(I),I=Array(16),m=v=0;4>m;++m)for(var w=0;32>w;w+=8)I[v++]=this.g[m]>>>w&255;return I};function s(I,m){var v=c;return Object.prototype.hasOwnProperty.call(v,I)?v[I]:v[I]=m(I)}function o(I,m){this.h=m;for(var v=[],w=!0,E=I.length-1;0<=E;E--){var C=I[E]|0;w&&C==m||(v[E]=C,w=!1)}this.g=v}var c={};function u(I){return-128<=I&&128>I?s(I,function(m){return new o([m|0],0>m?-1:0)}):new o([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return P(l(-I));for(var m=[],v=1,w=0;I>=v;w++)m[w]=I/v|0,v*=4294967296;return new o(m,0)}function f(I,m){if(I.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(I.charAt(0)=="-")return P(f(I.substring(1),m));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),w=p,E=0;E<I.length;E+=8){var C=Math.min(8,I.length-E),_=parseInt(I.substring(E,E+C),m);8>C?(C=l(Math.pow(m,C)),w=w.j(C).add(l(_))):(w=w.j(v),w=w.add(l(_)))}return w}var p=u(0),y=u(1),b=u(16777216);t=o.prototype,t.m=function(){if(x(this))return-P(this).m();for(var I=0,m=1,v=0;v<this.g.length;v++){var w=this.i(v);I+=(0<=w?w:4294967296+w)*m,m*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A(this))return"0";if(x(this))return"-"+P(this).toString(I);for(var m=l(Math.pow(I,6)),v=this,w="";;){var E=ue(v,m).g;v=B(v,E.j(m));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(I);if(v=E,A(v))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function A(I){if(I.h!=0)return!1;for(var m=0;m<I.g.length;m++)if(I.g[m]!=0)return!1;return!0}function x(I){return I.h==-1}t.l=function(I){return I=B(this,I),x(I)?-1:A(I)?0:1};function P(I){for(var m=I.g.length,v=[],w=0;w<m;w++)v[w]=~I.g[w];return new o(v,~I.h).add(y)}t.abs=function(){return x(this)?P(this):this},t.add=function(I){for(var m=Math.max(this.g.length,I.g.length),v=[],w=0,E=0;E<=m;E++){var C=w+(this.i(E)&65535)+(I.i(E)&65535),_=(C>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);w=_>>>16,C&=65535,_&=65535,v[E]=_<<16|C}return new o(v,v[v.length-1]&-2147483648?-1:0)};function B(I,m){return I.add(P(m))}t.j=function(I){if(A(this)||A(I))return p;if(x(this))return x(I)?P(this).j(P(I)):P(P(this).j(I));if(x(I))return P(this.j(P(I)));if(0>this.l(b)&&0>I.l(b))return l(this.m()*I.m());for(var m=this.g.length+I.g.length,v=[],w=0;w<2*m;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var E=0;E<I.g.length;E++){var C=this.i(w)>>>16,_=this.i(w)&65535,cn=I.i(E)>>>16,us=I.i(E)&65535;v[2*w+2*E]+=_*us,ge(v,2*w+2*E),v[2*w+2*E+1]+=C*us,ge(v,2*w+2*E+1),v[2*w+2*E+1]+=_*cn,ge(v,2*w+2*E+1),v[2*w+2*E+2]+=C*cn,ge(v,2*w+2*E+2)}for(w=0;w<m;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=m;w<2*m;w++)v[w]=0;return new o(v,0)};function ge(I,m){for(;(I[m]&65535)!=I[m];)I[m+1]+=I[m]>>>16,I[m]&=65535,m++}function W(I,m){this.g=I,this.h=m}function ue(I,m){if(A(m))throw Error("division by zero");if(A(I))return new W(p,p);if(x(I))return m=ue(P(I),m),new W(P(m.g),P(m.h));if(x(m))return m=ue(I,P(m)),new W(P(m.g),m.h);if(30<I.g.length){if(x(I)||x(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,w=m;0>=w.l(I);)v=ke(v),w=ke(w);var E=de(v,1),C=de(w,1);for(w=de(w,2),v=de(v,2);!A(w);){var _=C.add(w);0>=_.l(I)&&(E=E.add(v),C=_),w=de(w,1),v=de(v,1)}return m=B(I,E.j(m)),new W(E,m)}for(E=p;0<=I.l(m);){for(v=Math.max(1,Math.floor(I.m()/m.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(v),_=C.j(m);x(_)||0<_.l(I);)v-=w,C=l(v),_=C.j(m);A(C)&&(C=y),E=E.add(C),I=B(I,_)}return new W(E,I)}t.A=function(I){return ue(this,I).h},t.and=function(I){for(var m=Math.max(this.g.length,I.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)&I.i(w);return new o(v,this.h&I.h)},t.or=function(I){for(var m=Math.max(this.g.length,I.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)|I.i(w);return new o(v,this.h|I.h)},t.xor=function(I){for(var m=Math.max(this.g.length,I.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)^I.i(w);return new o(v,this.h^I.h)};function ke(I){for(var m=I.g.length+1,v=[],w=0;w<m;w++)v[w]=I.i(w)<<1|I.i(w-1)>>>31;return new o(v,I.h)}function de(I,m){var v=m>>5;m%=32;for(var w=I.g.length-v,E=[],C=0;C<w;C++)E[C]=0<m?I.i(C+v)>>>m|I.i(C+v+1)<<32-m:I.i(C+v);return new o(E,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DT=bT.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,Hp=bT.Integer=o}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bn={};var ST,AT,RT,NT,xT,PT,MT,kT,OT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in h))break e;h=h[T]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,T={next:function(){if(!g&&h<a.length){var D=h++;return{value:d(D,a[D]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function b(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,T,D){for(var R=Array(arguments.length-2),he=2;he<arguments.length;he++)R[he-2]=arguments[he];return d.prototype[T].apply(g,R)}}function x(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function P(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let T=a.length||0,D=g.length||0;a.length=T+D;for(let R=0;R<D;R++)a[T+R]=g[R]}else a.push(g)}}class B{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ge(a){return/^[\s\xa0]*$/.test(a)}function W(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ue(a){return ue[" "](a),a}ue[" "]=function(){};var ke=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function de(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function I(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(h in g)a[h]=g[h];for(let D=0;D<v.length;D++)h=v[D],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function E(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=ol;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class cn{constructor(){this.h=this.g=null}add(d,h){let g=us.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var us=new B(()=>new tb,a=>a.reset());class tb{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ls,ds=!1,ol=new cn,Mm=()=>{let a=c.Promise.resolve(void 0);ls=()=>{a.then(nb)}};var nb=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var d=us;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ds=!1};function Nn(){this.s=this.s,this.C=this.C}Nn.prototype.s=!1,Nn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ue(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var rb=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function hs(a,d){if(Ue.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(ke){e:{try{ue(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ib[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&hs.aa.h.call(this)}}A(hs,Ue);var ib={2:"touch",3:"pen",4:"mouse"};hs.prototype.h=function(){hs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var fs="closure_listenable_"+(1e6*Math.random()|0),sb=0;function ob(a,d,h,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=T,this.key=++sb,this.da=this.fa=!1}function aa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ca(a){this.src=a,this.g={},this.h=0}ca.prototype.add=function(a,d,h,g,T){var D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);var R=cl(a,d,g,T);return-1<R?(d=a[R],h||(d.fa=!1)):(d=new ob(d,this.src,D,!!g,T),d.fa=h,a.push(d)),d};function al(a,d){var h=d.type;if(h in a.g){var g=a.g[h],T=Array.prototype.indexOf.call(g,d,void 0),D;(D=0<=T)&&Array.prototype.splice.call(g,T,1),D&&(aa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function cl(a,d,h,g){for(var T=0;T<a.length;++T){var D=a[T];if(!D.da&&D.listener==d&&D.capture==!!h&&D.ha==g)return T}return-1}var ul="closure_lm_"+(1e6*Math.random()|0),ll={};function km(a,d,h,g,T){if(g&&g.once)return Fm(a,d,h,g,T);if(Array.isArray(d)){for(var D=0;D<d.length;D++)km(a,d[D],h,g,T);return null}return h=pl(h),a&&a[fs]?a.K(d,h,l(g)?!!g.capture:!!g,T):Om(a,d,h,!1,g,T)}function Om(a,d,h,g,T,D){if(!d)throw Error("Invalid event type");var R=l(T)?!!T.capture:!!T,he=hl(a);if(he||(a[ul]=he=new ca(a)),h=he.add(d,h,g,R,D),h.proxy)return h;if(g=ab(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)rb||(T=R),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(Vm(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function ab(){function a(h){return d.call(a.src,a.listener,h)}let d=cb;return a}function Fm(a,d,h,g,T){if(Array.isArray(d)){for(var D=0;D<d.length;D++)Fm(a,d[D],h,g,T);return null}return h=pl(h),a&&a[fs]?a.L(d,h,l(g)?!!g.capture:!!g,T):Om(a,d,h,!0,g,T)}function Lm(a,d,h,g,T){if(Array.isArray(d))for(var D=0;D<d.length;D++)Lm(a,d[D],h,g,T);else g=l(g)?!!g.capture:!!g,h=pl(h),a&&a[fs]?(a=a.i,d=String(d).toString(),d in a.g&&(D=a.g[d],h=cl(D,h,g,T),-1<h&&(aa(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete a.g[d],a.h--)))):a&&(a=hl(a))&&(d=a.g[d.toString()],a=-1,d&&(a=cl(d,h,g,T)),(h=-1<a?d[a]:null)&&dl(h))}function dl(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[fs])al(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Vm(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=hl(d))?(al(h,a),h.h==0&&(h.src=null,d[ul]=null)):aa(a)}}}function Vm(a){return a in ll?ll[a]:ll[a]="on"+a}function cb(a,d){if(a.da)a=!0;else{d=new hs(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&dl(a),a=h.call(g,d)}return a}function hl(a){return a=a[ul],a instanceof ca?a:null}var fl="__closure_events_fn_"+(1e9*Math.random()>>>0);function pl(a){return typeof a=="function"?a:(a[fl]||(a[fl]=function(d){return a.handleEvent(d)}),a[fl])}function je(){Nn.call(this),this.i=new ca(this),this.M=this,this.F=null}A(je,Nn),je.prototype[fs]=!0,je.prototype.removeEventListener=function(a,d,h,g){Lm(this,a,d,h,g)};function Ke(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ue(d,a);else if(d instanceof Ue)d.target=d.target||a;else{var T=d;d=new Ue(g,a),w(d,T)}if(T=!0,h)for(var D=h.length-1;0<=D;D--){var R=d.g=h[D];T=ua(R,g,!0,d)&&T}if(R=d.g=a,T=ua(R,g,!0,d)&&T,T=ua(R,g,!1,d)&&T,h)for(D=0;D<h.length;D++)R=d.g=h[D],T=ua(R,g,!1,d)&&T}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)aa(h[g]);delete a.g[d],a.h--}}this.F=null},je.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},je.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function ua(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,D=0;D<d.length;++D){var R=d[D];if(R&&!R.da&&R.capture==h){var he=R.listener,Oe=R.ha||R.src;R.fa&&al(a.i,R),T=he.call(Oe,g)!==!1&&T}}return T&&!g.defaultPrevented}function Um(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function jm(a){a.g=Um(()=>{a.g=null,a.i&&(a.i=!1,jm(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class ub extends Nn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:jm(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(a){Nn.call(this),this.h=a,this.g={}}A(ps,Nn);var Bm=[];function $m(a){de(a.g,function(d,h){this.g.hasOwnProperty(h)&&dl(d)},a),a.g={}}ps.prototype.N=function(){ps.aa.N.call(this),$m(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gl=c.JSON.stringify,lb=c.JSON.parse,db=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ml(){}ml.prototype.h=null;function Hm(a){return a.h||(a.h=a.i())}function qm(){}var gs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yl(){Ue.call(this,"d")}A(yl,Ue);function _l(){Ue.call(this,"c")}A(_l,Ue);var or={},zm=null;function la(){return zm=zm||new je}or.La="serverreachability";function Gm(a){Ue.call(this,or.La,a)}A(Gm,Ue);function ms(a){let d=la();Ke(d,new Gm(d))}or.STAT_EVENT="statevent";function Wm(a,d){Ue.call(this,or.STAT_EVENT,a),this.stat=d}A(Wm,Ue);function Qe(a){let d=la();Ke(d,new Wm(d,a))}or.Ma="timingevent";function Km(a,d){Ue.call(this,or.Ma,a),this.size=d}A(Km,Ue);function ys(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function hb(a,d,h,g,T,D){a.info(function(){if(a.g)if(D)for(var R="",he=D.split("&"),Oe=0;Oe<he.length;Oe++){var re=he[Oe].split("=");if(1<re.length){var Be=re[0];re=re[1];var $e=Be.split("_");R=2<=$e.length&&$e[1]=="type"?R+(Be+"="+re+"&"):R+(Be+"=redacted&")}}else R=null;else R=D;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+h+`
`+R})}function fb(a,d,h,g,T,D,R){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+h+`
`+D+" "+R})}function Wr(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+gb(a,h)+(g?" "+g:"")})}function pb(a,d){a.info(function(){return"TIMEOUT: "+d})}_s.prototype.info=function(){};function gb(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var D=T[0];if(D!="noop"&&D!="stop"&&D!="close")for(var R=1;R<T.length;R++)T[R]=""}}}}return gl(h)}catch{return d}}var da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vl;function ha(){}A(ha,ml),ha.prototype.g=function(){return new XMLHttpRequest},ha.prototype.i=function(){return{}},vl=new ha;function xn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ym}function Ym(){this.i=null,this.g="",this.h=!1}var Zm={},wl={};function Il(a,d,h){a.L=1,a.v=ma(un(d)),a.m=h,a.P=!0,Jm(a,null)}function Jm(a,d){a.F=Date.now(),fa(a),a.A=un(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),hy(h.i,"t",g),a.C=0,h=a.j.J,a.h=new Ym,a.g=Ny(a.j,h?d:null,!a.m),0<a.O&&(a.M=new ub(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(Bm[0]=T.toString()),T=Bm);for(var D=0;D<T.length;D++){var R=km(h,T[D],g||d.handleEvent,!1,d.h||d);if(!R)break;d.g[R.key]=R}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ms(),hb(a.i,a.u,a.A,a.l,a.R,a.m)}xn.prototype.ca=function(a){a=a.target;let d=this.M;d&&ln(a)==3?d.j():this.Y(a)},xn.prototype.Y=function(a){try{if(a==this.g)e:{let $e=ln(this.g);var d=this.g.Ba();let Yr=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||vy(this.g)))){this.J||$e!=4||d==7||(d==8||0>=Yr?ms(3):ms(2)),El(this);var h=this.g.Z();this.X=h;t:if(Xm(this)){var g=vy(this.g);a="";var T=g.length,D=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ar(this),vs(this);var R="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(D&&d==T-1)});g.length=0,this.h.g+=a,this.C=0,R=this.h.g}else R=this.g.oa();if(this.o=h==200,fb(this.i,this.u,this.A,this.l,this.R,$e,h),this.o){if(this.T&&!this.K){t:{if(this.g){var he,Oe=this.g;if((he=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(he)){var re=he;break t}}re=null}if(h=re)Wr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tl(this,h);else{this.o=!1,this.s=3,Qe(12),ar(this),vs(this);break e}}if(this.P){h=!0;let At;for(;!this.J&&this.C<R.length;)if(At=mb(this,R),At==wl){$e==4&&(this.s=4,Qe(14),h=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Zm){this.s=4,Qe(15),Wr(this.i,this.l,R,"[Invalid Chunk]"),h=!1;break}else Wr(this.i,this.l,At,null),Tl(this,At);if(Xm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||R.length!=0||this.h.h||(this.s=1,Qe(16),h=!1),this.o=this.o&&h,!h)Wr(this.i,this.l,R,"[Invalid Chunked Response]"),ar(this),vs(this);else if(0<R.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Rl(Be),Be.M=!0,Qe(11))}}else Wr(this.i,this.l,R,null),Tl(this,R);$e==4&&ar(this),this.o&&!this.J&&($e==4?Dy(this.j,this):(this.o=!1,fa(this)))}else Mb(this.g),h==400&&0<R.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),ar(this),vs(this)}}}catch{}finally{}};function Xm(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function mb(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?wl:(h=Number(d.substring(h,g)),isNaN(h)?Zm:(g+=1,g+h>d.length?wl:(d=d.slice(g,g+h),a.C=g+h,d)))}xn.prototype.cancel=function(){this.J=!0,ar(this)};function fa(a){a.S=Date.now()+a.I,ey(a,a.I)}function ey(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ys(y(a.ba,a),d)}function El(a){a.B&&(c.clearTimeout(a.B),a.B=null)}xn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(pb(this.i,this.A),this.L!=2&&(ms(),Qe(17)),ar(this),this.s=2,vs(this)):ey(this,this.S-a)};function vs(a){a.j.G==0||a.J||Dy(a.j,a)}function ar(a){El(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,$m(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Tl(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Cl(h.h,a))){if(!a.K&&Cl(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ia(h),va(h);else break e;Al(h),Qe(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=ys(y(h.Za,h),6e3));if(1>=ry(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else ur(h,11)}else if((a.K||h.g==a)&&Ia(h),!ge(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let re=T[d];if(h.T=re[0],re=re[1],h.G==2)if(re[0]=="c"){h.K=re[1],h.ia=re[2];let Be=re[3];Be!=null&&(h.la=Be,h.j.info("VER="+h.la));let $e=re[4];$e!=null&&(h.Aa=$e,h.j.info("SVER="+h.Aa));let Yr=re[5];Yr!=null&&typeof Yr=="number"&&0<Yr&&(g=1.5*Yr,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let At=a.g;if(At){let Ta=At.g?At.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var D=g.h;D.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(bl(D,D.h),D.h=null))}if(g.D){let Nl=At.g?At.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(g.ya=Nl,me(g.I,g.D,Nl))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var R=a;if(g.qa=Ry(g,g.J?g.ia:null,g.W),R.K){iy(g.h,R);var he=R,Oe=g.L;Oe&&(he.I=Oe),he.B&&(El(he),fa(he)),g.g=R}else Cy(g);0<h.i.length&&wa(h)}else re[0]!="stop"&&re[0]!="close"||ur(h,7);else h.G==3&&(re[0]=="stop"||re[0]=="close"?re[0]=="stop"?ur(h,7):Sl(h):re[0]!="noop"&&h.l&&h.l.ta(re),h.v=0)}}ms(4)}catch{}}var yb=class{constructor(a,d){this.g=a,this.map=d}};function ty(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ny(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ry(a){return a.h?1:a.g?a.g.size:0}function Cl(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function bl(a,d){a.g?a.g.add(d):a.h=d}function iy(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}ty.prototype.cancel=function(){if(this.i=sy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function sy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return x(a.i)}function _b(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function vb(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function oy(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=vb(a),g=_b(a),T=g.length,D=0;D<T;D++)d.call(void 0,g[D],h&&h[D],a)}var ay=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wb(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),T=null;if(0<=g){var D=a[h].substring(0,g);T=a[h].substring(g+1)}else D=a[h];d(D,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function cr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof cr){this.h=a.h,pa(this,a.j),this.o=a.o,this.g=a.g,ga(this,a.s),this.l=a.l;var d=a.i,h=new Es;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),cy(this,h),this.m=a.m}else a&&(d=String(a).match(ay))?(this.h=!1,pa(this,d[1]||"",!0),this.o=ws(d[2]||""),this.g=ws(d[3]||"",!0),ga(this,d[4]),this.l=ws(d[5]||"",!0),cy(this,d[6]||"",!0),this.m=ws(d[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}cr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Is(d,uy,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Is(d,uy,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Is(h,h.charAt(0)=="/"?Tb:Eb,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Is(h,bb)),a.join("")};function un(a){return new cr(a)}function pa(a,d,h){a.j=h?ws(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ga(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function cy(a,d,h){d instanceof Es?(a.i=d,Db(a.i,a.h)):(h||(d=Is(d,Cb)),a.i=new Es(d,a.h))}function me(a,d,h){a.i.set(d,h)}function ma(a){return me(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ws(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Is(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,Ib),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ib(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var uy=/[#\/\?@]/g,Eb=/[#\?:]/g,Tb=/[#\?]/g,Cb=/[#\?@]/g,bb=/#/g;function Es(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Pn(a){a.g||(a.g=new Map,a.h=0,a.i&&wb(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Es.prototype,t.add=function(a,d){Pn(this),this.i=null,a=Kr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function ly(a,d){Pn(a),d=Kr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function dy(a,d){return Pn(a),d=Kr(a,d),a.g.has(d)}t.forEach=function(a,d){Pn(this),this.g.forEach(function(h,g){h.forEach(function(T){a.call(d,T,g,this)},this)},this)},t.na=function(){Pn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let T=a[g];for(let D=0;D<T.length;D++)h.push(d[g])}return h},t.V=function(a){Pn(this);let d=[];if(typeof a=="string")dy(this,a)&&(d=d.concat(this.g.get(Kr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Pn(this),this.i=null,a=Kr(this,a),dy(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function hy(a,d,h){ly(a,d),0<h.length&&(a.i=null,a.g.set(Kr(a,d),x(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let D=encodeURIComponent(String(g)),R=this.V(g);for(g=0;g<R.length;g++){var T=D;R[g]!==""&&(T+="="+encodeURIComponent(String(R[g]))),a.push(T)}}return this.i=a.join("&")};function Kr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Db(a,d){d&&!a.j&&(Pn(a),a.i=null,a.g.forEach(function(h,g){var T=g.toLowerCase();g!=T&&(ly(this,g),hy(this,T,h))},a)),a.j=d}function Sb(a,d){let h=new _s;if(c.Image){let g=new Image;g.onload=b(Mn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=b(Mn,h,"TestLoadImage: error",!1,d,g),g.onabort=b(Mn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=b(Mn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function Ab(a,d){let h=new _s,g=new AbortController,T=setTimeout(()=>{g.abort(),Mn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(D=>{clearTimeout(T),D.ok?Mn(h,"TestPingServer: ok",!0,d):Mn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Mn(h,"TestPingServer: error",!1,d)})}function Mn(a,d,h,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(h)}catch{}}function Rb(){this.g=new db}function Nb(a,d,h){let g=h||"";try{oy(a,function(T,D){let R=T;l(T)&&(R=gl(T)),d.push(g+D+"="+encodeURIComponent(R))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Ts(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ts,ml),Ts.prototype.g=function(){return new ya(this.l,this.j)},Ts.prototype.i=function(a){return function(){return a}}({});function ya(a,d){je.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ya,je),t=ya.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,bs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,bs(this)),this.g&&(this.readyState=3,bs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function fy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Cs(this):bs(this),this.readyState==3&&fy(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Cs(this))},t.Qa=function(a){this.g&&(this.response=a,Cs(this))},t.ga=function(){this.g&&Cs(this)};function Cs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,bs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function bs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ya.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function py(a){let d="";return de(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Dl(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=py(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):me(a,d,h))}function we(a){je.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(we,je);var xb=/^https?$/i,Pb=["POST","PUT"];t=we.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vl.g(),this.v=this.o?Hm(this.o):Hm(vl),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(D){gy(this,D);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)h.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let D of g.keys())h.set(D,g.get(D));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Pb,d,void 0))||g||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,R]of h)this.g.setRequestHeader(D,R);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_y(this),this.u=!0,this.g.send(a),this.u=!1}catch(D){gy(this,D)}};function gy(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,my(a),_a(a)}function my(a){a.A||(a.A=!0,Ke(a,"complete"),Ke(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ke(this,"complete"),Ke(this,"abort"),_a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_a(this,!0)),we.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yy(this):this.bb())},t.bb=function(){yy(this)};function yy(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ln(a)!=4||a.Z()!=2)){if(a.u&&ln(a)==4)Um(a.Ea,0,a);else if(Ke(a,"readystatechange"),ln(a)==4){a.h=!1;try{let R=a.Z();e:switch(R){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=R===0){var T=String(a.D).match(ay)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!xb.test(T?T.toLowerCase():"")}h=g}if(h)Ke(a,"complete"),Ke(a,"success");else{a.m=6;try{var D=2<ln(a)?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.Z()+"]",my(a)}}finally{_a(a)}}}}function _a(a,d){if(a.g){_y(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Ke(a,"ready");try{h.onreadystatechange=g}catch{}}}function _y(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ln(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),lb(d)}};function vy(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Mb(a){let d={};a=(a.g&&2<=ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(ge(a[g]))continue;var h=E(a[g]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let D=d[T]||[];d[T]=D,D.push(h)}I(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function wy(a){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,a),this.cb=Ds("retryDelaySeedMs",1e4,a),this.Wa=Ds("forwardChannelMaxRetries",2,a),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ty(a&&a.concurrentRequestLimit),this.Da=new Rb,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wy.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){Qe(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Ry(this,null,this.W),wa(this)};function Sl(a){if(Iy(a),a.G==3){var d=a.U++,h=un(a.I);if(me(h,"SID",a.K),me(h,"RID",d),me(h,"TYPE","terminate"),Ss(a,h),d=new xn(a,a.j,d),d.L=2,d.v=ma(un(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Ny(d.j,null),d.g.ea(d.v)),d.F=Date.now(),fa(d)}Ay(a)}function va(a){a.g&&(Rl(a),a.g.cancel(),a.g=null)}function Iy(a){va(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ia(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function wa(a){if(!ny(a.h)&&!a.s){a.s=!0;var d=a.Ga;ls||Mm(),ds||(ls(),ds=!0),ol.add(d,a),a.B=0}}function kb(a,d){return ry(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ys(y(a.Ga,a,d),Sy(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new xn(this,this.j,a),D=this.o;if(this.S&&(D?(D=m(D),w(D,this.S)):D=this.S),this.m!==null||this.O||(T.H=D,D=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Ty(this,T,d),h=un(this.I),me(h,"RID",a),me(h,"CVER",22),this.D&&me(h,"X-HTTP-Session-Id",this.D),Ss(this,h),D&&(this.O?d="headers="+encodeURIComponent(String(py(D)))+"&"+d:this.m&&Dl(h,this.m,D)),bl(this.h,T),this.Ua&&me(h,"TYPE","init"),this.P?(me(h,"$req",d),me(h,"SID","null"),T.T=!0,Il(T,h,null)):Il(T,h,d),this.G=2}}else this.G==3&&(a?Ey(this,a):this.i.length==0||ny(this.h)||Ey(this))};function Ey(a,d){var h;d?h=d.l:h=a.U++;let g=un(a.I);me(g,"SID",a.K),me(g,"RID",h),me(g,"AID",a.T),Ss(a,g),a.m&&a.o&&Dl(g,a.m,a.o),h=new xn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Ty(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),bl(a.h,h),Il(h,g,d)}function Ss(a,d){a.H&&de(a.H,function(h,g){me(d,g,h)}),a.l&&oy({},function(h,g){me(d,g,h)})}function Ty(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var T=a.i;let D=-1;for(;;){let R=["count="+h];D==-1?0<h?(D=T[0].g,R.push("ofs="+D)):D=0:R.push("ofs="+D);let he=!0;for(let Oe=0;Oe<h;Oe++){let re=T[Oe].g,Be=T[Oe].map;if(re-=D,0>re)D=Math.max(0,T[Oe].g-100),he=!1;else try{Nb(Be,R,"req"+re+"_")}catch{g&&g(Be)}}if(he){g=R.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function Cy(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ls||Mm(),ds||(ls(),ds=!0),ol.add(d,a),a.v=0}}function Al(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ys(y(a.Fa,a),Sy(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,by(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ys(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),va(this),by(this))};function Rl(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function by(a){a.g=new xn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=un(a.qa);me(d,"RID","rpc"),me(d,"SID",a.K),me(d,"AID",a.T),me(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&me(d,"TO",a.ja),me(d,"TYPE","xmlhttp"),Ss(a,d),a.m&&a.o&&Dl(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=ma(un(d)),h.m=null,h.P=!0,Jm(h,a)}t.Za=function(){this.C!=null&&(this.C=null,va(this),Al(this),Qe(19))};function Ia(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Dy(a,d){var h=null;if(a.g==d){Ia(a),Rl(a),a.g=null;var g=2}else if(Cl(a.h,d))h=d.D,iy(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;g=la(),Ke(g,new Km(g,h)),wa(a)}else Cy(a);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&kb(a,d)||g==2&&Al(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),T){case 1:ur(a,5);break;case 4:ur(a,10);break;case 3:ur(a,6);break;default:ur(a,2)}}}function Sy(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function ur(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let T=!g;g=new cr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||pa(g,"https"),ma(g),T?Sb(g.toString(),h):Ab(g.toString(),h)}else Qe(2);a.G=0,a.l&&a.l.sa(d),Ay(a),Iy(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function Ay(a){if(a.G=0,a.ka=[],a.l){let d=sy(a.h);(d.length!=0||a.i.length!=0)&&(P(a.ka,d),P(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Ry(a,d,h){var g=h instanceof cr?un(h):new cr(h);if(g.g!="")d&&(g.g=d+"."+g.g),ga(g,g.s);else{var T=c.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var D=new cr(null);g&&pa(D,g),d&&(D.g=d),T&&ga(D,T),h&&(D.l=h),g=D}return h=a.D,d=a.ya,h&&d&&me(g,h,d),me(g,"VER",a.la),Ss(a,g),g}function Ny(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new we(new Ts({eb:h})):new we(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xy(){}t=xy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ea(){}Ea.prototype.g=function(a,d){return new ot(a,d)};function ot(a,d){je.call(this),this.g=new wy(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!ge(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ge(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Qr(this)}A(ot,je),ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ot.prototype.close=function(){Sl(this.g)},ot.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=gl(a),a=h);d.i.push(new yb(d.Ya++,a)),d.G==3&&wa(d)},ot.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,ot.aa.N.call(this)};function Py(a){yl.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(Py,yl);function My(){_l.call(this),this.status=1}A(My,_l);function Qr(a){this.g=a}A(Qr,xy),Qr.prototype.ua=function(){Ke(this.g,"a")},Qr.prototype.ta=function(a){Ke(this.g,new Py(a))},Qr.prototype.sa=function(a){Ke(this.g,new My)},Qr.prototype.ra=function(){Ke(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,ot.prototype.send=ot.prototype.o,ot.prototype.open=ot.prototype.m,ot.prototype.close=ot.prototype.close,OT=bn.createWebChannelTransport=function(){return new Ea},kT=bn.getStatEventTarget=function(){return la()},MT=bn.Event=or,PT=bn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,xT=bn.ErrorCode=da,Qm.COMPLETE="complete",NT=bn.EventType=Qm,qm.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",je.prototype.listen=je.prototype.K,RT=bn.WebChannel=qm,AT=bn.FetchXmlHttpFactory=Ts,we.prototype.listenOnce=we.prototype.L,we.prototype.getLastError=we.prototype.Ka,we.prototype.getLastErrorCode=we.prototype.Ba,we.prototype.getStatus=we.prototype.Z,we.prototype.getResponseJson=we.prototype.Oa,we.prototype.getResponseText=we.prototype.oa,we.prototype.send=we.prototype.ea,we.prototype.setWithCredentials=we.prototype.Ha,ST=bn.XhrIo=we}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});var FT="@firebase/firestore";var Pe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");var jo="10.12.1";var zi=new Zt("@firebase/firestore");function gt(t,...e){if(zi.logLevel<=ne.DEBUG){let n=e.map(lg);zi.debug(`Firestore (${jo}): ${t}`,...n)}}function ug(t,...e){if(zi.logLevel<=ne.ERROR){let n=e.map(lg);zi.error(`Firestore (${jo}): ${t}`,...n)}}function jO(t,...e){if(zi.logLevel<=ne.WARN){let n=e.map(lg);zi.warn(`Firestore (${jo}): ${t}`,...n)}}function lg(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function it(t="Unexpected state"){let e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+t;throw ug(e),new Error(e)}function Uo(t,e){t||it()}var Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ae=class extends et{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var rr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Ou=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}},Gp=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Wp=class{constructor(e){this.t=e,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Uo(typeof r.accessToken=="string"),new Ou(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Uo(e===null||typeof e=="string"),new Pe(e)}},Kp=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Qp=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Kp(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Yp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zp=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,gt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Uo(typeof n.token=="string"),this.R=n.token,new Yp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function BO(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=BO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function BT(t,e){return t<e?-1:t>e?1:0}var Xp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&it(),r===void 0?r=e.length-n:r>e.length-n&&it(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},nr=class t extends Xp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Ae(Ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}};var Ur=class t{constructor(e){this.path=e}static fromPath(e){return new t(nr.fromString(e))}static fromName(e){return new t(nr.fromString(e).popFirst(5))}static empty(){return new t(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new nr(e.slice()))}};var eg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};eg.UNKNOWN_ID=-1;function $T(t){return t.name==="IndexedDbTransactionError"}function $O(t){return t===0&&1/t==-1/0}var HO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J9=[...HO,"documentOverlays"],qO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],zO=qO,X9=[...zO,"indexConfiguration","indexState","indexEntries"];var Gi=class t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qi(this.root,e,this.comparator,!1)}getReverseIterator(){return new qi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qi(this.root,e,this.comparator,!0)}},qi=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},on=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();let e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}};on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(e,n,r,i,s){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Fu=class t{constructor(e){this.comparator=e,this.data=new Gi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lu(this.data.getIterator())}getIteratorFrom(e){return new Lu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Lu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var tg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Wi=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return BT(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Wi.EMPTY_BYTE_STRING=new Wi("");var GO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function WO(t){if(Uo(!!t),typeof t=="string"){let e=0,n=GO.exec(t);if(Uo(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vu(t.seconds),nanos:Vu(t.nanos)}}function Vu(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function KO(t){return typeof t=="string"?Wi.fromBase64String(t):Wi.fromUint8Array(t)}var ng=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},rg=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};function QO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var t8=new Gi(Ur.comparator);var n8=new Gi(Ur.comparator);var r8=new Gi(Ur.comparator),i8=new Fu(Ur.comparator);var s8=new Fu(BT);var LT,J;(J=LT||(LT={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";var o8=new Hp([4294967295,4294967295],0);var Uu=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Vu(e.integerValue));else if("doubleValue"in e){let r=Vu(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),$O(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=WO(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(KO(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?QO(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):it()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),Ur.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Uu.bt=new Uu;var a8=new Uint8Array(0);var sn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);function qp(){return typeof document<"u"?document:null}var ig=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&gt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var sg=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function YO(t,e){if(ug("AsyncQueue",`${e}: ${t}`),$T(t))return new Ae(Ve.UNAVAILABLE,`${e}: ${t}`);throw t}var VT,UT;(UT=VT||(VT={})).J_="default",UT.Cache="cache";var og=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pe.UNAUTHENTICATED,this.clientId=Jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>S(this,null,function*(){gt("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(gt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=YO(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function HT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jT=new Map;function ZO(t,e,n,r){if(e===!0&&r===!0)throw new Ae(Ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JO(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it()}function XO(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=JO(t);throw new Ae(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ju=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ae(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ae(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Bu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ju({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ae(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ju(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zp;switch(r.type){case"firstParty":return new Qp(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=jT.get(n);r&&(gt("ComponentProvider","Removing Datastore"),jT.delete(n),r.terminate())}(this),Promise.resolve()}};function qT(t,e,n,r={}){var i;let s=(t=XO(t,Bu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&jO("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Pe.MOCK_USER;else{c=ji(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Ae(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Pe(l)}t._authCredentials=new Gp(new Ou(c,u))}}var ag=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ig(this,"async_queue_retry"),this.hu=()=>{let n=qp();n&&gt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=qp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new rr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return S(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!$T(e))throw e;gt("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw ug("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=sg.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&it()}verifyOperationInProgress(){}du(){return S(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var cg=class extends Bu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new ag}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eF(this),this._firestoreClient.terminate()}};function zT(t,e){let n=typeof t=="object"?t:Xt(),r=typeof t=="string"?t:e||"(default)",i=vn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Ui("firestore");s&&qT(i,...s)}return i}function eF(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new ng(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,HT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new og(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var c8=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(i){jo=i})(Ct),Tt(new qe("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new cg(new Wp(r.getProvider("auth-internal")),new Zp(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Ae(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rg(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ce(FT,"4.6.3",e),ce(FT,"4.6.3","esm2017")})();var Bo=class{constructor(e){return e}},GT="firestore",dg=class{constructor(){return In(GT)}};var hg=new V("angularfire2.firestore-instances");function tF(t,e){let n=Jn(GT,t,e);return n&&new Bo(n)}function nF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Bo(r)}}var rF={provide:dg,deps:[[new _e,hg]]},iF={provide:Bo,useFactory:tF,deps:[[new _e,hg],pt]};function WT(t,...e){return ce("angularfire",Vt.full,"fst"),nt([iF,rF,{provide:hg,useFactory:nF(t),multi:!0,deps:[se,Je,tn,Ut,[new _e,Cn],[new _e,en],...e]}])}var KT=nn(zT,!0);var QT="@firebase/database",YT="1.0.5";var lm="";function sF(t){lm=t}var wg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Vi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Ig=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Yt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var AC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wg(e)}}catch{}return new Ig},Br=AC("localStorage"),Eg=AC("sessionStorage");var Zi=new Zt("@firebase/database"),oF=function(){let t=1;return function(){return t++}}(),RC=function(t){let e=yE(t),n=new cu;n.update(e);let r=n.digest();return uu.encodeByteArray(r)},ea=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ea.apply(null,r):typeof r=="object"?e+=xe(r):e+=r,e+=" "}return e},$r=null,ZT=!0,aF=function(t,e){N(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Zi.logLevel=ne.VERBOSE,$r=Zi.log.bind(Zi),e&&Eg.set("logging_enabled",!0)):typeof t=="function"?$r=t:($r=null,Eg.remove("logging_enabled"))},ze=function(...t){if(ZT===!0&&(ZT=!1,$r===null&&Eg.get("logging_enabled")===!0&&aF(!0)),$r){let e=ea.apply(null,t);$r(e)}},ta=function(t){return function(...e){ze(t,...e)}},Tg=function(...t){let e="FIREBASE INTERNAL ERROR: "+ea(...t);Zi.error(e)},Sn=function(...t){let e=`FIREBASE FATAL ERROR: ${ea(...t)}`;throw Zi.error(e),new Error(e)},mt=function(...t){let e="FIREBASE WARNING: "+ea(...t);Zi.warn(e)},cF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},NC=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},uF=function(t){if(Qt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xi="[MIN_NAME]",Hr="[MAX_NAME]",os=function(t,e){if(t===e)return 0;if(t===Xi||e===Hr)return-1;if(e===Xi||t===Hr)return 1;{let n=JT(t),r=JT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lF=function(t,e){return t===e?0:t<e?-1:1},$o=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+xe(e))},dm=function(t){if(typeof t!="object"||t===null)return xe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=xe(e[r]),n+=":",n+=dm(t[e[r]]);return n+="}",n},xC=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function St(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var PC=function(t){N(!NC(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,c,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,o=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(u=n;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();let f=l.join(""),p="";for(u=0;u<64;u+=8){let y=parseInt(f.substr(u,8),2).toString(16);y.length===1&&(y="0"+y),p=p+y}return p.toLowerCase()},dF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var fF=new RegExp("^-?(0*)\\d{1,10}$"),pF=-2147483648,gF=2147483647,JT=function(t){if(fF.test(t)){let e=Number(t);if(e>=pF&&e<=gF)return e}return null},na=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw mt("Exception was thrown by user callback.",n),e},Math.floor(0))}},mF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Wo=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Cg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var bg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',mt(e)}},Ko=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Hu="5",MC="v",kC="s",OC="r",FC="f",LC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,VC="ls",UC="p",Dg="ac",jC="websocket",BC="long_polling";var qu=class{constructor(e,n,r,i,s=!1,o="",c=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Br.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Br.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function yF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function $C(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let r;if(e===jC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===BC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yF(t)&&(n.ns=t.namespace);let i=[];return St(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Sg=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Yt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return aE(this.counters_)}};var fg={},pg={};function hm(t){let e=t.toString();return fg[e]||(fg[e]=new Sg),fg[e]}function _F(t,e){let n=t.toString();return pg[n]||(pg[n]=e()),pg[n]}var Ag=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&na(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var XT="start",vF="close",wF="pLPCommand",IF="pRTLPCB",HC="id",qC="pw",zC="ser",EF="cb",TF="seg",CF="ts",bF="d",DF="dframe",GC=1870,WC=30,SF=GC-WC,AF=25e3,RF=3e4,Rg=class t{constructor(e,n,r,i,s,o,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ta(e),this.stats_=hm(n),this.urlFn=u=>(this.appCheckToken&&(u[Dg]=this.appCheckToken),$C(n,BC,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ag(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(RF)),uF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ng((...s)=>{let[o,c,u,l,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===XT)this.id=c,this.password=u;else if(o===vF)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);let r={};r[XT]="t",r[zC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[EF]=this.scriptTagHolder.uniqueCallbackIdentifier),r[MC]=Hu,this.transportSessionId&&(r[kC]=this.transportSessionId),this.lastSessionId&&(r[VC]=this.lastSessionId),this.applicationId&&(r[UC]=this.applicationId),this.appCheckToken&&(r[Dg]=this.appCheckToken),typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(r[OC]=FC);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Qt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dF()&&!hF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=jf(n),i=xC(r,SF);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Qt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[DF]="t",r[HC]=e,r[qC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Ng=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Qt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=oF(),window[wF+this.uniqueCallbackIdentifier]=e,window[IF+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){ze("frame writing exception"),c.stack&&ze(c.stack),ze(c)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ze("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[HC]=this.myID,e[qC]=this.myPW,e[zC]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+WC+r.length<=GC;){let o=this.pendingSegs.shift();r=r+"&"+TF+i+"="+o.seg+"&"+CF+i+"="+o.ts+"&"+bF+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(AF)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){Qt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ze("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var NF=16384,xF=45e3,zu=null;typeof MozWebSocket<"u"?zu=MozWebSocket:typeof WebSocket<"u"&&(zu=WebSocket);var Ho=(()=>{class t{constructor(n,r,i,s,o,c,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ta(this.connId),this.stats_=hm(r),this.connURL=t.connectionURL_(r,c,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let c={};return c[MC]=Hu,!Qt()&&typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(c[OC]=FC),r&&(c[kC]=r),i&&(c[VC]=i),s&&(c[Dg]=s),o&&(c[UC]=o),$C(n,jC,c)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Br.set("previous_websocket_failure",!0);try{let i;if(Qt()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Hu}/${lm}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,c=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;c&&(i.proxy={origin:c})}this.mySock=new zu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&zu!==null&&!t.forceDisallow_}static previouslyFailed(){return Br.isInMemoryStorage||Br.get("previous_websocket_failure")===!0}markConnectionHealthy(){Br.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Vi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(N(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=xe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=xC(r,NF);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xF))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),PF=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Rg,Ho]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ho&&Ho.isAvailable(),i=r&&!Ho.previouslyFailed();if(n.webSocketOnly&&(r||mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ho];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),MF=6e4,kF=5e3,OF=10*1024,FF=100*1024,gg="t",eC="d",LF="s",tC="r",VF="e",nC="o",rC="a",iC="n",sC="p",UF="h",xg=class{constructor(e,n,r,i,s,o,c,u,l,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ta("c:"+this.id+":"),this.transportManager_=new PF(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Wo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>FF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>OF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(gg in e){let n=e[gg];n===rC?this.upgradeIfSecondaryHealthy_():n===tC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===nC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=$o("t",e),r=$o("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:rC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:iC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=$o("t",e),r=$o("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=$o(gg,e);if(eC in e){let r=e[eC];if(n===UF){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===iC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===LF?this.onConnectionShutdown_(r):n===tC?this.onReset_(r):n===VF?Tg("Server Error: "+r):n===nC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Hu!==r&&mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Wo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(MF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(kF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sC,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Br.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Gu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Wu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ku=class t extends Wu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!bo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var oC=32,aC=768,pe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function le(){return new pe("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function sr(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function KC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function jF(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function QC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function YC(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function Me(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function bt(t,e){let n=X(t),r=X(e);if(n===null)return e;if(n===r)return bt(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ZC(t,e){if(sr(t)!==sr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Bt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(sr(t)>sr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Pg=class{constructor(e,n){this.errorPrefix_=n,this.parts_=QC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ao(this.parts_[r]);JC(this)}};function BF(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ao(e),JC(t)}function $F(t){let e=t.parts_.pop();t.byteLength_-=Ao(e),t.parts_.length>0&&(t.byteLength_-=1)}function JC(t){if(t.byteLength_>aC)throw new Error(t.errorPrefix_+"has a key path longer than "+aC+" bytes ("+t.byteLength_+").");if(t.parts_.length>oC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+oC+") or object contains a cycle "+jr(t))}function jr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Mg=class t extends Wu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}};var qo=1e3,HF=60*5*1e3,cC=30*1e3,qF=1.3,zF=3e4,GF="server_kill",uC=3,fm=(()=>{class t extends Gu{constructor(n,r,i,s,o,c,u,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=ta("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qo,this.maxReconnectDelay_=HF,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Qt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ku.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(xe(o)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Sr,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:c=>{let u=c.d;c.s==="ok"?r.resolve(u):r.reject(u)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,c=n._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),N(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");let u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},c="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(c,o,u=>{let l=u.d,f=u.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),f!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(f,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Yt(n,"w")){let i=Rr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||pE(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cC)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=fE(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,c=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),N(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},c="n";s&&(o.q=i,o.t=s),this.sendRequest(c,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let c={p:r,d:i};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;let u=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(u):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+xe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Tg("Unrecognized action received from server: "+xe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zF&&(this.reconnectDelay_=qo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qF)}this.onConnectStatus_(!1)}establishConnection_(){return S(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,c=!1,u=null,l=function(){u?u.close():(c=!0,i())},f=function(y){N(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(y)};this.realtime_={close:l,sendRequest:f};let p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[y,b]=yield Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?ze("getToken() completed but was canceled"):(ze("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=b&&b.token,u=new xg(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,A=>{mt(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(GF)},o))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&mt(y),l())}}})}interrupt(n){ze("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ze("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Do(this.interruptReasons_)&&(this.reconnectDelay_=qo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>dm(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new pe(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){ze("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uC&&(this.reconnectDelay_=cC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ze("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Qt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+lm.replace(/\./g,"-")]=1,bo()?n["framework.cordova"]=1:lu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ku.getInstance().currentlyOnline();return Do(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),ee=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var es=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new ee(Xi,e),i=new ee(Xi,n);return this.compare(r,i)!==0}minPost(){return ee.MIN}};var $u,Qu=class extends es{static get __EMPTY_NODE(){return $u}static set __EMPTY_NODE(e){$u=e}compare(e,n){return os(e.name,n.name)}isDefinedOn(e){throw Ar("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Hr,$u)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,$u)}toString(){return".key"}},Ji=new Qu;var Qi=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},jt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Dt.EMPTY_NODE,this.right=o??Dt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),kg=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Dt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,jt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qi(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qi(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qi(this.root_,null,this.comparator_,!0,e)}};Dt.EMPTY_NODE=new kg;function WF(t,e){return os(t.name,e.name)}function pm(t,e){return os(t,e)}var Og;function KF(t){Og=t}var XC=function(t){return typeof t=="number"?"number:"+PC(t):"string:"+t},e0=function(t){if(t.isLeafNode()){let e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Yt(e,".sv"),"Priority must be a string or number.")}else N(t===Og||t.isEmpty(),"priority of unexpected type.");N(t===Og||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var lC,ts=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),e0(this.priorityNode_)}static set __childrenNodeConstructor(n){lC=n}static get __childrenNodeConstructor(){return lC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:X(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=X(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(N(i!==".priority"||sr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+XC(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=PC(this.value_):n+=this.value_,this.lazyHash_=RC(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(N(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return N(s>=0,"Unknown leaf type: "+r),N(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),t0,n0;function QF(t){t0=t}function YF(t){n0=t}var Fg=class extends es{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?os(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Hr,new ts("[PRIORITY-POST]",n0))}makePost(e,n){let r=t0(e);return new ee(n,new ts("[PRIORITY-POST]",r))}toString(){return".priority"}},We=new Fg;var ZF=Math.log(2),Lg=class{constructor(e){let n=s=>parseInt(Math.log(s)/ZF,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Yu=function(t,e,n,r){t.sort(e);let i=function(u,l){let f=l-u,p,y;if(f===0)return null;if(f===1)return p=t[u],y=n?n(p):p,new jt(y,p.node,jt.BLACK,null,null);{let b=parseInt(f/2,10)+u,A=i(u,b),x=i(b+1,l);return p=t[b],y=n?n(p):p,new jt(y,p.node,jt.BLACK,A,x)}},s=function(u){let l=null,f=null,p=t.length,y=function(A,x){let P=p-A,B=p;p-=A;let ge=i(P+1,B),W=t[P],ue=n?n(W):W;b(new jt(ue,W.node,x,null,ge))},b=function(A){l?(l.left=A,l=A):(f=A,l=A)};for(let A=0;A<u.count;++A){let x=u.nextBitIsOne(),P=Math.pow(2,u.count-(A+1));x?y(P,jt.BLACK):(y(P,jt.BLACK),y(P,jt.RED))}return f},o=new Lg(t.length),c=s(o);return new Dt(r||e,c)};var mg,Ki={},ns=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(Ki&&We,"ChildrenNode.ts has not been loaded"),mg=mg||new t({".priority":Ki},{".priority":We}),mg}get(e){let n=Rr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Dt?n:null}hasIndex(e){return Yt(this.indexSet_,e.toString())}addIndex(e,n){N(e!==Ji,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(ee.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Yu(r,e.getCompare()):c=Ki;let u=e.toString(),l=Object.assign({},this.indexSet_);l[u]=e;let f=Object.assign({},this.indexes_);return f[u]=c,new t(f,l)}addToIndexes(e,n){let r=So(this.indexes_,(i,s)=>{let o=Rr(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),i===Ki)if(o.isDefinedOn(e.node)){let c=[],u=n.getIterator(ee.Wrap),l=u.getNext();for(;l;)l.name!==e.name&&c.push(l),l=u.getNext();return c.push(e),Yu(c,o.getCompare())}else return Ki;else{let c=n.get(e.name),u=i;return c&&(u=u.remove(new ee(e.name,c))),u.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=So(this.indexes_,i=>{if(i===Ki)return i;{let s=n.get(e.name);return s?i.remove(new ee(e.name,s)):i}});return new t(r,this.indexSet_)}};var zo,ve=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&e0(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zo||(zo=new t(new Dt(pm),null,ns.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zo}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?zo:r}}getChild(n){let r=X(n);return r===null?this:this.getImmediateChild(r).getChild(ye(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(N(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new ee(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let c=s.isEmpty()?zo:this.priorityNode_;return new t(s,c,o)}}updateChild(n,r){let i=X(n);if(i===null)return r;{N(X(n)!==".priority"||sr(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(ye(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(We,(c,u)=>{r[c]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):o=!1}),!n&&o&&s<2*i){let c=[];for(let u in r)c[u]=r[u];return c}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+XC(this.getPriority().val())+":"),this.forEachChild(We,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":RC(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new ee(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new ee(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new ee(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,ee.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,ee.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ra?-1:0}withIndex(n){if(n===Ji||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Ji||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(We),s=r.getIterator(We),o=i.getNext(),c=s.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=i.getNext(),c=s.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(n){return n===Ji?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Vg=class extends ve{constructor(){super(new Dt(pm),ve.EMPTY_NODE,ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ve.EMPTY_NODE}isEmpty(){return!1}},ra=new Vg;Object.defineProperties(ee,{MIN:{value:new ee(Xi,ve.EMPTY_NODE)},MAX:{value:new ee(Hr,ra)}});Qu.__EMPTY_NODE=ve.EMPTY_NODE;ts.__childrenNodeConstructor=ve;KF(ra);YF(ra);var JF=!0;function Ge(t,e=null){if(t===null)return ve.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new ts(n,Ge(e))}if(!(t instanceof Array)&&JF){let n=[],r=!1;if(St(t,(o,c)=>{if(o.substring(0,1)!=="."){let u=Ge(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new ee(o,u)))}}),n.length===0)return ve.EMPTY_NODE;let s=Yu(n,WF,o=>o.name,pm);if(r){let o=Yu(n,We.getCompare());return new ve(s,Ge(e),new ns({".priority":o},{".priority":We}))}else return new ve(s,Ge(e),ns.Default)}else{let n=ve.EMPTY_NODE;return St(t,(r,i)=>{if(Yt(t,r)&&r.substring(0,1)!=="."){let s=Ge(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ge(e))}}QF(Ge);var Ug=class extends es{constructor(e){super(),this.indexPath_=e,N(!K(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?os(e.name,n.name):s}makePost(e,n){let r=Ge(e),i=ve.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){let e=ve.EMPTY_NODE.updateChild(this.indexPath_,ra);return new ee(Hr,e)}toString(){return QC(this.indexPath_,0).join("/")}};var jg=class extends es{compare(e,n){let r=e.node.compareTo(n.node);return r===0?os(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){let r=Ge(e);return new ee(n,r)}toString(){return".value"}},XF=new jg;function eL(t){return{type:"value",snapshotNode:t}}function tL(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function nL(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function dC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function rL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Bg=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=We}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xi}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===We}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function hC(t){let e={};if(t.isDefault())return e;let n;if(t.index_===We?n="$priority":t.index_===XF?n="$value":t.index_===Ji?n="$key":(N(t.index_ instanceof Ug,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=xe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=xe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+xe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=xe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function fC(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==We&&(e.i=t.index_.toString()),e}var $g=class t extends Gu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ta("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),c={};this.listens_[o]=c;let u=hC(e._queryParams);this.restRequest_(s+".json",u,(l,f)=>{let p=f;if(l===404&&(p=null,l=null),l===null&&this.onDataUpdate_(s,p,!1,r),Rr(this.listens_,o)===c){let y;l?l===401?y="permission_denied":y="rest_error:"+l:y="ok",i(y,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=hC(e._queryParams),r=e._path.toString(),i=new Sr;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xr(n);this.log_("Sending REST request for "+o);let c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=Vi(c.responseText)}catch{mt("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&mt("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}};var Hg=class{constructor(){this.rootNode_=ve.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Zu(){return{value:null,children:new Map}}function r0(t,e,n){if(K(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=X(e);t.children.has(r)||t.children.set(r,Zu());let i=t.children.get(r);e=ye(e),r0(i,e,n)}}function qg(t,e,n){t.value!==null?n(e,t.value):iL(t,(r,i)=>{let s=new pe(e.toString()+"/"+r);qg(i,s,n)})}function iL(t,e){t.children.forEach((n,r)=>{e(r,n)})}var zg=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&St(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var pC=10*1e3,sL=30*1e3,oL=5*60*1e3,Gg=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zg(e);let r=pC+(sL-pC)*Math.random();Wo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;St(e,(i,s)=>{s>0&&Yt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Wo(this.reportStats_.bind(this),Math.floor(Math.random()*2*oL))}};var Dn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Dn||{});function i0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function s0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function o0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Wg=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Dn.ACK_USER_WRITE,this.source=i0()}operationForChild(e){if(K(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new pe(e));return new t(le(),n,this.revert)}}else return N(X(this.path)===e,"operationForChild called for unrelated child."),new t(ye(this.path),this.affectedTree,this.revert)}};var rs=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Dn.OVERWRITE}operationForChild(e){return K(this.path)?new t(this.source,le(),this.snap.getImmediateChild(e)):new t(this.source,ye(this.path),this.snap)}};var Ju=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Dn.MERGE}operationForChild(e){if(K(this.path)){let n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new rs(this.source,le(),n.value):new t(this.source,le(),n)}else return N(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Zo=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;let n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function aL(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(rL(o.childName,o.snapshotNode))}),Go(t,i,"child_removed",e,r,n),Go(t,i,"child_added",e,r,n),Go(t,i,"child_moved",s,r,n),Go(t,i,"child_changed",e,r,n),Go(t,i,"value",e,r,n),i}function Go(t,e,n,r,i,s){let o=r.filter(c=>c.type===n);o.sort((c,u)=>uL(t,c,u)),o.forEach(c=>{let u=cL(t,c,s);i.forEach(l=>{l.respondsTo(c.type)&&e.push(l.createEvent(u,t.query_))})})}function cL(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function uL(t,e,n){if(e.childName==null||n.childName==null)throw Ar("Should only compare child_ events.");let r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function a0(t,e){return{eventCache:t,serverCache:e}}function Qo(t,e,n,r){return a0(new Zo(e,n,r),t.serverCache)}function c0(t,e,n,r){return a0(t.eventCache,new Zo(e,n,r))}function Kg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var yg,lL=()=>(yg||(yg=new Dt(lF)),yg),st=class t{constructor(e,n=lL()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return St(e,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(K(e))return null;{let r=X(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(ye(e),n);return s!=null?{path:Me(new pe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{let n=X(e),r=this.children.get(n);return r!==null?r.subtree(ye(e)):new t(null)}}set(e,n){if(K(e))return new t(n,this.children);{let r=X(e),s=(this.children.get(r)||new t(null)).set(ye(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(K(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=X(e),r=this.children.get(n);if(r){let i=r.remove(ye(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(K(e))return this.value;{let n=X(e),r=this.children.get(n);return r?r.get(ye(e)):null}}setTree(e,n){if(K(e))return n;{let r=X(e),s=(this.children.get(r)||new t(null)).setTree(ye(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(le(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Me(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,le(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(K(e))return null;{let s=X(e),o=this.children.get(s);return o?o.findOnPath_(ye(e),Me(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,le(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);let i=X(e),s=this.children.get(i);return s?s.foreachOnPath_(ye(e),Me(n,i),r):new t(null)}}foreach(e){this.foreach_(le(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Me(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var $t=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new st(null))}};function Yo(t,e,n){if(K(e))return new $t(new st(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=bt(i,e);return s=s.updateChild(o,n),new $t(t.writeTree_.set(i,s))}else{let i=new st(n),s=t.writeTree_.setTree(e,i);return new $t(s)}}}function gC(t,e,n){let r=t;return St(n,(i,s)=>{r=Yo(r,Me(e,i),s)}),r}function mC(t,e){if(K(e))return $t.empty();{let n=t.writeTree_.setTree(e,new st(null));return new $t(n)}}function Qg(t,e){return zr(t,e)!=null}function zr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(bt(n.path,e)):null}function yC(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(We,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ee(r,i.value))}),e}function ir(t,e){if(K(e))return t;{let n=zr(t,e);return n!=null?new $t(new st(n)):new $t(t.writeTree_.subtree(e))}}function Yg(t){return t.writeTree_.isEmpty()}function is(t,e){return u0(le(),t.writeTree_,e)}function u0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=u0(Me(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Me(t,".priority"),r)),n}}function l0(t,e){return g0(e,t)}function dL(t,e,n,r,i){N(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Yo(t.visibleWrites,e,n)),t.lastWriteId=r}function hL(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function fL(t,e){let n=t.allWrites.findIndex(c=>c.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let c=t.allWrites[o];c.visible&&(o>=n&&pL(c,r.path)?i=!1:Bt(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return gL(t),!0;if(r.snap)t.visibleWrites=mC(t.visibleWrites,r.path);else{let c=r.children;St(c,u=>{t.visibleWrites=mC(t.visibleWrites,Me(r.path,u))})}return!0}else return!1}function pL(t,e){if(t.snap)return Bt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Bt(Me(t.path,n),e))return!0;return!1}function gL(t){t.visibleWrites=d0(t.allWrites,mL,le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function mL(t){return t.visible}function d0(t,e,n){let r=$t.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,c;if(s.snap)Bt(n,o)?(c=bt(n,o),r=Yo(r,c,s.snap)):Bt(o,n)&&(c=bt(o,n),r=Yo(r,le(),s.snap.getChild(c)));else if(s.children){if(Bt(n,o))c=bt(n,o),r=gC(r,c,s.children);else if(Bt(o,n))if(c=bt(o,n),K(c))r=gC(r,le(),s.children);else{let u=Rr(s.children,X(c));if(u){let l=u.getChild(ye(c));r=Yo(r,le(),l)}}}else throw Ar("WriteRecord should have .snap or .children")}}return r}function h0(t,e,n,r,i){if(!r&&!i){let s=zr(t.visibleWrites,e);if(s!=null)return s;{let o=ir(t.visibleWrites,e);if(Yg(o))return n;if(n==null&&!Qg(o,le()))return null;{let c=n||ve.EMPTY_NODE;return is(o,c)}}}else{let s=ir(t.visibleWrites,e);if(!i&&Yg(s))return n;if(!i&&n==null&&!Qg(s,le()))return null;{let o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Bt(l.path,e)||Bt(e,l.path))},c=d0(t.allWrites,o,e),u=n||ve.EMPTY_NODE;return is(c,u)}}}function yL(t,e,n){let r=ve.EMPTY_NODE,i=zr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(We,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=ir(t.visibleWrites,e);return n.forEachChild(We,(o,c)=>{let u=is(ir(s,new pe(o)),c);r=r.updateImmediateChild(o,u)}),yC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=ir(t.visibleWrites,e);return yC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function _L(t,e,n,r,i){N(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Me(e,n);if(Qg(t.visibleWrites,s))return null;{let o=ir(t.visibleWrites,s);return Yg(o)?i.getChild(n):is(o,i.getChild(n))}}function vL(t,e,n,r){let i=Me(e,n),s=zr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=ir(t.visibleWrites,i);return is(o,r.getNode().getImmediateChild(n))}else return null}function wL(t,e){return zr(t.visibleWrites,e)}function IL(t,e,n,r,i,s,o){let c,u=ir(t.visibleWrites,e),l=zr(u,le());if(l!=null)c=l;else if(n!=null)c=is(u,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){let f=[],p=o.getCompare(),y=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o),b=y.getNext();for(;b&&f.length<i;)p(b,r)!==0&&f.push(b),b=y.getNext();return f}else return[]}function EL(){return{visibleWrites:$t.empty(),allWrites:[],lastWriteId:-1}}function Zg(t,e,n,r){return h0(t.writeTree,t.treePath,e,n,r)}function f0(t,e){return yL(t.writeTree,t.treePath,e)}function _C(t,e,n,r){return _L(t.writeTree,t.treePath,e,n,r)}function Xu(t,e){return wL(t.writeTree,Me(t.treePath,e))}function TL(t,e,n,r,i,s){return IL(t.writeTree,t.treePath,e,n,r,i,s)}function gm(t,e,n){return vL(t.writeTree,t.treePath,e,n)}function p0(t,e){return g0(Me(t.treePath,e),t.writeTree)}function g0(t,e){return{treePath:t,writeTree:e}}var Jg=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,dC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,nL(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,tL(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,dC(r,e.snapshotNode,i.oldSnap));else throw Ar("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Xg=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},m0=new Xg,Jo=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Zo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gm(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qr(this.viewCache_),s=TL(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function CL(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function bL(t,e,n,r,i){let s=new Jg,o,c;if(n.type===Dn.OVERWRITE){let l=n;l.source.fromUser?o=em(t,e,l.path,l.snap,r,i,s):(N(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered()&&!K(l.path),o=el(t,e,l.path,l.snap,r,i,c,s))}else if(n.type===Dn.MERGE){let l=n;l.source.fromUser?o=SL(t,e,l.path,l.children,r,i,s):(N(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.serverCache.isFiltered(),o=tm(t,e,l.path,l.children,r,i,c,s))}else if(n.type===Dn.ACK_USER_WRITE){let l=n;l.revert?o=NL(t,e,l.path,r,i,s):o=AL(t,e,l.path,l.affectedTree,r,i,s)}else if(n.type===Dn.LISTEN_COMPLETE)o=RL(t,e,n.path,r,s);else throw Ar("Unknown operation type: "+n.type);let u=s.getChanges();return DL(e,o,u),{viewCache:o,changes:u}}function DL(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Kg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(eL(Kg(e)))}}function y0(t,e,n,r,i,s){let o=e.eventCache;if(Xu(r,n)!=null)return e;{let c,u;if(K(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=qr(e),f=l instanceof ve?l:ve.EMPTY_NODE,p=f0(r,f);c=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{let l=Zg(r,qr(e));c=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{let l=X(n);if(l===".priority"){N(sr(n)===1,"Can't have a priority with additional path components");let f=o.getNode();u=e.serverCache.getNode();let p=_C(r,n,f,u);p!=null?c=t.filter.updatePriority(f,p):c=o.getNode()}else{let f=ye(n),p;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();let y=_C(r,n,o.getNode(),u);y!=null?p=o.getNode().getImmediateChild(l).updateChild(f,y):p=o.getNode().getImmediateChild(l)}else p=gm(r,l,e.serverCache);p!=null?c=t.filter.updateChild(o.getNode(),l,p,f,i,s):c=o.getNode()}}return Qo(e,c,o.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function el(t,e,n,r,i,s,o,c){let u=e.serverCache,l,f=o?t.filter:t.filter.getIndexedFilter();if(K(n))l=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){let b=u.getNode().updateChild(n,r);l=f.updateFullNode(u.getNode(),b,null)}else{let b=X(n);if(!u.isCompleteForPath(n)&&sr(n)>1)return e;let A=ye(n),P=u.getNode().getImmediateChild(b).updateChild(A,r);b===".priority"?l=f.updatePriority(u.getNode(),P):l=f.updateChild(u.getNode(),b,P,A,m0,null)}let p=c0(e,l,u.isFullyInitialized()||K(n),f.filtersNodes()),y=new Jo(i,p,s);return y0(t,p,n,i,y,c)}function em(t,e,n,r,i,s,o){let c=e.eventCache,u,l,f=new Jo(i,e,s);if(K(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Qo(e,l,!0,t.filter.filtersNodes());else{let p=X(n);if(p===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),u=Qo(e,l,c.isFullyInitialized(),c.isFiltered());else{let y=ye(n),b=c.getNode().getImmediateChild(p),A;if(K(y))A=r;else{let x=f.getCompleteChild(p);x!=null?KC(y)===".priority"&&x.getChild(YC(y)).isEmpty()?A=x:A=x.updateChild(y,r):A=ve.EMPTY_NODE}if(b.equals(A))u=e;else{let x=t.filter.updateChild(c.getNode(),p,A,y,f,o);u=Qo(e,x,c.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function vC(t,e){return t.eventCache.isCompleteForChild(e)}function SL(t,e,n,r,i,s,o){let c=e;return r.foreach((u,l)=>{let f=Me(n,u);vC(e,X(f))&&(c=em(t,c,f,l,i,s,o))}),r.foreach((u,l)=>{let f=Me(n,u);vC(e,X(f))||(c=em(t,c,f,l,i,s,o))}),c}function wC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function tm(t,e,n,r,i,s,o,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,l;K(n)?l=r:l=new st(null).setTree(n,r);let f=e.serverCache.getNode();return l.children.inorderTraversal((p,y)=>{if(f.hasChild(p)){let b=e.serverCache.getNode().getImmediateChild(p),A=wC(t,b,y);u=el(t,u,new pe(p),A,i,s,o,c)}}),l.children.inorderTraversal((p,y)=>{let b=!e.serverCache.isCompleteForChild(p)&&y.value===null;if(!f.hasChild(p)&&!b){let A=e.serverCache.getNode().getImmediateChild(p),x=wC(t,A,y);u=el(t,u,new pe(p),x,i,s,o,c)}}),u}function AL(t,e,n,r,i,s,o){if(Xu(i,n)!=null)return e;let c=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(K(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return el(t,e,n,u.getNode().getChild(n),i,s,c,o);if(K(n)){let l=new st(null);return u.getNode().forEachChild(Ji,(f,p)=>{l=l.set(new pe(f),p)}),tm(t,e,n,l,i,s,c,o)}else return e}else{let l=new st(null);return r.foreach((f,p)=>{let y=Me(n,f);u.isCompleteForPath(y)&&(l=l.set(f,u.getNode().getChild(y)))}),tm(t,e,n,l,i,s,c,o)}}function RL(t,e,n,r,i){let s=e.serverCache,o=c0(e,s.getNode(),s.isFullyInitialized()||K(n),s.isFiltered());return y0(t,o,n,r,m0,i)}function NL(t,e,n,r,i,s){let o;if(Xu(r,n)!=null)return e;{let c=new Jo(r,e,i),u=e.eventCache.getNode(),l;if(K(n)||X(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Zg(r,qr(e));else{let p=e.serverCache.getNode();N(p instanceof ve,"serverChildren would be complete if leaf node"),f=f0(r,p)}f=f,l=t.filter.updateFullNode(u,f,s)}else{let f=X(n),p=gm(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),p!=null?l=t.filter.updateChild(u,f,p,ye(n),c,s):e.eventCache.getNode().hasChild(f)?l=t.filter.updateChild(u,f,ve.EMPTY_NODE,ye(n),c,s):l=u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Zg(r,qr(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||Xu(r,le())!=null,Qo(e,l,o,t.filter.filtersNodes())}}function xL(t,e){let n=qr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function IC(t,e,n,r){e.type===Dn.MERGE&&e.source.queryId!==null&&(N(qr(t.viewCache_),"We should always have a full cache before handling merges"),N(Kg(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=bL(t.processor_,i,e,n,r);return CL(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,PL(t,s.changes,s.viewCache.eventCache.getNode(),null)}function PL(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return aL(t.eventGenerator_,e,n,i)}var EC;function ML(t){N(!EC,"__referenceConstructor has already been defined"),EC=t}function mm(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return N(s!=null,"SyncTree gave us an op for an invalid query."),IC(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(IC(o,e,n,r));return s}}function ym(t,e){let n=null;for(let r of t.views.values())n=n||xL(r,e);return n}var TC;function kL(t){N(!TC,"__referenceConstructor has already been defined"),TC=t}var tl=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new st(null),this.pendingWriteTree_=EL(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function OL(t,e,n,r,i){return dL(t.pendingWriteTree_,e,n,r,i),i?rl(t,new rs(i0(),e,n)):[]}function Yi(t,e,n=!1){let r=hL(t.pendingWriteTree_,e);if(fL(t.pendingWriteTree_,e)){let s=new st(null);return r.snap!=null?s=s.set(le(),!0):St(r.children,o=>{s=s.set(new pe(o),!0)}),rl(t,new Wg(r.path,s,n))}else return[]}function nl(t,e,n){return rl(t,new rs(s0(),e,n))}function FL(t,e,n){let r=st.fromObject(n);return rl(t,new Ju(s0(),e,r))}function LL(t,e,n,r){let i=I0(t,r);if(i!=null){let s=E0(i),o=s.path,c=s.queryId,u=bt(o,e),l=new rs(o0(c),u,n);return T0(t,o,l)}else return[]}function VL(t,e,n,r){let i=I0(t,r);if(i){let s=E0(i),o=s.path,c=s.queryId,u=bt(o,e),l=st.fromObject(n),f=new Ju(o0(c),u,l);return T0(t,o,f)}else return[]}function _0(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,c)=>{let u=bt(o,e),l=ym(c,u);if(l)return l});return h0(i,e,s,n,!0)}function rl(t,e){return v0(e,t.syncPointTree_,null,l0(t.pendingWriteTree_,le()))}function v0(t,e,n,r){if(K(t.path))return w0(t,e,n,r);{let i=e.get(le());n==null&&i!=null&&(n=ym(i,le()));let s=[],o=X(t.path),c=t.operationForChild(o),u=e.children.get(o);if(u&&c){let l=n?n.getImmediateChild(o):null,f=p0(r,o);s=s.concat(v0(c,u,l,f))}return i&&(s=s.concat(mm(i,t,r,n))),s}}function w0(t,e,n,r){let i=e.get(le());n==null&&i!=null&&(n=ym(i,le()));let s=[];return e.children.inorderTraversal((o,c)=>{let u=n?n.getImmediateChild(o):null,l=p0(r,o),f=t.operationForChild(o);f&&(s=s.concat(w0(f,c,u,l)))}),i&&(s=s.concat(mm(i,t,r,n))),s}function I0(t,e){return t.tagToQueryMap.get(e)}function E0(t){let e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function T0(t,e,n){let r=t.syncPointTree_.get(e);N(r,"Missing sync point for query tag that we're tracking");let i=l0(t.pendingWriteTree_,e);return mm(r,n,i,null)}var nm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},rm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Me(this.path_,e);return new t(this.syncTree_,n)}node(){return _0(this.syncTree_,this.path_)}},UL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},CC=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return jL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return BL(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},jL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},BL=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&N(!1,"Unexpected increment value: "+r);let i=e.node();if(N(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},$L=function(t,e,n,r){return _m(e,new rm(n,t),r)},HL=function(t,e,n){return _m(t,new nm(e),n)};function _m(t,e,n){let r=t.getPriority().val(),i=CC(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,c=CC(o.getValue(),e,n);return c!==o.getValue()||i!==o.getPriority().val()?new ts(c,Ge(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ts(i))),o.forEachChild(We,(c,u)=>{let l=_m(u,e.getImmediateChild(c),n);l!==u&&(s=s.updateImmediateChild(c,l))}),s}}var Xo=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function vm(t,e){let n=e instanceof pe?e:new pe(e),r=t,i=X(n);for(;i!==null;){let s=Rr(r.node.children,i)||{children:{},childCount:0};r=new Xo(i,r,s),n=ye(n),i=X(n)}return r}function as(t){return t.node.value}function C0(t,e){t.node.value=e,im(t)}function b0(t){return t.node.childCount>0}function qL(t){return as(t)===void 0&&!b0(t)}function il(t,e){St(t.node.children,(n,r)=>{e(new Xo(n,t,r))})}function D0(t,e,n,r){n&&!r&&e(t),il(t,i=>{D0(i,e,!0,r)}),n&&r&&e(t)}function zL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ia(t){return new pe(t.parent===null?t.name:ia(t.parent)+"/"+t.name)}function im(t){t.parent!==null&&GL(t.parent,t.name,t)}function GL(t,e,n){let r=qL(n),i=Yt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,im(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,im(t))}var WL=/[\[\].#$\/\u0000-\u001F\u007F]/,KL=/[\[\].#$\u0000-\u001F\u007F]/,_g=10*1024*1024,S0=function(t){return typeof t=="string"&&t.length!==0&&!WL.test(t)},QL=function(t){return typeof t=="string"&&t.length!==0&&!KL.test(t)},YL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),QL(t)};var A0=function(t,e,n){let r=n instanceof pe?new Pg(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jr(r));if(typeof e=="function")throw new Error(t+"contains a function "+jr(r)+" with contents = "+e.toString());if(NC(e))throw new Error(t+"contains "+e.toString()+" "+jr(r));if(typeof e=="string"&&e.length>_g/3&&Ao(e)>_g)throw new Error(t+"contains a string greater than "+_g+" utf8 bytes "+jr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(St(e,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!S0(o)))throw new Error(t+" contains an invalid key ("+o+") "+jr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);BF(r,o),A0(t,c,r),$F(r)}),i&&s)throw new Error(t+' contains ".value" child '+jr(r)+" in addition to actual children.")}};var ZL=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!S0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!YL(n))throw new Error(mE(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var sm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function JL(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!ZC(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Gr(t,e,n){JL(t,n),XL(t,r=>Bt(r,e)||Bt(e,r))}function XL(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(e2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function e2(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();$r&&ze("event: "+n.toString()),na(r)}}}var t2="repo_interrupt",n2=25,om=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zu(),this.transactionQueueTree_=new Xo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function r2(t,e,n){if(t.stats_=hm(t.repoInfo_),t.forceRestClient_||mF())t.server_=new $g(t.repoInfo_,(r,i,s,o)=>{bC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>DC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new fm(t.repoInfo_,e,(r,i,s,o)=>{bC(t,r,i,s,o)},r=>{DC(t,r)},r=>{s2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=_F(t.repoInfo_,()=>new Gg(t.stats_,t.server_)),t.infoData_=new Hg,t.infoSyncTree_=new tl({startListening:(r,i,s,o)=>{let c=[],u=t.infoData_.getNode(r._path);return u.isEmpty()||(c=nl(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),wm(t,"connected",!1),t.serverSyncTree_=new tl({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(c,u)=>{let l=o(c,u);Gr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function i2(t){let n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function R0(t){return UL({timestamp:i2(t)})}function bC(t,e,n,r,i){t.dataUpdateCount++;let s=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let u=So(n,l=>Ge(l));o=VL(t.serverSyncTree_,s,u,i)}else{let u=Ge(n);o=LL(t.serverSyncTree_,s,u,i)}else if(r){let u=So(n,l=>Ge(l));o=FL(t.serverSyncTree_,s,u)}else{let u=Ge(n);o=nl(t.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=Em(t,s)),Gr(t.eventQueue_,c,o)}function DC(t,e){wm(t,"connected",e),e===!1&&a2(t)}function s2(t,e){St(e,(n,r)=>{wm(t,n,r)})}function wm(t,e,n){let r=new pe("/.info/"+e),i=Ge(n);t.infoData_.updateSnapshot(r,i);let s=nl(t.infoSyncTree_,r,i);Gr(t.eventQueue_,r,s)}function o2(t){return t.nextWriteId_++}function a2(t){N0(t,"onDisconnectEvents");let e=R0(t),n=Zu();qg(t.onDisconnect_,le(),(i,s)=>{let o=$L(i,s,t.serverSyncTree_,e);r0(n,i,o)});let r=[];qg(n,le(),(i,s)=>{r=r.concat(nl(t.serverSyncTree_,i,s));let o=d2(t,i);Em(t,o)}),t.onDisconnect_=Zu(),Gr(t.eventQueue_,le(),r)}function c2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(t2)}function N0(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ze(n,...e)}function x0(t,e,n){return _0(t.serverSyncTree_,e,n)||ve.EMPTY_NODE}function Im(t,e=t.transactionQueueTree_){if(e||sl(t,e),as(e)){let n=M0(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&u2(t,ia(e),n)}else b0(e)&&il(e,n=>{Im(t,n)})}function u2(t,e,n){let r=n.map(l=>l.currentWriteId),i=x0(t,e,r),s=i,o=i.hash();for(let l=0;l<n.length;l++){let f=n[l];N(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;let p=bt(e,f.path);s=s.updateChild(p,f.currentOutputSnapshotRaw)}let c=s.val(!0),u=e;t.server_.put(u.toString(),c,l=>{N0(t,"transaction put response",{path:u.toString(),status:l});let f=[];if(l==="ok"){let p=[];for(let y=0;y<n.length;y++)n[y].status=2,f=f.concat(Yi(t.serverSyncTree_,n[y].currentWriteId)),n[y].onComplete&&p.push(()=>n[y].onComplete(null,!0,n[y].currentOutputSnapshotResolved)),n[y].unwatcher();sl(t,vm(t.transactionQueueTree_,e)),Im(t,t.transactionQueueTree_),Gr(t.eventQueue_,e,f);for(let y=0;y<p.length;y++)na(p[y])}else{if(l==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{mt("transaction at "+u.toString()+" failed: "+l);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=l}Em(t,e)}},o)}function Em(t,e){let n=P0(t,e),r=ia(n),i=M0(t,n);return l2(t,i,r),r}function l2(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){let u=e[c],l=bt(n,u.path),f=!1,p;if(N(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,p=u.abortReason,i=i.concat(Yi(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=n2)f=!0,p="maxretry",i=i.concat(Yi(t.serverSyncTree_,u.currentWriteId,!0));else{let y=x0(t,u.path,o);u.currentInputSnapshot=y;let b=e[c].update(y.val());if(b!==void 0){A0("transaction failed: Data returned ",b,u.path);let A=Ge(b);typeof b=="object"&&b!=null&&Yt(b,".priority")||(A=A.updatePriority(y.getPriority()));let P=u.currentWriteId,B=R0(t),ge=HL(A,y,B);u.currentOutputSnapshotRaw=A,u.currentOutputSnapshotResolved=ge,u.currentWriteId=o2(t),o.splice(o.indexOf(P),1),i=i.concat(OL(t.serverSyncTree_,u.path,ge,u.currentWriteId,u.applyLocally)),i=i.concat(Yi(t.serverSyncTree_,P,!0))}else f=!0,p="nodata",i=i.concat(Yi(t.serverSyncTree_,u.currentWriteId,!0))}Gr(t.eventQueue_,n,i),i=[],f&&(e[c].status=2,function(y){setTimeout(y,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(p==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(p),!1,null))))}sl(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)na(r[c]);Im(t,t.transactionQueueTree_)}function P0(t,e){let n,r=t.transactionQueueTree_;for(n=X(e);n!==null&&as(r)===void 0;)r=vm(r,n),e=ye(e),n=X(e);return r}function M0(t,e){let n=[];return k0(t,e,n),n.sort((r,i)=>r.order-i.order),n}function k0(t,e,n){let r=as(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);il(e,i=>{k0(t,i,n)})}function sl(t,e){let n=as(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,C0(e,n.length>0?n:void 0)}il(e,r=>{sl(t,r)})}function d2(t,e){let n=ia(P0(t,e)),r=vm(t.transactionQueueTree_,e);return zL(r,i=>{vg(t,i)}),vg(t,r),D0(r,i=>{vg(t,i)}),n}function vg(t,e){let n=as(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Yi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?C0(e,void 0):n.length=s+1,Gr(t.eventQueue_,ia(e),i);for(let o=0;o<r.length;o++)na(r[o])}}function h2(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function f2(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):mt(`Invalid query segment '${n}' in query '${t}'`)}return e}var SC=function(t,e){let n=p2(t),r=n.namespace;n.domain==="firebase.com"&&Sn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Sn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||cF();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new pe(n.pathString)}},p2=function(t){let e="",n="",r="",i="",s="",o=!0,c="https",u=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=h2(t.substring(f,p)));let y=f2(t.substring(Math.min(t.length,p)));l=e.indexOf(":"),l>=0?(o=c==="https"||c==="wss",u=parseInt(e.substring(l+1),10)):l=e.length;let b=e.slice(0,l);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{let A=e.indexOf(".");r=e.substring(0,A).toLowerCase(),n=e.substring(A+1),s=r}"ns"in y&&(s=y.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};var am=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:KC(this._path)}get ref(){return new ss(this._repo,this._path)}get _queryIdentifier(){let e=fC(this._queryParams),n=dm(e);return n==="{}"?"default":n}get _queryObject(){return fC(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=ZC(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+jF(this._path)}};var ss=class t extends am{constructor(e,n){super(e,n,new Bg,!1)}get parent(){let e=YC(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};ML(ss);kL(ss);var g2="FIREBASE_DATABASE_EMULATOR_HOST",cm={},m2=!1;function y2(t,e,n,r){t.repoInfo_=new qu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function _2(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Sn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ze("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=SC(s,i),c=o.repoInfo,u,l;typeof process<"u"&&process.env&&(l=process.env[g2]),l?(u=!0,s=`http://${l}?ns=${c.namespace}`,o=SC(s,i),c=o.repoInfo):u=!o.repoInfo.secure;let f=i&&u?new Ko(Ko.OWNER):new bg(t.name,t.options,e);ZL("Invalid Firebase Database URL",o),K(o.path)||Sn("Database URL must point to the root of a Firebase Database (not including a child path).");let p=w2(c,t,f,new Cg(t.name,n));return new um(p,t)}function v2(t,e){let n=cm[e];(!n||n[t.key]!==t)&&Sn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),c2(t),delete n[t.key]}function w2(t,e,n,r){let i=cm[e.name];i||(i={},cm[e.name]=i);let s=i[t.toURLString()];return s&&Sn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new om(t,m2,n,r),i[t.toURLString()]=s,s}var um=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(r2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ss(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(v2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Sn("Cannot call "+e+" on a deleted database.")}};function O0(t=Xt(),e){let n=vn(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Ui("database");r&&F0(n,...r)}return n}function F0(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Sn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Sn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ko(Ko.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:ji(r.mockUserToken,t.app.options.projectId);s=new Ko(o)}y2(i,e,n,s)}function I2(t){sF(Ct),Tt(new qe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return _2(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ce(QT,YT,t),ce(QT,YT,"esm2017")}fm.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fm.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};I2();var sa=class{constructor(e){return e}},L0="database",Tm=class{constructor(){return In(L0)}};var Cm=new V("angularfire2.database-instances");function E2(t,e){let n=Jn(L0,t,e);return n&&new sa(n)}function T2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new sa(r)}}var C2={provide:Tm,deps:[[new _e,Cm]]},b2={provide:sa,useFactory:E2,deps:[[new _e,Cm],pt]};function V0(t,...e){return ce("angularfire",Vt.full,"rtdb"),nt([b2,C2,{provide:Cm,useFactory:T2(t),multi:!0,deps:[se,Je,tn,Ut,[new _e,Cn],[new _e,en],...e]}])}var U0=nn(O0,!0);var z0="firebasestorage.googleapis.com",D2="storageBucket",S2=2*60*1e3,A2=10*60*1e3;var an=class t extends et{constructor(e,n,r=0){super(bm(e),`Firebase Storage: ${n} (${bm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Rn=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Rn||{});function bm(t){return"storage/"+t}function R2(){let t="An unknown error occurred, please check the error payload for server response.";return new an(Rn.UNKNOWN,t)}function N2(){return new an(Rn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x2(){return new an(Rn.CANCELED,"User canceled the upload/download.")}function P2(t){return new an(Rn.INVALID_URL,"Invalid URL '"+t+"'.")}function M2(t){return new an(Rn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function j0(t){return new an(Rn.INVALID_ARGUMENT,t)}function G0(){return new an(Rn.APP_DELETED,"The Firebase app was deleted.")}function k2(t){return new an(Rn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var An=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw M2(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(ue){ue.path_=decodeURIComponent(ue.path)}let f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",b=new RegExp(`^https?://${p}/${f}/b/${i}/o${y}`,"i"),A={bucket:1,path:3},x=n===z0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",B=new RegExp(`^https?://${x}/${i}/${P}`,"i"),W=[{regex:c,indices:u,postModify:s},{regex:b,indices:A,postModify:l},{regex:B,indices:{bucket:1,path:2},postModify:l}];for(let ue=0;ue<W.length;ue++){let ke=W[ue],de=ke.regex.exec(e);if(de){let I=de[ke.indices.bucket],m=de[ke.indices.path];m||(m=""),r=new t(I,m),ke.postModify(r);break}}if(r==null)throw P2(e);return r}},Dm=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function O2(t,e,n){let r=1,i=null,s=null,o=!1,c=0;function u(){return c===2}let l=!1;function f(...P){l||(l=!0,e.apply(null,P))}function p(P){i=setTimeout(()=>{i=null,t(b,u())},P)}function y(){s&&clearTimeout(s)}function b(P,...B){if(l){y();return}if(P){y(),f.call(null,P,...B);return}if(u()||o){y(),f.call(null,P,...B);return}r<64&&(r*=2);let W;c===1?(c=2,W=0):W=(r+Math.random())*1e3,p(W)}let A=!1;function x(P){A||(A=!0,y(),!l&&(i!==null?(P||(c=2),clearTimeout(i),p(0)):P||(c=1)))}return p(0),s=setTimeout(()=>{o=!0,x(!0)},n),x}function F2(t){t(!1)}function L2(t){return t!==void 0}function B0(t,e,n,r){if(r<e)throw j0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw j0(`Invalid value for '${t}'. Expected ${n} or less.`)}function V2(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Sm=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Sm||{});function U2(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var Am=class{constructor(e,n,r,i,s,o,c,u,l,f,p,y=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,A)=>{this.resolve_=b,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new cs(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=c=>{let u=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let c=s.getErrorCode()===Sm.NO_ERROR,u=s.getStatus();if(!c||U2(u,this.additionalRetryCodes_)&&this.retry){let f=s.getErrorCode()===Sm.ABORT;r(!1,new cs(!1,null,f));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new cs(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(c,c.getResponse());L2(u)?s(u):s()}catch(u){o(u)}else if(c!==null){let u=R2();u.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,u)):o(u)}else if(i.canceled){let u=this.appDelete_?G0():x2();o(u)}else{let u=N2();o(u)}};this.canceled_?n(!1,new cs(!1,null,!0)):this.backoffId_=O2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&F2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},cs=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function j2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function H2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function q2(t,e,n,r,i,s,o=!0){let c=V2(t.urlParams),u=t.url+c,l=Object.assign({},t.headers);return $2(l,e),j2(l,n),B2(l,s),H2(l,r),new Am(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function z2(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function G2(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var Lq=256*1024;var Rm=class t{constructor(e,n){this._service=e,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return G2(this._location.path)}get storage(){return this._service}get parent(){let e=z2(this._location.path);if(e===null)return null;let n=new An(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw k2(e)}};function $0(t,e){let n=e?.[D2];return n==null?null:An.makeFromBucketSpec(n,t)}function W2(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ji(i,t.app.options.projectId))}var Nm=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=z0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=S2,this._maxUploadRetryTime=A2,this._requests=new Set,i!=null?this._bucket=An.makeFromBucketSpec(i,this._host):this._bucket=$0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=$0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){B0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){B0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return S(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return S(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rm(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Dm(G0());{let o=q2(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return S(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},H0="@firebase/storage",q0="0.12.5";var W0="storage";function K0(t=Xt(),e){t=ft(t);let r=vn(t,W0).getImmediate({identifier:e}),i=Ui("storage");return i&&Q0(r,...i),r}function Q0(t,e,n,r={}){W2(t,e,n,r)}function K2(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Nm(n,r,i,e,Ct)}function Q2(){Tt(new qe(W0,K2,"PUBLIC").setMultipleInstances(!0)),ce(H0,q0,""),ce(H0,q0,"esm2017")}Q2();var oa=class{constructor(e){return e}},Y0="storage",xm=class{constructor(){return In(Y0)}};var Pm=new V("angularfire2.storage-instances");function Y2(t,e){let n=Jn(Y0,t,e);return n&&new oa(n)}function Z2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new oa(r)}}var J2={provide:xm,deps:[[new _e,Pm]]},X2={provide:oa,useFactory:Y2,deps:[[new _e,Pm],pt]};function Z0(t,...e){return ce("angularfire",Vt.full,"gcs"),nt([X2,J2,{provide:Pm,useFactory:Z2(t),multi:!0,deps:[se,Je,tn,Ut,[new _e,Cn],[new _e,en],...e]}])}var J0=nn(K0,!0);var X0={providers:[rE(iE),PE(()=>ME({projectId:"clinica-rotelagustavo",appId:"1:368654481859:web:2d0795fa0fc7ac5d2be576",storageBucket:"clinica-rotelagustavo.appspot.com",apiKey:"AIzaSyAZ6Y7M9HwMJ2J7h7TBMgVzYJt6JSIzA1U",authDomain:"clinica-rotelagustavo.firebaseapp.com",messagingSenderId:"368654481859"})),ET(()=>TT()),WT(()=>KT()),V0(()=>U0()),Z0(()=>J0())]};var eV=(t,e)=>e.title,tV=()=>({title:"Explore the Docs",link:"https://angular.dev"}),nV=()=>({title:"Learn with Tutorials",link:"https://angular.dev/tutorials"}),rV=()=>({title:"CLI Docs",link:"https://angular.dev/tools/cli"}),iV=()=>({title:"Angular Language Service",link:"https://angular.dev/tools/language-service"}),sV=()=>({title:"Angular DevTools",link:"https://angular.dev/tools/devtools"}),oV=(t,e,n,r,i)=>[t,e,n,r,i];function aV(t,e){if(t&1&&(Se(0,"a",21)(1,"span"),Lc(2),Xe(),Di(),Se(3,"svg",32),rt(4,"path",33),Xe()()),t&2){let n=e.$implicit;Oh("href",n.link,hw),Nc(2),Fh(n.title)}}var eb=(()=>{let e=class e{constructor(){this.title="clinica-rotelagustavo"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=wc({type:e,selectors:[["app-root"]],standalone:!0,features:[Uc],decls:39,vars:12,consts:[[1,"main"],[1,"content"],[1,"left-side"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 982 239","fill","none",1,"angular-logo"],["clip-path","url(#a)"],["fill","url(#b)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["fill","url(#c)","d","M388.676 191.625h30.849L363.31 31.828h-35.758l-56.215 159.797h30.848l13.174-39.356h60.061l13.256 39.356Zm-65.461-62.675 21.602-64.311h1.227l21.602 64.311h-44.431Zm126.831-7.527v70.202h-28.23V71.839h27.002v20.374h1.392c2.782-6.71 7.2-12.028 13.255-15.956 6.056-3.927 13.584-5.89 22.503-5.89 8.264 0 15.465 1.8 21.684 5.318 6.137 3.518 10.964 8.673 14.319 15.382 3.437 6.71 5.074 14.81 4.992 24.383v76.175h-28.23v-71.92c0-8.019-2.046-14.237-6.219-18.819-4.173-4.5-9.819-6.791-17.102-6.791-4.91 0-9.328 1.063-13.174 3.272-3.846 2.128-6.792 5.237-9.001 9.328-2.046 4.009-3.191 8.918-3.191 14.728ZM589.233 239c-10.147 0-18.82-1.391-26.103-4.091-7.282-2.7-13.092-6.382-17.511-10.964-4.418-4.582-7.528-9.655-9.164-15.219l25.448-6.136c1.145 2.372 2.782 4.663 4.991 6.954 2.209 2.291 5.155 4.255 8.837 5.81 3.683 1.554 8.428 2.291 14.074 2.291 8.019 0 14.647-1.964 19.884-5.81 5.237-3.845 7.856-10.227 7.856-19.064v-22.665h-1.391c-1.473 2.946-3.601 5.892-6.383 9.001-2.782 3.109-6.464 5.645-10.965 7.691-4.582 2.046-10.228 3.109-17.101 3.109-9.165 0-17.511-2.209-25.039-6.545-7.446-4.337-13.42-10.883-17.757-19.474-4.418-8.673-6.628-19.473-6.628-32.565 0-13.091 2.21-24.301 6.628-33.383 4.419-9.082 10.311-15.955 17.839-20.7 7.528-4.746 15.874-7.037 25.039-7.037 7.037 0 12.846 1.145 17.347 3.518 4.582 2.373 8.182 5.236 10.883 8.51 2.7 3.272 4.746 6.382 6.137 9.327h1.554v-19.8h27.821v121.749c0 10.228-2.454 18.737-7.364 25.447-4.91 6.709-11.538 11.7-20.048 15.055-8.509 3.355-18.165 4.991-28.884 4.991Zm.245-71.266c5.974 0 11.047-1.473 15.302-4.337 4.173-2.945 7.446-7.118 9.573-12.519 2.21-5.482 3.274-12.027 3.274-19.637 0-7.609-1.064-14.155-3.274-19.8-2.127-5.646-5.318-10.064-9.491-13.255-4.174-3.11-9.329-4.746-15.384-4.746s-11.537 1.636-15.792 4.91c-4.173 3.272-7.365 7.772-9.492 13.418-2.128 5.727-3.191 12.191-3.191 19.392 0 7.2 1.063 13.745 3.273 19.228 2.127 5.482 5.318 9.736 9.573 12.764 4.174 3.027 9.41 4.582 15.629 4.582Zm141.56-26.51V71.839h28.23v119.786h-27.412v-21.273h-1.227c-2.7 6.709-7.119 12.191-13.338 16.446-6.137 4.255-13.747 6.382-22.748 6.382-7.855 0-14.81-1.718-20.783-5.237-5.974-3.518-10.72-8.591-14.075-15.382-3.355-6.709-5.073-14.891-5.073-24.464V71.839h28.312v71.921c0 7.609 2.046 13.664 6.219 18.083 4.173 4.5 9.655 6.709 16.365 6.709 4.173 0 8.183-.982 12.111-3.028 3.927-2.045 7.118-5.072 9.655-9.082 2.537-4.091 3.764-9.164 3.764-15.218Zm65.707-109.395v159.796h-28.23V31.828h28.23Zm44.841 162.169c-7.61 0-14.402-1.391-20.457-4.091-6.055-2.7-10.883-6.791-14.32-12.109-3.518-5.319-5.237-11.946-5.237-19.801 0-6.791 1.228-12.355 3.765-16.773 2.536-4.419 5.891-7.937 10.228-10.637 4.337-2.618 9.164-4.664 14.647-6.055 5.4-1.391 11.046-2.373 16.856-3.027 7.037-.737 12.683-1.391 17.102-1.964 4.337-.573 7.528-1.555 9.574-2.782 1.963-1.309 3.027-3.273 3.027-5.973v-.491c0-5.891-1.718-10.391-5.237-13.664-3.518-3.191-8.51-4.828-15.056-4.828-6.955 0-12.356 1.473-16.447 4.5-4.009 3.028-6.71 6.546-8.183 10.719l-26.348-3.764c2.046-7.282 5.483-13.336 10.31-18.328 4.746-4.909 10.638-8.59 17.511-11.045 6.955-2.455 14.565-3.682 22.912-3.682 5.809 0 11.537.654 17.265 2.045s10.965 3.6 15.711 6.71c4.746 3.109 8.51 7.282 11.455 12.6 2.864 5.318 4.337 11.946 4.337 19.883v80.184h-27.166v-16.446h-.9c-1.719 3.355-4.092 6.464-7.201 9.328-3.109 2.864-6.955 5.237-11.619 6.955-4.828 1.718-10.229 2.536-16.529 2.536Zm7.364-20.701c5.646 0 10.556-1.145 14.729-3.354 4.173-2.291 7.364-5.237 9.655-9.001 2.292-3.763 3.355-7.854 3.355-12.273v-14.155c-.9.737-2.373 1.391-4.5 2.046-2.128.654-4.419 1.145-7.037 1.636-2.619.491-5.155.9-7.692 1.227-2.537.328-4.746.655-6.628.901-4.173.572-8.019 1.472-11.292 2.781-3.355 1.31-5.973 3.11-7.855 5.401-1.964 2.291-2.864 5.318-2.864 8.918 0 5.237 1.882 9.164 5.728 11.782 3.682 2.782 8.51 4.091 14.401 4.091Zm64.643 18.328V71.839h27.412v19.965h1.227c2.21-6.955 5.974-12.274 11.292-16.038 5.319-3.763 11.456-5.645 18.329-5.645 1.555 0 3.355.082 5.237.163 1.964.164 3.601.328 4.91.573v25.938c-1.227-.41-3.109-.819-5.646-1.146a58.814 58.814 0 0 0-7.446-.49c-5.155 0-9.738 1.145-13.829 3.354-4.091 2.209-7.282 5.236-9.655 9.164-2.373 3.927-3.519 8.427-3.519 13.5v70.448h-28.312ZM222.077 39.192l-8.019 125.923L137.387 0l84.69 39.192Zm-53.105 162.825-57.933 33.056-57.934-33.056 11.783-28.556h92.301l11.783 28.556ZM111.039 62.675l30.357 73.803H80.681l30.358-73.803ZM7.937 165.115 0 39.192 84.69 0 7.937 165.115Z"],["id","c","cx","0","cy","0","r","1","gradientTransform","rotate(118.122 171.182 60.81) scale(205.794)","gradientUnits","userSpaceOnUse"],["stop-color","#FF41F8"],["offset",".707","stop-color","#FF41F8","stop-opacity",".5"],["offset","1","stop-color","#FF41F8","stop-opacity","0"],["id","b","x1","0","x2","982","y1","192","y2","192","gradientUnits","userSpaceOnUse"],["stop-color","#F0060B"],["offset","0","stop-color","#F0070C"],["offset",".526","stop-color","#CC26D5"],["offset","1","stop-color","#7702FF"],["id","a"],["fill","#fff","d","M0 0h982v239H0z"],["role","separator","aria-label","Divider",1,"divider"],[1,"right-side"],[1,"pill-group"],["target","_blank","rel","noopener",1,"pill",3,"href"],[1,"social-links"],["href","https://github.com/angular/angular","aria-label","Github","target","_blank","rel","noopener"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Github"],["d","M12.3047 0C5.50634 0 0 5.50942 0 12.3047C0 17.7423 3.52529 22.3535 8.41332 23.9787C9.02856 24.0946 9.25414 23.7142 9.25414 23.3871C9.25414 23.0949 9.24389 22.3207 9.23876 21.2953C5.81601 22.0377 5.09414 19.6444 5.09414 19.6444C4.53427 18.2243 3.72524 17.8449 3.72524 17.8449C2.61064 17.082 3.81137 17.0973 3.81137 17.0973C5.04697 17.1835 5.69604 18.3647 5.69604 18.3647C6.79321 20.2463 8.57636 19.7029 9.27978 19.3881C9.39052 18.5924 9.70736 18.0499 10.0591 17.7423C7.32641 17.4347 4.45429 16.3765 4.45429 11.6618C4.45429 10.3185 4.9311 9.22133 5.72065 8.36C5.58222 8.04931 5.16694 6.79833 5.82831 5.10337C5.82831 5.10337 6.85883 4.77319 9.2121 6.36459C10.1965 6.09082 11.2424 5.95546 12.2883 5.94931C13.3342 5.95546 14.3801 6.09082 15.3644 6.36459C17.7023 4.77319 18.7328 5.10337 18.7328 5.10337C19.3942 6.79833 18.9789 8.04931 18.8559 8.36C19.6403 9.22133 20.1171 10.3185 20.1171 11.6618C20.1171 16.3888 17.2409 17.4296 14.5031 17.7321C14.9338 18.1012 15.3337 18.8559 15.3337 20.0084C15.3337 21.6552 15.3183 22.978 15.3183 23.3779C15.3183 23.7009 15.5336 24.0854 16.1642 23.9623C21.0871 22.3484 24.6094 17.7341 24.6094 12.3047C24.6094 5.50942 19.0999 0 12.3047 0Z"],["href","https://twitter.com/angular","aria-label","Twitter","target","_blank","rel","noopener"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Twitter"],["d","M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"],["href","https://www.youtube.com/channel/UCbn1OgGei-DV7aSRo_HaAiw","aria-label","Youtube","target","_blank","rel","noopener"],["width","29","height","20","viewBox","0 0 29 20","fill","none","xmlns","http://www.w3.org/2000/svg","alt","Youtube"],["fill-rule","evenodd","clip-rule","evenodd","d","M27.4896 1.52422C27.9301 1.96749 28.2463 2.51866 28.4068 3.12258C29.0004 5.35161 29.0004 10 29.0004 10C29.0004 10 29.0004 14.6484 28.4068 16.8774C28.2463 17.4813 27.9301 18.0325 27.4896 18.4758C27.0492 18.9191 26.5 19.2389 25.8972 19.4032C23.6778 20 14.8068 20 14.8068 20C14.8068 20 5.93586 20 3.71651 19.4032C3.11363 19.2389 2.56449 18.9191 2.12405 18.4758C1.68361 18.0325 1.36732 17.4813 1.20683 16.8774C0.613281 14.6484 0.613281 10 0.613281 10C0.613281 10 0.613281 5.35161 1.20683 3.12258C1.36732 2.51866 1.68361 1.96749 2.12405 1.52422C2.56449 1.08095 3.11363 0.76113 3.71651 0.596774C5.93586 0 14.8068 0 14.8068 0C14.8068 0 23.6778 0 25.8972 0.596774C26.5 0.76113 27.0492 1.08095 27.4896 1.52422ZM19.3229 10L11.9036 5.77905V14.221L19.3229 10Z"],["xmlns","http://www.w3.org/2000/svg","height","14","viewBox","0 -960 960 960","width","14","fill","currentColor"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h560v-280h80v280q0 33-23.5 56.5T760-120H200Zm188-212-56-56 372-372H560v-80h280v280h-80v-144L388-332Z"]],template:function(i,s){i&1&&(Se(0,"main",0)(1,"div",1)(2,"div",2),Di(),Se(3,"svg",3)(4,"g",4),rt(5,"path",5)(6,"path",6),Xe(),Se(7,"defs")(8,"radialGradient",7),rt(9,"stop",8)(10,"stop",9)(11,"stop",10),Xe(),Se(12,"linearGradient",11),rt(13,"stop",12)(14,"stop",13)(15,"stop",14)(16,"stop",15),Xe(),Se(17,"clipPath",16),rt(18,"path",17),Xe()()(),Qs(),Se(19,"h1"),Lc(20),Xe(),Se(21,"p"),Lc(22,"Congratulations! Your app is running. \u{1F389}"),Xe()(),rt(23,"div",18),Se(24,"div",19)(25,"div",20),Gw(26,aV,5,2,"a",21,eV),Xe(),Se(28,"div",22)(29,"a",23),Di(),Se(30,"svg",24),rt(31,"path",25),Xe()(),Qs(),Se(32,"a",26),Di(),Se(33,"svg",27),rt(34,"path",28),Xe()(),Qs(),Se(35,"a",29),Di(),Se(36,"svg",30),rt(37,"path",31),Xe()()()()()(),Qs(),rt(38,"router-outlet")),i&2&&(Nc(20),Vc("Hello, ",s.title,""),Nc(6),Ww(Kw(6,oV,Si(1,tV),Si(2,nV),Si(3,rV),Si(4,iV),Si(5,sV))))},dependencies:[Rf],styles:[`[_nghost-%COMP%] {
    --bright-blue: oklch(51.01% 0.274 263.83);
    --electric-violet: oklch(53.18% 0.28 296.97);
    --french-violet: oklch(47.66% 0.246 305.88);
    --vivid-pink: oklch(69.02% 0.277 332.77);
    --hot-red: oklch(61.42% 0.238 15.34);
    --orange-red: oklch(63.32% 0.24 31.68);

    --gray-900: oklch(19.37% 0.006 300.98);
    --gray-700: oklch(36.98% 0.014 302.71);
    --gray-400: oklch(70.9% 0.015 304.04);

    --red-to-pink-to-purple-vertical-gradient: linear-gradient(
      180deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --red-to-pink-to-purple-horizontal-gradient: linear-gradient(
      90deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --pill-accent: var(--bright-blue);

    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1[_ngcontent-%COMP%] {
    font-size: 3.125rem;
    color: var(--gray-900);
    font-weight: 500;
    line-height: 100%;
    letter-spacing: -0.125rem;
    margin: 0;
    font-family: "Inter Tight", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
  }

  p[_ngcontent-%COMP%] {
    margin: 0;
    color: var(--gray-700);
  }

  main[_ngcontent-%COMP%] {
    width: 100%;
    min-height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    box-sizing: inherit;
    position: relative;
  }

  .angular-logo[_ngcontent-%COMP%] {
    max-width: 9.2rem;
  }

  .content[_ngcontent-%COMP%] {
    display: flex;
    justify-content: space-around;
    width: 100%;
    max-width: 700px;
    margin-bottom: 3rem;
  }

  .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {
    margin-top: 1.75rem;
  }

  .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {
    margin-top: 1.5rem;
  }

  .divider[_ngcontent-%COMP%] {
    width: 1px;
    background: var(--red-to-pink-to-purple-vertical-gradient);
    margin-inline: 0.5rem;
  }

  .pill-group[_ngcontent-%COMP%] {
    display: flex;
    flex-direction: column;
    align-items: start;
    flex-wrap: wrap;
    gap: 1.25rem;
  }

  .pill[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    --pill-accent: var(--bright-blue);
    background: color-mix(in srgb, var(--pill-accent) 5%, transparent);
    color: var(--pill-accent);
    padding-inline: 0.75rem;
    padding-block: 0.375rem;
    border-radius: 2.75rem;
    border: 0;
    transition: background 0.3s ease;
    font-family: var(--inter-font);
    font-size: 0.875rem;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4rem;
    letter-spacing: -0.00875rem;
    text-decoration: none;
  }

  .pill[_ngcontent-%COMP%]:hover {
    background: color-mix(in srgb, var(--pill-accent) 15%, transparent);
  }

  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 1) {
    --pill-accent: var(--bright-blue);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 2) {
    --pill-accent: var(--french-violet);
  }
  .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n + 5) {
    --pill-accent: var(--hot-red);
  }

  .pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {
    margin-inline-start: 0.25rem;
  }

  .social-links[_ngcontent-%COMP%] {
    display: flex;
    align-items: center;
    gap: 0.73rem;
    margin-top: 1.5rem;
  }

  .social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    transition: fill 0.3s ease;
    fill: var(--gray-400);
  }

  .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {
    fill: var(--gray-900);
  }

  @media screen and (max-width: 650px) {
    .content[_ngcontent-%COMP%] {
      flex-direction: column;
      width: max-content;
    }

    .divider[_ngcontent-%COMP%] {
      height: 1px;
      width: 100%;
      background: var(--red-to-pink-to-purple-horizontal-gradient);
      margin-block: 1.5rem;
    }
  }`]});let t=e;return t})();II(eb,X0).catch(t=>console.error(t));
